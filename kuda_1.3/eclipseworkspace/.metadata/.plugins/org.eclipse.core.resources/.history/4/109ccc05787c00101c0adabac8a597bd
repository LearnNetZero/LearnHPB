


/**
 * @namespace A module for managing the 2D GUI
 */
var lgb = (function(lgb) {


	/**
	 * @namespace A module for managing the 2D GUI
	 */
	lgb.view = lgb.view || {};


	lgb.view.AdminPanel = function(){
		

	
	};
	
	lgb.view.AdminPanel.prototype = {
	
		injectHtml : function(){

			this.injectMainPanel();
			this.injectSubPanel('animation', 'Animation');
		
		},
		
		injectMainPanel : function() {
			var el = $('body');
			var htmlBoilerplate = '<div id="adminPanel" class="panel">\n' +
							'\t<h3>Admin</h3>\n' +
							'\t<div class="box">\n' +
								'\t\t</div>\n' +
							'\t</div>\n';
			
			el.append(htmlBoilerplate);
			
			$('#adminPanel').panel({
				'collapseType':'slide-right',
                'stackable':false,
                'collapsed':true
			});
		},
		injectSubPanel : function(name, title) {
			
			var selector = '#{0}'.format(name);
			var group = 'group_{0}'.format(name);
			
			el = $('div.box');
			var html = '<div id="{0}" class="panel {1}">\n'.format(name, group) +
							'\t<h3>{0}</h3>\n'.format(title) +
							'\t<div>\n' +
								'\t\t<a id="animationStart" href="#">animationStart</a> <br />\n' +
								'\t\t<a id="animationStop" href="#">animationStop</a> <br />\n' +
							'\t</div>\n' +
						'</div>';
			
			el.append(html);
			
	        $(selector).panel({
	            accordion:group
	        });
			
			var delegate = $.proxy(this.onLinkClick, this);
			
			$('#animationStart').click({newState:'START'},delegate);
			$('#animationStop').click({newState:'STOP'},delegate);
			
		},
		
		onLinkClick : function(event) {
			
			var newEvent = jQuery.Event('ANIMATION_STATE_CHANGE');
			newEvent.newState = event.data.newState;

			$(this).trigger(newEvent);
		}
		

	};

	
	return lgb;
	
})(lgb || {});











