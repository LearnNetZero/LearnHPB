
<!DOCTYPE html>
<html>
	<head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        
	<link rel="stylesheet" href="css/stylz.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="css/gui.css" type="text/css" media="screen" />
    
        <title>4thFloorHvac with HTML 5</title>
        <script type="text/javascript" src="../../js/lib/jquery.js"></script>
        <script type="text/javascript" src="../../js/lib/jshashtable.js"></script>
		<script type="text/javascript" src="../../js/o3d-webgl/base.js"></script>
        <script type="text/javascript" src="../../js/o3djs/base.js"></script>
        <script type="text/javascript" src="../../js/hemi/core.js"></script>
        <script type="text/javascript" src="../../js/superb/Hud.class.js"></script>
        <script type="text/javascript" src="../../js/superb/floating-1.6.js"></script>
        <script type="text/javascript" src="gui.js"></script>
        <script type="text/javascript" src="loader.js"></script>


        <script type="text/javascript">
        
			var latestResizeWidth = 0;
			var latestResizeHeight = 0;
			
			function onWorldSetup() {
				//setCanvasSize();
				
				//var leftNav = document.getElementById("leftnav");
				//leftNav.style.left='-40px';
				
				floatingMenu.add('leftNav', {targetLeft: -63, targetBottom: 90, snap: true });
				floatingMenu.add('topTitle', {centerX:true, targetTop: -41, snap: true });
				
				floatingMenu.init();
				floatingArray[0].targetLeft=0;
				floatingArray[1].targetTop=0;
				
				document.onkeypress = returnKey;

			}
			
			function returnKey(evt)
			{
				var evt  = (evt) ? evt : ((event) ? event : null);
			 
				
				
				if (evt.keyCode == 13) 
				{
					var vd = new hemi.view.ViewData();
					vd.eye = [16.6,25.3,-23.6];
					
					hemi.world.camera.moveToView(vd,40);
					
				}
			}
			
			
       			 
			function onResize(event) {

				if ((latestResizeWidth == window.innerWidth) && (latestResizeHeight == window.innerHeight)) {
					return;
				}
				
				latestResizeWidth = window.innerWidth;
				latestResizeHeight = window.innerHeight;
				
				setCanvasSize();
			}
			

			
			function setCanvasSize() {
				var theO3d = document.getElementById("o3d");
				theO3d.style.width= (window.innerWidth ) + 'px';
				theO3d.style.height= (window.innerHeight ) + 'px';
			}	
			
			
			jQuery(window).load(function() {
                var oTop = document.documentElement.scrollTop;  
                document.documentElement.scroll = "no";  
                document.documentElement.style.overflow = "hidden";  
                document.documentElement.scrollTop = oTop;  
				setCanvasSize();
				o3djs.webgl.makeClients(init);
				
			});

		    
		    
			jQuery(window).unload(function() {
				if (hemi.core.client) {
					hemi.core.client.cleanup();
				}
			});
		    
			
			function preload(images) {
			    if (document.images) {
			        var i = 0;
			        var imageArray = new Array();
			        imageArray = images.split(',');
			        
			        var imageObj = new Image();
			        for(i=0; i<=imageArray.length-1; i++) {
			        	var src = 'images/' + images[i];
			        	
			            document.write('<img src="' + src + '" />');// Write to page (uncomment to check images)
			            imageObj.src=src;
			        }
			    }
			}
			
			preload('image1.jpg,image2.jpg,image3.jpg');
			
        </script>
        

        
    </head>
    
    <body onResize="onResize();"> 
    

	<div id="o3d"></div>
	
	<div id="topTitle"></div>
	
	<div id="leftNav">
		<a id="leftNavButtonGeneral" class="leftNavButton" title="General" onClick="leftNavClick(0);" href="#"></a>
		<a id="leftNavButtonHvac" class="leftNavButton" title="HVAC" href="#"></a>
		<a id="leftNavButtonEnvelope" class="leftNavButton" title="External Envelope" href="#"></a>
		<a id="leftNavButtonLighting" class="leftNavButton" title="Lighting" href="#"></a>
	</div>


    </body>
</html>