//o3djs.require('lgb.animation');

/**
 * @namespace MVC controller for the project
 */
var sceneController = (function(sceneController) {


	/**
	 * @namespace MVC controller for the project
	 */
	sceneController = sceneController || {};
	
	
	sceneController.init = function(controller){
		jQuery(document).ready(this.onDocumentReady);	
		jQuery(window).resize(this.onWindowResize);
		
		sceneController.progressbar = null; // the progress bar that we display
	}
	
	sceneController.onDocumentReady = function(event) {
	
		progressbar = new lgb.progressBar.Progressbar();	
		progressbar.init("Loading Geometry");
		progressbar.show();
			
		var left = window.innerWidth / 2 + 100;
		
		var backg = document.getElementById("progressbarBackground");
		backg.style.left=left + 'px';
			
		
		lgb.core.init();
		lgb.loader.init(this);
		
		lgb.gui.setCanvasSize();
		
		//	var delegateProgress = jQuery.proxy(this.onProgress, this);
		//	var delegateComplete = jQuery.proxy(this.onSceneLoaded, this);
		
		lgb.loader.loadScene(onSceneLoaded, onProgress);
	}
	
	
	
	return sceneController;
	
})(sceneController || {});



sceneController.init();
