<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>

<title>Superb Demos: Particle Systems</title>

<meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />

	<link rel="stylesheet" href="css/stylz.css" type="text/css" media="screen" />
	<link rel="stylesheet" href="css/progress.css" type="text/css" media="screen" />
    

    <script type="text/javascript" src="lib/jquery.js"></script>
    <script type="text/javascript" src="lib/jshashtable.js"></script>
    <script type="text/javascript" src="lib/JSON.js"></script>
    <script type="text/javascript" src="lib/JSONError.js"></script>
    <script type="text/javascript" src="o3djs/base.js"></script>
    <script type="text/javascript" src="hemi/core.js"></script>
	<script type="text/javascript" src="js/Progressbar.class.js"></script>
    <script type="text/javascript" src="js/particle_systems.js"></script>

  
		<script type="text/javascript">
		
			var progressbar = new Progressbar();
			var hasReached100 = false;
			var hascompleted = false;
			var hvacLoader = new HVACloader();
			
			
			//var timer = new Timer('#page#');
			
			function onLoadHandler() {
				progressbar.init("Loading Geometry");

				window.setTimeout('loadNow()',200);
			}
			
			function onProgress(arg) {
			   // console.log('onProgress: ' + arg.data.percent);

				progressbar.onProgress(arg.data.percent);
				//sleep(100);
				
				if (arg.data.percent == 100) {
					hasReached100 = true;
				}
				
				if (arg.data.isTotal == true && hasReached100 && (!hascompleted)) {
					//console.log('arg.data.percent: ' + arg.data.percent);
					//console.log('arg.data.percent: ' + arg.data.percent);
				 //  console.log('isTotal: true');
				   hascompleted = true;
				   
				  progressbar.init("Generating Particle Systems");
				   window.setTimeout('setupParticleSystems1()',200);
				}
			}
			
			
			function onProgress2(percent) {
			    // console.log('onProgress: ' + arg);
			     
				progressbar.onProgress(percent);
				
				if (percent == 100) {
					 resetView();
					 window.setTimeout('progressbar.hide();',200);
					 
				}
			}
			
			
			
			function onLoadComplete() {
			  
			   // setupParticleSystems1();
				return
			}
			
			
			function loadNow() {


		  	    //this is NOT threadblocking
				progressbar.show();
				
				loadWorld(this, onLoadComplete)
				 
			}
			
		</script>
  
</head>

<body onload="onLoadHandler();">

<div id="container">

    <div id="sitename">
      <p><a href="index.html"><img src="superb_logo.png" alt="Superb Demos" width="700" height="44" /></a></p>
    </div>


 
    <div id="wrap">
    
        <div id="leftside">
            <p>
                <a class="nav" href="hotspots.html">3D Hotspots</a>
                <a class="nav" href="move_camera_pov.html">Move Camera Point Of View</a>
                <a class="nav selected" href="particles.html">Particle Systems</a>
                <a class="nav" href="gui_mockup.html">GUI Mockup</a>
            </p>
        </div>
    
        <div id="content"  >
			<ul>
				<li><a href="#" onclick="particleSystemStart();">Start Particle System</a></li>
				<li><a href="#" onclick="vavSystemStart();">Start VAV System</a></li>
				<li><a href="#" onclick="boxSystemStart();">Start Box System</a></li>
				<li><a href="#" onclick="toggleBoxes();">Toggle Bounding Boxes</a></li>
				<li><a href="#" onclick="stopAllSystems();">Stop All Systems</a></li>
			</ul>

        
           <div id="o3d">
           		
                <div id="progressbarBackground">  
                    <div id="progressbar">
                        <div id="progressbarTitle">Loading Geometry</div>
                        <div id="indicator"><div id="progressnum">0</div></div>
                    </div>
                </div>

           </div>

        </div>
    
    </div>
</div>

<div id="footer">&copy; 2011 <a href="http://su-per-b.org">The Institute for the Sustainable Performance of Buildling</a></div>

</body>
</html>
