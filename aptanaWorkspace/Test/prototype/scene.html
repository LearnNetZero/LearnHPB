<!DOCTYPE html>
<html>
  <head>

    <meta charset="UTF-8" />

    <!-- =========================  CSS  ============================ -->

    <link type="text/css" href="../css/lgb-test.css" rel="stylesheet"/>
    
    <!-- =========================   JavaScript  ============================ -->
    <script src="../js/includes/MainLibs.js"></script>
    <script src="../js/includes/ThreeEx.js"></script>

      
    <title>Test Scene</title>
    
    <script>
    
      window.LGB_WEBROOT = "/LearnHPB/";
      test.includes.MainLibs.initStandAloneScene();
      test.includes.ThreeEx.init();

    </script>
    
    <script>
      goog.require('lgb');
      goog.require('lgb.core.EventBus');
      goog.require('lgb.core.Global');
      goog.require('lgb.world.controller.RenderController');
      goog.require('lgb.world.controller.UtilityController');
      goog.require('test.world.controller.SceneController');
    </script>
  

  </head>

  <body id="theBody">
    <div id="webGLcontainerDiv"></div>
  </body>
  

  <script>
  

   
   var mainController = {};
   
   $(document).ready(function () {
     
      var url = $.url(); // parse the current page URL
      var folder = url.param('folder');
      
      var titleAry = folder.split('_');
      titleAry.shift();
      
      var title = titleAry.join(' - ');
      var file = url.param('file');
        
        
      if (null == file) {
        file = 'scene';
      }
      
      file += '.json';
      
      
      lgb.init();
      lgb.globalEventBus = new lgb.core.EventBus();

      mainController.renderController_ = new lgb.world.controller.RenderController();
      mainController.renderController_.init();
      
      var camera = mainController.renderController_.getCamera();
      
      this.trackController_ = new lgb.world.controller.TrackBallController(camera);
      
      this.utilityController_ = new lgb.world.controller.UtilityController();
      
      this.sceneController_ = new test.world.controller.SceneController( folder, file);
      this.sceneController_.init();
        
       $('title').html(title);
        
    });
    
    

    
  </script>
  
</html>