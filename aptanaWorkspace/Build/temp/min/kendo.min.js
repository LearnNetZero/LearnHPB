kendo_module({id:"window",name:"Window",category:"web",description:"The Window widget displays content in a modal or non-modal HTML window.",depends:["draganddrop"]});(function(t,l){var x=window.kendo,b=x.ui.Widget,i=x.ui.Draggable,V=t.isPlainObject,d=x._activeElement,N=t.proxy,g=t.extend,L=t.each,c=x.template,J="body",a,y=".kendoWindow",s=".k-window",R=".k-window-title",u=R+"bar",p=".k-window-content",n=".k-resize-handle",k=".k-overlay",f="k-content-frame",q="k-loading",z="k-state-hover",E="k-state-focused",U=":visible",M="hidden",B="cursor",K="open",h="activate",D="deactivate",Q="close",r="refresh",W="resize",G="dragstart",A="dragend",w="error",F="overflow",e="zIndex",P=".k-window-actions .k-i-minimize,.k-window-actions .k-i-maximize",I=".k-window-titlebar .k-window-action",C=x.isLocalUrl;function H(X){return(typeof X!="undefined")}function O(Z,X,Y){return Math.max(Math.min(Z,Y),X)}function v(Y,X){var Z=Y.children(p);return Z.data("kendoWindow")||Z.data("kendo"+X)}function S(X){return t(s).filter(function(){var Z=t(this),Y=v(Z,X);return Y.options.modal&&Z.is(U)&&Y.options.visible}).sort(function(Z,Y){return +t(Z).css("zIndex")-+t(Y).css("zIndex")})}function m(Y,X){return function(){var ab=this,ac=ab.wrapper,aa=ac[0].style,Z=ab.options;if(Z.isMaximized||Z.isMinimized){return}ab.restoreOptions={width:aa.width,height:aa.height};ac.find(n).hide().end().find(P).parent().hide().eq(0).before(a.action({name:"Restore"}));X.call(ab);return ab}}var j=b.extend({init:function(ab,ah){var ad=this,X,aa,Y,af,ac=false,ae,ag,Z;b.fn.init.call(ad,ab,ah);ah=ad.options;ab=ad.element;ae=ah.content;ad.appendTo=t(ah.appendTo||document.body);ad._animations();if(ae&&!V(ae)){ae=ah.content={url:ae}}ab.find("script").filter(function(){return !this.type||this.type.toLowerCase().indexOf("script")>=0}).remove();if(!ab.parent().is(ad.appendTo)){if(ab.is(U)){aa=ab.offset();ac=true}else{Y=ab.css("visibility");af=ab.css("display");ab.css({visibility:M,display:""});aa=ab.offset();ab.css({visibility:Y,display:af})}}if(!H(ah.visible)||ah.visible===null){ah.visible=ab.is(U)}X=ad.wrapper=ab.closest(s);if(!ab.is(".k-content")||!X[0]){ab.addClass("k-window-content k-content");ad._createWindow(ab,ah);X=ad.wrapper=ab.closest(s);ad._dimensions()}if(aa){X.css({top:aa.top,left:aa.left})}if(ae){ad.refresh(ae)}if(ah.visible){ad.toFront()}ag=X.children(p);ad._tabindex(ag);if(ah.visible&&ah.modal){ad._overlay(X.is(U)).css({opacity:0.5})}X.on("mouseenter"+y,I,function(){t(this).addClass(z)}).on("mouseleave"+y,I,function(){t(this).removeClass(z)}).on("click"+y,I,N(ad._windowActionHandler,ad));ag.on("keydown"+y,N(ad._keydown,ad)).on("focus"+y,function(){X.addClass(E)}).on("blur"+y,function(){X.removeClass(E)});if(ah.resizable){X.on("dblclick"+y,u,function(ai){if(!t(ai.target).closest(".k-window-action").length){ad.toggleMaximization()}return this});L("n e s w se sw ne nw".split(" "),function(ai,aj){X.append(a.resizeHandle(aj))});ad.resizing=new T(ad)}if(ah.draggable){ad.dragging=new o(ad)}Z=ab.attr("id");if(Z){Z=Z+"_wnd_title";X.find(u).children(R).attr("id",Z);ag.attr({role:"dialog","aria-labelledby":Z})}X.add(X.find(".k-resize-handle,.k-window-titlebar")).on("mousedown"+y,N(ad.toFront,ad));ad.touchScroller=x.touchScroller(ab);ad._resizeHandler=function(ai){return ad._onDocumentResize(ai)};t(window).on("resize",ad._resizeHandler);if(ah.visible){ad.trigger(K);ad.trigger(h)}x.notify(ad)},_dimensions:function(){var Z=this,aa=Z.wrapper,Y=Z.element,X=Z.options;Z.title(X.title);L(["minWidth","minHeight","maxWidth","maxHeight"],function(ab,ad){var ac=X[ad];if(ac&&ac!=Infinity){Y.css(ad,ac)}});if(X.width){aa.width(O(parseInt(X.width,10),X.minWidth,X.maxWidth))}if(X.height){aa.height(O(parseInt(X.height,10),X.minHeight,X.maxHeight))}if(!X.visible){aa.hide()}},_animations:function(){var X=this.options;if(X.animation===false){X.animation={open:{effects:{}},close:{hide:true,effects:{}}}}},setOptions:function(X){b.fn.setOptions.call(this,X);this._animations();this._dimensions()},events:[K,h,D,Q,r,W,G,A,w],options:{name:"Window",animation:{open:{effects:{zoom:{direction:"in"},fade:{direction:"in"}},duration:350},close:{effects:{zoom:{direction:"out",properties:{scale:0.7}},fade:{direction:"out"}},duration:350,hide:true}},title:"",actions:["Close"],modal:false,resizable:true,draggable:true,minWidth:90,minHeight:50,maxWidth:Infinity,maxHeight:Infinity,visible:null,height:null,width:null},_closable:function(){return t.inArray("close",t.map(this.options.actions,function(X){return X.toLowerCase()}))>-1},_keydown:function(af){var ae=this,ai=ae.options,ah=x.keys,ag=af.keyCode,Z=ae.wrapper,ab,ad,Y=10,aa=ae.options.isMaximized,ac,X;if(af.target!=af.currentTarget){return}if(ag==ah.ESC&&ae._closable()){ae._close(true)}if(ai.draggable&&!af.ctrlKey&&!aa){ab=x.getOffset(Z);if(ag==ah.UP){ad=Z.css("top",ab.top-Y)}else{if(ag==ah.DOWN){ad=Z.css("top",ab.top+Y)}else{if(ag==ah.LEFT){ad=Z.css("left",ab.left-Y)}else{if(ag==ah.RIGHT){ad=Z.css("left",ab.left+Y)}}}}}if(ai.resizable&&af.ctrlKey&&!aa){if(ag==ah.UP){ad=true;X=Z.height()-Y}else{if(ag==ah.DOWN){ad=true;X=Z.height()+Y}}if(ag==ah.LEFT){ad=true;ac=Z.width()-Y}else{if(ag==ah.RIGHT){ad=true;ac=Z.width()+Y}}if(ad){Z.css({width:O(ac,ai.minWidth,ai.maxWidth),height:O(X,ai.minHeight,ai.maxHeight)});ae.trigger(W)}}if(ad){af.preventDefault()}},_overlay:function(Y){var X=this.appendTo.children(".k-overlay"),Z=this.wrapper;if(!X.length){X=t("<div class='k-overlay' />")}X.insertBefore(Z[0]).toggle(Y).css(e,parseInt(Z.css(e),10)-1);return X},_windowActionHandler:function(Z){var Y=t(Z.target).closest(".k-window-action").find(".k-icon"),X=this;if(X._closing){return}L({"k-i-close":function(){X._close(true)},"k-i-maximize":X.maximize,"k-i-minimize":X.minimize,"k-i-restore":X.restore,"k-i-refresh":X.refresh},function(aa,ab){if(Y.hasClass(aa)){Z.preventDefault();ab.call(X);return false}})},center:function(){var Y=this.wrapper,X=t(window);Y.css({left:X.scrollLeft()+Math.max(0,(X.width()-Y.width())/2),top:X.scrollTop()+Math.max(0,(X.height()-Y.height())/2)});return this},title:function(ac){var aa=this,ad=aa.wrapper,Y=aa.options,X=ad.find(u),ab=X.children(R),Z=X.outerHeight();if(!arguments.length){return ab.text()}if(ac===false){ad.addClass("k-window-titleless");X.remove()}else{if(!X.length){ad.prepend(a.titlebar(g(a,Y)))}ad.css("padding-top",Z);X.css("margin-top",-Z)}ab.text(ac);return aa},content:function(Y){var Z=this.wrapper.children(p),X=Z.children(".km-scroll-container");Z=X[0]?X:Z;if(!Y){return Z.html()}Z.html(Y);return this},open:function(){var aa=this,ad=aa.wrapper,Y=aa.options,Z=Y.animation.open,ab=ad.children(p),ac=ab.css(F),X;if(!aa.trigger(K)){aa._closing=false;aa.toFront();aa.element.focus();Y.visible=true;if(Y.modal){X=aa._overlay(false);if(Z.duration){X.kendoStop().kendoAnimate({effects:"fade:in",duration:Z.duration})}else{X.css("opacity",0.5).show()}}if(!ad.is(U)){ab.css(F,M);ad.show().kendoStop().kendoAnimate({effects:Z.effects,duration:Z.duration,complete:function(){aa.element.focus();aa.trigger(h);ab.css(F,ac)}})}}if(Y.isMaximized){aa._documentScrollTop=t(document).scrollTop();t("html, body").css(F,M)}return aa},_close:function(Z){var ab=this,X=ab.wrapper,af=ab.options,ae=af.animation.open,ac=af.animation.close,aa,ad,Y;if(X.is(U)&&!ab.trigger(Q,{userTriggered:!!Z})){ab._closing=true;af.visible=false;t(s).each(function(ai,ah){var ag=t(ah),aj=ag.find(p);if(ah!=X&&aj.find("> ."+f).length>0){aj.children(".k-overlay").remove()}});aa=S(af.name);ad=af.modal&&!aa.length;Y=af.modal?ab._overlay(true):t(l);if(ad){if(ac.duration){Y.kendoStop().kendoAnimate({effects:"fade:out",duration:ac.duration,hide:true})}else{Y.hide()}}else{if(aa.length){v(aa.eq(aa.length-1),af.name)._overlay(true)}}X.kendoStop().kendoAnimate({effects:ac.effects||ae.effects,reverse:ac.reverse===true,duration:ac.duration,complete:function(){X.hide();ab.trigger(D)}})}if(ab.options.isMaximized){t("html, body").css(F,"");if(ab._documentScrollTop&&ab._documentScrollTop>0){t(document).scrollTop(ab._documentScrollTop)}}},close:function(){this._close(false);return this},toFront:function(ae){var ac=this,X=ac.wrapper,Z=X[0],ag=+X.css(e),aa=ag,ab=d(),af=ac.element,ad=ae&&ae.target?ae.target:null;t(s).each(function(ak,aj){var ai=t(aj),am=ai.css(e),al=ai.find(p);if(!isNaN(am)){ag=Math.max(+am,ag)}if(aj!=Z&&al.find("> ."+f).length>0){al.append(a.overlay)}});if(ag==10001||aa<ag){X.css(e,ag+2)}ac.element.find("> .k-overlay").remove();if(!t(ab).is(af)&&!t(ad).is(I+","+I+" .k-icon,:input")&&(!af.find(ab).length||!af.find(ad).length)){af.focus();var Y=t(window).scrollTop(),ah=parseInt(ac.wrapper.position().top,10);if(ah>0&&ah-Y<0){if(Y>0){t(window).scrollTop(ah)}else{ac.wrapper.css("top",Y)}}}return ac},toggleMaximization:function(){if(this._closing){return this}return this[this.options.isMaximized?"restore":"maximize"]()},restore:function(){var Y=this,X=Y.options,Z=Y.restoreOptions;if(!X.isMaximized&&!X.isMinimized){return}Y.wrapper.css({position:"absolute",left:Z.left,top:Z.top,width:Z.width,height:Z.height}).find(".k-window-content,.k-resize-handle").show().end().find(".k-window-titlebar .k-i-restore").parent().remove().end().end().find(P).parent().show();t("html, body").css(F,"");if(this._documentScrollTop&&this._documentScrollTop>0){t(document).scrollTop(this._documentScrollTop)}X.isMaximized=X.isMinimized=false;Y.trigger(W);return Y},maximize:m("maximize",function(){var Y=this,Z=Y.wrapper,X=Z.position();g(Y.restoreOptions,{left:X.left,top:X.top});Z.css({left:0,top:0,position:"fixed"});this._documentScrollTop=t(document).scrollTop();t("html, body").css(F,M);Y.options.isMaximized=true;Y._onDocumentResize()}),minimize:m("minimize",function(){var X=this;X.wrapper.css("height","");X.element.hide();X.options.isMinimized=true}),_onDocumentResize:function(){var Y=this,Z=Y.wrapper,X=t(window);if(!Y.options.isMaximized){return}Z.css({width:X.width(),height:X.height()-parseInt(Z.css("padding-top"),10)});Y.trigger(W)},refresh:function(Z){var ad=this,ac=ad.options,aa=t(ad.element),ab,X,Y;if(!V(Z)){Z={url:Z}}Z=g({},ac.content,Z);X=H(ac.iframe)?ac.iframe:Z.iframe;Y=Z.url;if(Y){if(!H(X)){X=!C(Y)}if(!X){ad._ajaxRequest(Z)}else{ab=aa.find("."+f)[0];if(ab){ab.src=Y||ab.src}else{aa.html(a.contentFrame(g({},ac,{content:Z})))}aa.find("."+f).unbind("load"+y).on("load"+y,function(){ad.trigger(r)})}}else{if(Z.template){ad.content(c(Z.template)({}))}ad.trigger(r)}return ad},_ajaxRequest:function(X){var Z=this,aa=X.template,Y=Z.wrapper.find(".k-window-titlebar .k-i-refresh"),ab=setTimeout(function(){Y.addClass(q)},100);t.ajax(g({type:"GET",dataType:"html",cache:false,error:N(function(ad,ac){Z.trigger(w,{status:ac,xhr:ad})},Z),complete:function(){clearTimeout(ab);Y.removeClass(q)},success:N(function(ac){if(aa){ac=c(aa)(ac||{})}Z.content(ac);Z.element.prop("scrollTop",0);Z.trigger(r)},Z)},X))},destroy:function(){var Z=this,Y,X;b.fn.destroy.call(Z);x.destroy(Z.wrapper);if(Z.resizing){Z.resizing.destroy()}if(Z.dragging){Z.dragging.destroy()}Z.element.children("iframe").remove();Z.wrapper.remove().add(Z.wrapper.find(".k-resize-handle,.k-window-titlebar")).off(y);t(window).off("resize",Z._resizeHandler);Y=S();X=Z.options.modal&&!Y.length;if(X){Z._overlay(false).remove()}else{if(Y.length>0){v(Y.eq(Y.length-1),Z.options.name)._overlay(true)}}},_createWindow:function(){var aa=this,ab=aa.element,Z=aa.options,X,ac,Y=x.support.isRtl(ab);if(Z.scrollable===false){ab.attr("style","overflow:hidden;")}ac=t(a.wrapper(Z));if(Z.title!==false){ac.append(a.titlebar(g(a,Z)))}X=ab.find("iframe:not(.k-content)").map(function(){var ad=this.getAttribute("src");this.src="";return ad});ac.toggleClass("k-rtl",Y).appendTo(aa.appendTo).append(ab).find("iframe:not(.k-content)").each(function(ad){this.src=X[ad]});ac.find(".k-window-title").css(Y?"left":"right",ac.find(".k-window-actions").outerWidth()+10);ab.show()}});a={wrapper:c("<div class='k-widget k-window' />"),action:c("<a role='button' href='\\#' class='k-window-action k-link'><span role='presentation' class='k-icon k-i-#= name.toLowerCase() #'>#= name #</span></a>"),titlebar:c("<div class='k-window-titlebar k-header'>&nbsp;<span class='k-window-title'>#= title #</span><div class='k-window-actions'># for (var i = 0; i < actions.length; i++) { ##= action({ name: actions[i] }) ## } #</div></div>"),overlay:"<div class='k-overlay' />",contentFrame:c("<iframe frameborder='0' title='#= title #' class='"+f+"' src='#= content.url #'>This page requires frames in order to show content</iframe>"),resizeHandle:c("<div class='k-resize-handle k-resize-#= data #'></div>")};function T(Y){var X=this;X.owner=Y;X._draggable=new i(Y.wrapper,{filter:n,group:Y.wrapper.id+"-resizing",dragstart:N(X.dragstart,X),drag:N(X.drag,X),dragend:N(X.dragend,X)})}T.prototype={dragstart:function(Z){var Y=this,X=Y.owner,aa=X.wrapper;Y.elementPadding=parseInt(X.wrapper.css("padding-top"),10);Y.initialCursorPosition=x.getOffset(aa,"position");Y.resizeDirection=Z.currentTarget.prop("className").replace("k-resize-handle k-resize-","");Y.initialSize={width:aa.width(),height:aa.height()};Y.containerOffset=x.getOffset(X.appendTo);aa.append(a.overlay).find(n).not(Z.currentTarget).hide();t(J).css(B,Z.currentTarget.css(B))},drag:function(af){var ae=this,aa=ae.owner,Y=aa.wrapper,al=aa.options,ai=ae.resizeDirection,ad=ae.containerOffset,ab=ae.initialCursorPosition,ak=ae.initialSize,ac,X,Z,aj,ah=af.x.location,ag=af.y.location;if(ai.indexOf("e")>=0){ac=ah-ab.left;Y.width(O(ac,al.minWidth,al.maxWidth))}else{if(ai.indexOf("w")>=0){aj=ab.left+ak.width;ac=O(aj-ah,al.minWidth,al.maxWidth);Y.css({left:aj-ac-ad.left,width:ac})}}if(ai.indexOf("s")>=0){X=ag-ab.top-ae.elementPadding;Y.height(O(X,al.minHeight,al.maxHeight))}else{if(ai.indexOf("n")>=0){Z=ab.top+ak.height;X=O(Z-ag,al.minHeight,al.maxHeight);Y.css({top:Z-X-ad.top,height:X})}}aa.trigger(W)},dragend:function(Z){var Y=this,X=Y.owner,aa=X.wrapper;aa.find(k).remove().end().find(n).not(Z.currentTarget).show();t(J).css(B,"");if(X.touchScroller){X.touchScroller.reset()}if(Z.keyCode==27){aa.css(Y.initialCursorPosition).css(Y.initialSize)}return false},destroy:function(){this._draggable.destroy()}};function o(Y){var X=this;X.owner=Y;X._draggable=new i(Y.wrapper,{filter:u,group:Y.wrapper.id+"-moving",dragstart:N(X.dragstart,X),drag:N(X.drag,X),dragend:N(X.dragend,X),dragcancel:N(X.dragcancel,X)})}o.prototype={dragstart:function(aa){var Z=this.owner,X=Z.element,ab=X.find(".k-window-actions"),Y=x.getOffset(Z.appendTo);Z.trigger(G);Z.initialWindowPosition=x.getOffset(Z.wrapper,"position");Z.startPosition={left:aa.x.client-Z.initialWindowPosition.left,top:aa.y.client-Z.initialWindowPosition.top};if(ab.length>0){Z.minLeftPosition=ab.outerWidth()+parseInt(ab.css("right"),10)-X.outerWidth()}else{Z.minLeftPosition=20-X.outerWidth()}Z.minLeftPosition-=Y.left;Z.minTopPosition=-Y.top;Z.wrapper.append(a.overlay).find(n).hide();t(J).css(B,aa.currentTarget.css(B))},drag:function(Y){var X=this.owner,Z={left:Math.max(Y.x.client-X.startPosition.left,X.minLeftPosition),top:Math.max(Y.y.client-X.startPosition.top,X.minTopPosition)};t(X.wrapper).css(Z)},_finishDrag:function(){var X=this.owner;X.wrapper.find(n).toggle(!X.options.isMinimized).end().find(k).remove();t(J).css(B,"")},dragcancel:function(X){this._finishDrag();X.currentTarget.closest(s).css(this.owner.initialWindowPosition)},dragend:function(){this._finishDrag();this.owner.trigger(A);return false},destroy:function(){this._draggable.destroy()}};x.ui.plugin(j)})(window.kendo.jQuery);kendo_module({id:"popup",name:"Pop-up",category:"framework",depends:["core"],advanced:true});(function(t,f){var u=window.kendo,A=u.ui,a=A.Widget,C=u.support,g=u.getOffset,c=u._activeElement,F="open",H="close",D="deactivate",e="activate",p="center",n="left",J="right",v="top",q="bottom",y="absolute",G="hidden",E="body",i="location",B="position",L="visible",k="effects",l="k-state-active",o="k-state-border",b=".k-picker-wrap, .k-dropdown-wrap, .k-link",z="down",j=t(window),K=t(document.documentElement),m="resize scroll",w=C.transitions.css,I=w+"transform",d=t.extend,x=".kendoPopup",s=["font-family","font-size","font-stretch","font-style","font-weight","line-height"];function r(M,N){return M===N||t.contains(M,N)}var h=a.extend({init:function(O,N){var P=this,M;N=N||{};if(N.isRtl){N.origin=N.origin||q+" "+J;N.position=N.position||v+" "+J}a.fn.init.call(P,O,N);O=P.element;N=P.options;P.collisions=N.collision?N.collision.split(" "):[];if(P.collisions.length===1){P.collisions.push(P.collisions[0])}M=t(P.options.anchor).closest(".k-popup,.k-group").filter(":not([class^=km-])");N.appendTo=t(t(N.appendTo)[0]||M[0]||E);P.element.hide().addClass("k-popup k-group k-reset").toggleClass("k-rtl",!!N.isRtl).css({position:y}).appendTo(N.appendTo).on("mouseenter"+x,function(){P._hovered=true}).on("mouseleave"+x,function(){P._hovered=false});P.wrapper=t();if(N.animation===false){N.animation={open:{effects:{}},close:{hide:true,effects:{}}}}d(N.animation.open,{complete:function(){P.wrapper.css({overflow:L});P.trigger(e)}});d(N.animation.close,{complete:function(){P.wrapper.hide();var Q=P.wrapper.data(i),R=t(N.anchor),T,S;if(Q){P.wrapper.css(Q)}if(N.anchor!=E){T=R.hasClass(o+"-down")?"down":"up";S=o+"-"+T;R.removeClass(S).children(b).removeClass(l).removeClass(S);O.removeClass(o+"-"+u.directions[T].reverse)}P._closing=false;P.trigger(D)}});P._mousedownProxy=function(Q){P._mousedown(Q)};P._resizeProxy=function(Q){P._resize(Q)};if(N.toggleTarget){t(N.toggleTarget).on(N.toggleEvent+x,t.proxy(P.toggle,P))}},events:[F,e,H,D],options:{name:"Popup",toggleEvent:"click",origin:q+" "+n,position:v+" "+n,anchor:E,collision:"flip fit",viewport:window,copyAnchorStyles:true,animation:{open:{effects:"slideIn:down",transition:true,duration:200},close:{duration:100,hide:true}}},destroy:function(){var P=this,M=P.options,N=P.element.off(x),O;a.fn.destroy.call(P);if(M.toggleTarget){t(M.toggleTarget).off(x)}K.unbind(z,P._mousedownProxy);j.unbind(m,P._resizeProxy);if(M.appendTo[0]===document.body){O=N.parent(".k-animation-container");if(O[0]){O.remove()}else{N.remove()}}u.destroy(P.element.children())},open:function(V,T){var S=this,P={isFixed:!isNaN(parseInt(T,10)),x:V,y:T},R=S.element,W=S.options,U="down",O,M,Q=t(W.anchor);if(!S.visible()){if(W.copyAnchorStyles){R.css(u.getComputedStyles(Q[0],s))}if(R.data("animating")||S.trigger(F)){return}K.unbind(z,S._mousedownProxy).bind(z,S._mousedownProxy);if(!(C.mobileOS.ios||C.mobileOS.android)){j.unbind(m,S._resizeProxy).bind(m,S._resizeProxy)}S.wrapper=M=u.wrap(R).css({overflow:G,display:"block",position:y});if(C.mobileOS.android){M.add(Q).css(I,"translatez(0)")}M.css(B);if(t(W.appendTo)[0]==document.body){M.css(v,"-10000px")}O=d(true,{},W.animation.open);S.flipped=S._position(P);O.effects=u.parseEffects(O.effects,S.flipped);U=O.effects.slideIn?O.effects.slideIn.direction:U;if(W.anchor!=E){var N=o+"-"+U;R.addClass(o+"-"+u.directions[U].reverse);Q.addClass(N).children(b).addClass(l).addClass(N)}R.data(k,O.effects).kendoStop(true).kendoAnimate(O)}},toggle:function(){var M=this;M[M.visible()?H:F]()},visible:function(){return this.element.is(":"+L)},close:function(){var P=this,N=P.options,O,R,M,Q;if(P.visible()){O=(P.wrapper[0]?P.wrapper:u.wrap(P.element).hide());if(P._closing||P.trigger(H)){return}P.element.find(".k-popup").each(function(){var T=t(this),S=T.data("kendoPopup");if(S){S.close()}});K.unbind(z,P._mousedownProxy);j.unbind(m,P._resizeProxy);R=d(true,{},N.animation.close);M=P.element.data(k);Q=R.effects;if(!Q&&!u.size(Q)&&M&&u.size(M)){R.effects=M;R.reverse=true}P._closing=true;P.element.kendoStop(true);O.css({overflow:G});P.element.kendoAnimate(R)}},_resize:function(N){var M=this;if(N.type==="resize"){clearTimeout(M._resizeTimeout);M._resizeTimeout=setTimeout(function(){M._position();M._resizeTimeout=null},50)}else{if(!M._hovered&&!r(M.element[0],c())){M.close()}}},_mousedown:function(T){var R=this,O=R.element[0],Q=R.options,P=t(Q.anchor)[0],N=Q.toggleTarget,S=u.eventTarget(T),M=t(S).closest(".k-popup")[0];if(M&&M!==R.element[0]){return}if(!r(O,S)&&!r(P,S)&&!(N&&r(t(N)[0],S))){R.close()}},_fit:function(M,P,N){var O=0;if(M+P>N){O=N-(M+P)}if(M<0){O=-M}return O},_flip:function(S,R,O,N,Q,M,T){var P=0;T=T||R;if(M!==Q&&M!==p&&Q!==p){if(S+T>N){P+=-(O+R)}if(S+P<0){P+=O+R}}return P},_position:function(U){var aa=this,P=aa.element.css(B,""),X=aa.wrapper,S=aa.options,ai=t(S.viewport),ah=t(ai).offset(),Z=t(S.anchor),N=S.origin.toLowerCase().split(" "),ab=S.position.toLowerCase().split(" "),T=aa.collisions,ae=C.zoomLevel(),O,aj,Q,ad=10002,ac=0,R;O=Z.parents().filter(X.siblings());if(O[0]){Q=Number(t(O).css("zIndex"));if(Q){ad=Q+1}else{aj=Z.parentsUntil(O);for(R=aj.length;ac<R;ac++){Q=Number(t(aj[ac]).css("zIndex"));if(Q&&ad<Q){ad=Q+1}}}}X.css("zIndex",ad);if(U&&U.isFixed){X.css({left:U.x,top:U.y})}else{X.css(aa._align(N,ab))}var Y=g(X,B,Z[0]===X.offsetParent()[0]),W=g(X),ag=Z.offsetParent().parent(".k-animation-container,.k-popup,.k-group");if(ag.length){Y=g(X,B,true);W=g(X)}if(ai[0]===window){W.top-=(window.pageYOffset||document.documentElement.scrollTop||0);W.left-=(window.pageXOffset||document.documentElement.scrollLeft||0)}else{W.top-=ah.top;W.left-=ah.left}if(!aa.wrapper.data(i)){X.data(i,d({},Y))}var V=d({},W),M=d({},Y);if(T[0]==="fit"){M.top+=aa._fit(V.top,X.outerHeight(),ai.height()/ae)}if(T[1]==="fit"){M.left+=aa._fit(V.left,X.outerWidth(),ai.width()/ae)}var af=d({},M);if(T[0]==="flip"){M.top+=aa._flip(V.top,P.outerHeight(),Z.outerHeight(),ai.height()/ae,N[0],ab[0],X.outerHeight())}if(T[1]==="flip"){M.left+=aa._flip(V.left,P.outerWidth(),Z.outerWidth(),ai.width()/ae,N[1],ab[1],X.outerWidth())}P.css(B,y);X.css(M);return(M.left!=af.left||M.top!=af.top)},_align:function(ad,ae){var S=this,O=S.wrapper,R=t(S.options.anchor),T=ad[0],ac=ad[1],W=ae[0],N=ae[1],X=g(R),Q=t(S.options.appendTo),Z,Y=O.outerWidth(),V=O.outerHeight(),M=R.outerWidth(),ab=R.outerHeight(),U=X.top,P=X.left,aa=Math.round;if(Q[0]!=document.body){Z=g(Q);U-=Z.top;P-=Z.left}if(T===q){U+=ab}if(T===p){U+=aa(ab/2)}if(W===q){U-=V}if(W===p){U-=aa(V/2)}if(ac===J){P+=M}if(ac===p){P+=aa(M/2)}if(N===J){P-=Y}if(N===p){P-=aa(Y/2)}return{top:U,left:P}}});A.plugin(h)})(window.kendo.jQuery);kendo_module({id:"data",name:"Data source",category:"framework",description:"Powerful component for using local and remote data.Fully supports CRUD, Sorting, Paging, Filtering, Grouping, and Aggregates.",depends:["core"],features:[{id:"data-odata",name:"OData",description:"Support for accessing Open Data Protocol (OData) services.",depends:["data.odata"]},{id:"data-XML",name:"XML",description:"Support for binding to XML.",depends:["data.xml"]}]});(function(aw,t){var ah=aw.extend,y=aw.proxy,aA=aw.isFunction,D=aw.isPlainObject,aq=aw.isEmptyObject,b=aw.isArray,m=aw.grep,az=aw.ajax,v,aO=aw.each,au=aw.noop,p=window.kendo,I=p.Observable,aF=p.Class,aI="string",ao="function",ay="create",h="read",aG="update",A="destroy",F="change",K="sync",k="get",E="error",ax="requestStart",at="progress",U="requestEnd",W=[ay,h,aG,A],X=function(aP){return aP},Q=p.getter,ad=p.stringify,R=Math,e=[].push,an=[].join,aD=[].pop,ar=[].splice,aa=[].shift,x=[].slice,aH=[].unshift,ap={}.toString,J=p.support.stableSort,al=/^\/Date\((.*?)\)\/$/,Y=/(\r+|\n+)/g,aB=/(?=['\\])/g;var ac=I.extend({init:function(aR,aP){var aQ=this;aQ.type=aP||Z;I.fn.init.call(aQ);aQ.length=aR.length;aQ.wrapAll(aR,aQ)},toJSON:function(){var aP,aR=this.length,aS,aQ=new Array(aR);for(aP=0;aP<aR;aP++){aS=this[aP];if(aS instanceof Z){aS=aS.toJSON()}aQ[aP]=aS}return aQ},parent:au,wrapAll:function(aT,aU){var aS=this,aP,aR,aQ=function(){return aS};aU=aU||[];for(aP=0,aR=aT.length;aP<aR;aP++){aU[aP]=aS.wrap(aT[aP],aQ)}return aU},wrap:function(aP,aQ){var aR=this,aS;if(aP!==null&&ap.call(aP)==="[object Object]"){aS=aP instanceof aR.type||aP instanceof B;if(!aS){aP=aP instanceof Z?aP.toJSON():aP;aP=new aR.type(aP)}aP.parent=aQ;aP.bind(F,function(aT){aR.trigger(F,{field:aT.field,node:aT.node,index:aT.index,items:aT.items||[this],action:aT.node?(aT.action||"itemchange"):"itemchange"})})}return aP},push:function(){var aR=this.length,aQ=this.wrapAll(arguments),aP;aP=e.apply(this,aQ);this.trigger(F,{action:"add",index:aR,items:aQ});return aP},slice:x,join:an,pop:function(){var aQ=this.length,aP=aD.apply(this);if(aQ){this.trigger(F,{action:"remove",index:aQ-1,items:[aP]})}return aP},splice:function(aS,aU,aV){var aR=this.wrapAll(x.call(arguments,2)),aQ,aT,aP;aQ=ar.apply(this,[aS,aU].concat(aR));if(aQ.length){this.trigger(F,{action:"remove",index:aS,items:aQ});for(aT=0,aP=aQ.length;aT<aP;aT++){if(aQ[aT].children){aQ[aT].unbind(F)}}}if(aV){this.trigger(F,{action:"add",index:aS,items:aR})}return aQ},shift:function(){var aQ=this.length,aP=aa.apply(this);if(aQ){this.trigger(F,{action:"remove",index:0,items:[aP]})}return aP},unshift:function(){var aQ=this.wrapAll(arguments),aP;aP=aH.apply(this,aQ);this.trigger(F,{action:"add",index:0,items:aQ});return aP},indexOf:function(aS){var aR=this,aP,aQ;for(aP=0,aQ=aR.length;aP<aQ;aP++){if(aR[aP]===aS){return aP}}return -1},forEach:function(aR){var aP=0,aQ=this.length;for(;aP<aQ;aP++){aR(this[aP],aP,this)}},map:function(aS){var aQ=0,aP=[],aR=this.length;for(;aQ<aR;aQ++){aP[aQ]=aS(this[aQ],aQ,this)}return aP},filter:function(aT){var aQ=0,aP=[],aS,aR=this.length;for(;aQ<aR;aQ++){aS=this[aQ];if(aT(aS,aQ,this)){aP[aP.length]=aS}}return aP},find:function(aS){var aP=0,aR,aQ=this.length;for(;aP<aQ;aP++){aR=this[aP];if(aS(aR,aP,this)){return aR}}},every:function(aS){var aP=0,aR,aQ=this.length;for(;aP<aQ;aP++){aR=this[aP];if(!aS(aR,aP,this)){return false}}return true},some:function(aS){var aP=0,aR,aQ=this.length;for(;aP<aQ;aP++){aR=this[aP];if(aS(aR,aP,this)){return true}}return false},remove:function(aP){this.splice(this.indexOf(aP),1)}});function am(aP,aQ,aS,aR){return function(aV){var aU={},aT;for(aT in aV){aU[aT]=aV[aT]}if(aR){aU.field=aS+"."+aV.field}else{aU.field=aS}aP.trigger(aQ,aU)}}var Z=I.extend({init:function(aR){var aQ=this,aT,aS,aP=function(){return aQ};I.fn.init.call(this);for(aS in aR){aT=aR[aS];if(aS.charAt(0)!="_"){aT=aQ.wrap(aT,aS,aP)}aQ[aS]=aT}aQ.uid=p.guid()},shouldSerialize:function(aP){return this.hasOwnProperty(aP)&&aP!=="_events"&&typeof this[aP]!==ao&&aP!=="uid"},forEach:function(aQ){for(var aP in this){if(this.shouldSerialize(aP)){aQ(this[aP],aP)}}},toJSON:function(){var aP={},aQ,aR;for(aR in this){if(this.shouldSerialize(aR)){aQ=this[aR];if(aQ instanceof Z||aQ instanceof ac){aQ=aQ.toJSON()}aP[aR]=aQ}}return aP},get:function(aR){var aQ=this,aP;aQ.trigger(k,{field:aR});if(aR==="this"){aP=aQ}else{aP=p.getter(aR,true)(aQ)}return aP},_set:function(aT,aQ){var aP=this;if(aT.indexOf(".")){var aU=aT.split("."),aS="";while(aU.length>1){aS+=aU.shift();var aR=p.getter(aS,true)(aP);if(aR instanceof Z){aR.set(aU.join("."),aQ);return}aS+="."}}p.setter(aT)(aP,aQ)},set:function(aS,aQ){var aP=this,aR=p.getter(aS,true)(aP);if(aR!==aQ){if(!aP.trigger("set",{field:aS,value:aQ})){aP._set(aS,aP.wrap(aQ,aS,function(){return aP}));aP.trigger(F,{field:aS})}}},parent:au,wrap:function(aQ,aV,aS){var aU=this,aR=ap.call(aQ);if(aQ!==null&&(aR==="[object Object]"||aR==="[object Array]")){var aP=aQ instanceof ac;var aT=aQ instanceof o;if(aR==="[object Object]"&&!aT&&!aP){if(!(aQ instanceof Z)){aQ=new Z(aQ)}if(aQ.parent()!=aS()){aQ.bind(k,am(aU,k,aV,true));aQ.bind(F,am(aU,F,aV,true))}}else{if(aR==="[object Array]"||aP||aT){if(!aP&&!aT){aQ=new ac(aQ)}if(aQ.parent()!=aS()){aQ.bind(F,am(aU,F,aV,false))}}}aQ.parent=aS}return aQ}});function aK(aP,aT){if(aP===aT){return true}var aS=aw.type(aP),aQ=aw.type(aT),aR;if(aS!==aQ){return false}if(aS==="date"){return aP.getTime()===aT.getTime()}if(aS!=="object"&&aS!=="array"){return false}for(aR in aP){if(!aK(aP[aR],aT[aR])){return false}}return true}var O={number:function(aP){return p.parseFloat(aP)},date:function(aP){return p.parseDate(aP)},"boolean":function(aP){if(typeof aP===aI){return aP.toLowerCase()==="true"}return aP!=null?!!aP:aP},string:function(aP){return aP!=null?(aP+""):aP},"default":function(aP){return aP}};var aJ={string:"",number:0,date:new Date(),"boolean":false,"default":""};function aj(aR,aP){var aQ,aS;for(aS in aR){aQ=aR[aS];if(D(aQ)&&aQ.field&&aQ.field===aP){return aQ}else{if(aQ===aP){return aQ}}}return null}var B=Z.extend({init:function(aQ){var aP=this;if(!aQ||aw.isEmptyObject(aQ)){aQ=aw.extend({},aP.defaults,aQ)}Z.fn.init.call(aP,aQ);aP.dirty=false;if(aP.idField){aP.id=aP.get(aP.idField);if(aP.id===t){aP.id=aP._defaultId}}},shouldSerialize:function(aP){return Z.fn.shouldSerialize.call(this,aP)&&aP!=="uid"&&!(this.idField!=="id"&&aP==="id")&&aP!=="dirty"&&aP!=="_accessors"},_parse:function(aS,aR){var aQ=this,aU=aS,aP=(aQ.fields||{}),aT;aS=aP[aS];if(!aS){aS=aj(aP,aU)}if(aS){aT=aS.parse;if(!aT&&aS.type){aT=O[aS.type.toLowerCase()]}}return aT?aT(aR):aR},editable:function(aP){aP=(this.fields||{})[aP];return aP?aP.editable!==false:true},set:function(aS,aR,aQ){var aP=this;if(aP.editable(aS)){aR=aP._parse(aS,aR);if(!aK(aR,aP.get(aS))){aP.dirty=true;Z.fn.set.call(aP,aS,aR,aQ)}}},accept:function(aR){var aQ=this,aP=function(){return aQ},aS;for(aS in aR){aQ._set(aS,aQ.wrap(aR[aS],aS,aP))}if(aQ.idField){aQ.id=aQ.get(aQ.idField)}aQ.dirty=false},isNew:function(){return this.id===this._defaultId}});B.define=function(aR,a0){if(a0===t){a0=aR;aR=B}var aU,aT=ah({defaults:{}},a0),aP,aX,aW,aZ,aY,aS,aV={},aQ=aT.id;if(aQ){aT.idField=aQ}if(aT.id){delete aT.id}if(aQ){aT.defaults[aQ]=aT._defaultId=""}if(ap.call(aT.fields)==="[object Array]"){for(aY=0,aS=aT.fields.length;aY<aS;aY++){aX=aT.fields[aY];if(typeof aX===aI){aV[aX]={}}else{if(aX.field){aV[aX.field]=aX}}}aT.fields=aV}for(aP in aT.fields){aX=aT.fields[aP];aW=aX.type||"default";aZ=null;aP=typeof(aX.field)===aI?aX.field:aP;if(!aX.nullable){aZ=aT.defaults[aP]=aX.defaultValue!==t?aX.defaultValue:aJ[aW.toLowerCase()]}if(a0.id===aP){aT._defaultId=aZ}aT.defaults[aP]=aZ;aX.parse=aX.parse||O[aW]}aU=aR.extend(aT);aU.define=function(a1){return B.define(aU,a1)};if(aT.fields){aU.fields=aT.fields;aU.idField=aT.idField}return aU};var H={selector:function(aP){return aA(aP)?aP:Q(aP)},asc:function(aQ){var aP=this.selector(aQ);return function(aS,aR){aS=aP(aS);aR=aP(aR);if(aS==null&&aR==null){return 0}if((aS&&!aR&&aS>0)||aR==null){return 1}if(aR&&!aS&&aR>0){return -1}return aS>aR?1:(aS<aR?-1:0)}},desc:function(aQ){var aP=this.selector(aQ);return function(aS,aR){aS=aP(aS);aR=aP(aR);if(aS==null&&aR==null){return 0}if((aS&&!aR&&aS>0)||aR==null){return -1}if((aR&&!aS&&aR>0)||aS==null){return 1}return aS<aR?1:(aS>aR?-1:0)}},create:function(aP){return this[aP.dir.toLowerCase()](aP.field)},combine:function(aP){return function(aT,aS){var aR=aP[0](aT,aS),aQ,aU;for(aQ=1,aU=aP.length;aQ<aU;aQ++){aR=aR||aP[aQ](aT,aS)}return aR}}};var w=ah({},H,{asc:function(aQ){var aP=this.selector(aQ);return function(aS,aR){var aU=aP(aS);var aT=aP(aR);if(aU&&aU.getTime&&aT&&aT.getTime){aU=aU.getTime();aT=aT.getTime()}if(aU===aT){return aS.__position-aR.__position}if(aT==null){return 1}return aU>aT?1:(aU<aT?-1:0)}},desc:function(aQ){var aP=this.selector(aQ);return function(aS,aR){var aU=aP(aS);var aT=aP(aR);if(aU&&aU.getTime&&aT&&aT.getTime){aU=aU.getTime();aT=aT.getTime()}if(aU===aT){return aS.__position-aR.__position}return aU<aT?1:(aU>aT?-1:0)}}});v=function(aT,aS){var aQ,aR=aT.length,aP=new Array(aR);for(aQ=0;aQ<aR;aQ++){aP[aQ]=aS(aT[aQ],aQ,aT)}return aP};var u=(function(){function aQ(aR){return aR.replace(aB,"\\").replace(Y,"")}function aP(aV,aS,aR,aU){var aT;if(aR!=null){if(typeof aR===aI){aR=aQ(aR);aT=al.exec(aR);if(aT){aR=new Date(+aT[1])}else{if(aU){aR="'"+aR.toLowerCase()+"'";aS="("+aS+" || '').toLowerCase()"}else{aR="'"+aR+"'"}}}if(aR.getTime){aS="("+aS+"?"+aS+".getTime():"+aS+")";aR=aR.getTime()}}return aS+" "+aV+" "+aR}return{eq:function(aS,aR,aT){return aP("==",aS,aR,aT)},neq:function(aS,aR,aT){return aP("!=",aS,aR,aT)},gt:function(aS,aR,aT){return aP(">",aS,aR,aT)},gte:function(aS,aR,aT){return aP(">=",aS,aR,aT)},lt:function(aS,aR,aT){return aP("<",aS,aR,aT)},lte:function(aS,aR,aT){return aP("<=",aS,aR,aT)},startswith:function(aS,aR,aT){if(aT){aS=aS+".toLowerCase()";if(aR){aR=aR.toLowerCase()}}if(aR){aR=aQ(aR)}return aS+".lastIndexOf('"+aR+"', 0) == 0"},endswith:function(aS,aR,aT){if(aT){aS=aS+".toLowerCase()";if(aR){aR=aR.toLowerCase()}}if(aR){aR=aQ(aR)}return aS+".indexOf('"+aR+"', "+aS+".length - "+(aR||"").length+") >= 0"},contains:function(aS,aR,aT){if(aT){aS="("+aS+" || '').toLowerCase()";if(aR){aR=aR.toLowerCase()}}if(aR){aR=aQ(aR)}return aS+".indexOf('"+aR+"') >= 0"},doesnotcontain:function(aS,aR,aT){if(aT){aS="("+aS+" || '').toLowerCase()";if(aR){aR=aR.toLowerCase()}}if(aR){aR=aQ(aR)}return aS+".indexOf('"+aR+"') == -1"}}})();function V(aP){this.data=aP||[]}V.filterExpr=function(aX){var aW=[],aU={and:" && ",or:" || "},a0,aT,aQ,aZ,aP=[],aV=[],aY,aS,aR=aX.filters;for(a0=0,aT=aR.length;a0<aT;a0++){aQ=aR[a0];aY=aQ.field;aS=aQ.operator;if(aQ.filters){aZ=V.filterExpr(aQ);aQ=aZ.expression.replace(/__o\[(\d+)\]/g,function(a2,a1){a1=+a1;return"__o["+(aV.length+a1)+"]"}).replace(/__f\[(\d+)\]/g,function(a2,a1){a1=+a1;return"__f["+(aP.length+a1)+"]"});aV.push.apply(aV,aZ.operators);aP.push.apply(aP,aZ.fields)}else{if(typeof aY===ao){aZ="__f["+aP.length+"](d)";aP.push(aY)}else{aZ=p.expr(aY)}if(typeof aS===ao){aQ="__o["+aV.length+"]("+aZ+", "+aQ.value+")";aV.push(aS)}else{aQ=u[(aS||"eq").toLowerCase()](aZ,aQ.value,aQ.ignoreCase!==t?aQ.ignoreCase:true)}}aW.push(aQ)}return{expression:"("+aW.join(aU[aX.logic])+")",fields:aP,operators:aV}};function L(aS,aP){if(aS){var aR=typeof aS===aI?{field:aS,dir:aP}:aS,aQ=b(aR)?aR:(aR!==t?[aR]:[]);return m(aQ,function(aT){return !!aT.dir})}}var ak={"==":"eq",equals:"eq",isequalto:"eq",equalto:"eq",equal:"eq","!=":"neq",ne:"neq",notequals:"neq",isnotequalto:"neq",notequalto:"neq",notequal:"neq","<":"lt",islessthan:"lt",lessthan:"lt",less:"lt","<=":"lte",le:"lte",islessthanorequalto:"lte",lessthanequal:"lte",">":"gt",isgreaterthan:"gt",greaterthan:"gt",greater:"gt",">=":"gte",isgreaterthanorequalto:"gte",greaterthanequal:"gte",ge:"gte",notsubstringof:"doesnotcontain"};function aL(aU){var aP,aT,aR,aQ,aS=aU.filters;if(aS){for(aP=0,aT=aS.length;aP<aT;aP++){aR=aS[aP];aQ=aR.operator;if(aQ&&typeof aQ===aI){aR.operator=ak[aQ.toLowerCase()]||aQ}aL(aR)}}}function ag(aP){if(aP&&!aq(aP)){if(b(aP)||!aP.filters){aP={logic:"and",filters:b(aP)?aP:[aP]}}aL(aP);return aP}}V.normalizeFilter=ag;function ab(aP){return b(aP)?aP:[aP]}function r(aS,aP){var aR=typeof aS===aI?{field:aS,dir:aP}:aS,aQ=b(aR)?aR:(aR!==t?[aR]:[]);return v(aQ,function(aT){return{field:aT.field,dir:aT.dir||"asc",aggregates:aT.aggregates}})}V.prototype={toArray:function(){return this.data},range:function(aP,aQ){return new V(this.data.slice(aP,aP+aQ))},skip:function(aP){return new V(this.data.slice(aP))},take:function(aP){return new V(this.data.slice(0,aP))},select:function(aP){return new V(v(this.data,aP))},orderBy:function(aQ){var aP=this.data.slice(0),aR=aA(aQ)||!aQ?H.asc(aQ):aQ.compare;return new V(aP.sort(aR))},orderByDescending:function(aP){return new V(this.data.slice(0).sort(H.desc(aP)))},sort:function(aV,aQ,aT){var aP,aU,aS=L(aV,aQ),aR=[];aT=aT||H;if(aS.length){for(aP=0,aU=aS.length;aP<aU;aP++){aR.push(aT.create(aS[aP]))}return this.orderBy({compare:aT.combine(aR)})}return this},filter:function(aT){var aX,aV,aQ,aW,aY,aS=this.data,aU,aR,aZ=[],aP;aT=ag(aT);if(!aT||aT.filters.length===0){return this}aW=V.filterExpr(aT);aU=aW.fields;aR=aW.operators;aY=aP=new Function("d, __f, __o","return "+aW.expression);if(aU.length||aR.length){aP=function(a0){return aY(a0,aU,aR)}}for(aX=0,aQ=aS.length;aX<aQ;aX++){aV=aS[aX];if(aP(aV)){aZ.push(aV)}}return new V(aZ)},group:function(aQ,aS){aQ=r(aQ||[]);aS=aS||this.data;var aR=this,aP=new V(aR.data),aT;if(aQ.length>0){aT=aQ[0];aP=aP.groupBy(aT).select(function(aV){var aU=new V(aS).filter([{field:aV.field,operator:"eq",value:aV.value}]);return{field:aV.field,value:aV.value,items:aQ.length>1?new V(aV.items).group(aQ.slice(1),aU.toArray()).toArray():aV.items,hasSubgroups:aQ.length>1,aggregates:aU.aggregate(aT.aggregates)}})}return aP},groupBy:function(aP){if(aq(aP)||!this.data.length){return new V([])}var aU=aP.field,aT=this._sortForGrouping(aU,aP.dir||"asc"),aR=p.accessor(aU),aY,aQ=aR.get(aT[0],aU),aW={field:aU,value:aQ,items:[]},aX,aV,aS,aZ=[aW];for(aV=0,aS=aT.length;aV<aS;aV++){aY=aT[aV];aX=aR.get(aY,aU);if(!C(aQ,aX)){aQ=aX;aW={field:aU,value:aQ,items:[]};aZ.push(aW)}aW.items.push(aY)}return new V(aZ)},_sortForGrouping:function(aT,aQ){var aP,aR,aS=this.data;if(!J){for(aP=0,aR=aS.length;aP<aR;aP++){aS[aP].__position=aP}aS=new V(aS).sort(aT,aQ,w).toArray();for(aP=0,aR=aS.length;aP<aR;aP++){delete aS[aP].__position}return aS}return this.sort(aT,aQ).toArray()},aggregate:function(aS){var aR,aQ,aP={};if(aS&&aS.length){for(aR=0,aQ=this.data.length;aR<aQ;aR++){i(aP,aS,this.data[aR],aR,aQ)}}return aP}};function C(aQ,aP){if(aQ&&aQ.getTime&&aP&&aP.getTime){return aQ.getTime()===aP.getTime()}return aQ===aP}function i(aQ,aT,aY,aU,aP){aT=aT||[];var aX,aR,aV,aS=aT.length;for(aX=0;aX<aS;aX++){aR=aT[aX];aV=aR.aggregate;var aW=aR.field;aQ[aW]=aQ[aW]||{};aQ[aW][aV]=q[aV.toLowerCase()](aQ[aW][aV],aY,p.accessor(aW),aU,aP)}}var q={sum:function(aQ,aR,aP){return(aQ||0)+aP.get(aR)},count:function(aP){return(aP||0)+1},average:function(aQ,aT,aP,aR,aS){aQ=(aQ||0)+aP.get(aT);if(aR==aS-1){aQ=aQ/aS}return aQ},max:function(aQ,aR,aP){var aS=aP.get(aR);aQ=aQ||0;if(aQ<aS){aQ=aS}return aQ},min:function(aQ,aR,aP){var aS=aP.get(aR);aQ=(aQ||aS);if(aQ>aS){aQ=aS}return aQ}};function z(aS){var aQ,aR=aS.length,aP=new Array(aR);for(aQ=0;aQ<aR;aQ++){aP[aQ]=aS[aQ].toJSON()}return aP}V.process=function(aR,aX){aX=aX||{};var aT=new V(aR),aV=aX.group,aS=r(aV||[]).concat(L(aX.sort||[])),aU,aP=aX.filter,aW=aX.skip,aQ=aX.take;if(aP){aT=aT.filter(aP);aU=aT.toArray().length}if(aS){aT=aT.sort(aS);if(aV){aR=aT.toArray()}}if(aW!==t&&aQ!==t){aT=aT.range(aW,aQ)}if(aV){aT=aT.group(aV,aR)}return{total:aU,data:aT.toArray()}};function aN(aS,aP){aP=aP||{};var aR=new V(aS),aT=aP.aggregate,aQ=aP.filter;if(aQ){aR=aR.filter(aQ)}return aR.aggregate(aT)}var af=aF.extend({init:function(aP){this.data=aP.data},read:function(aP){aP.success(this.data)},update:function(aP){aP.success(aP.data)},create:function(aP){aP.success(aP.data)},destroy:function(aP){aP.success(aP.data)}});var aM=aF.extend({init:function(aQ){var aR=this,aP;aQ=aR.options=ah({},aR.options,aQ);aO(W,function(aS,aT){if(typeof aQ[aT]===aI){aQ[aT]={url:aQ[aT]}}});aR.cache=aQ.cache?N.create(aQ.cache):{find:au,add:au};aP=aQ.parameterMap;aR.parameterMap=aA(aP)?aP:function(aT){var aS={};aO(aT,function(aU,aV){if(aU in aP){aU=aP[aU];if(D(aU)){aV=aU.value(aV);aU=aU.key}}aS[aU]=aV});return aS}},options:{parameterMap:X},create:function(aP){return az(this.setup(aP,ay))},read:function(aS){var aT=this,aU,aR,aP,aQ=aT.cache;aS=aT.setup(aS,h);aU=aS.success||au;aR=aS.error||au;aP=aQ.find(aS.data);if(aP!==t){aU(aP)}else{aS.success=function(aV){aQ.add(aS.data,aV);aU(aV)};aw.ajax(aS)}},update:function(aP){return az(this.setup(aP,aG))},destroy:function(aP){return az(this.setup(aP,A))},setup:function(aQ,aR){aQ=aQ||{};var aT=this,aS,aP=aT.options[aR],aU=aA(aP.data)?aP.data(aQ.data):aP.data;aQ=ah(true,{},aP,aQ);aS=ah(true,{},aU,aQ.data);aQ.data=aT.parameterMap(aS,aR);if(aA(aQ.url)){aQ.url=aQ.url(aS)}return aQ}});var N=aF.extend({init:function(){this._store={}},add:function(aP,aQ){if(aP!==t){this._store[ad(aP)]=aQ}},find:function(aP){return this._store[ad(aP)]},clear:function(){this._store={}},remove:function(aP){delete this._store[ad(aP)]}});N.create=function(aQ){var aP={inmemory:function(){return new N()}};if(D(aQ)&&aA(aQ.find)){return aQ}if(aQ===true){return new N()}return aP[aQ]()};function s(aV,aT,aS){var aR,aQ,aP,aU;for(aP=0,aU=aV.length;aP<aU;aP++){aR=aV[aP];for(aQ in aT){aR[aQ]=aS._parse(aQ,aT[aQ](aR))}}}function M(aU,aS,aR){var aQ,aP,aT;for(aP=0,aT=aU.length;aP<aT;aP++){aQ=aU[aP];aQ.value=aR._parse(aQ.field,aQ.value);if(aQ.hasSubgroups){M(aQ.items,aS,aR)}else{s(aQ.items,aS,aR)}}}function S(aS,aP,aR,aQ){return function(aT){aT=aS(aT);if(aT&&!aq(aQ)){if(ap.call(aT)!=="[object Array]"&&!(aT instanceof ac)){aT=[aT]}aR(aT,aQ,new aP())}return aT||[]}}var P=aF.extend({init:function(aS){var aW=this,aU,aR,aV,aQ;aS=aS||{};for(aU in aS){aR=aS[aU];aW[aU]=typeof aR===aI?Q(aR):aR}aQ=aS.modelBase||B;if(D(aW.model)){aW.model=aV=aQ.define(aW.model)}if(aW.model){var aP=y(aW.data,aW),aT=y(aW.groups,aW),aX={};aV=aW.model;if(aV.fields){aO(aV.fields,function(aZ,aY){if(D(aY)&&aY.field){aX[aY.field]=Q(aY.field)}else{aX[aZ]=Q(aZ)}})}aW.data=S(aP,aV,s,aX);aW.groups=S(aT,aV,M,aX)}},errors:function(aP){return aP?aP.errors:null},parse:X,data:X,total:function(aP){return aP.length},groups:X,status:function(aP){return aP.status},aggregates:function(){return{}}});function d(aU,aR,aV,aS){var aT,aP=0,aQ;while(aR.length&&aS){aT=aR[aP];aQ=aT.items;if(aU&&aU.field===aT.field&&aU.value===aT.value){if(aU.hasSubgroups&&aU.items.length){d(aU.items[aU.items.length-1],aT.items,aV,aS)}else{aQ=aQ.slice(aV,aS);aS-=aQ.length;aU.items=aU.items.concat(aQ)}aR.splice(aP--,1)}else{aQ=aQ.slice(aV,aS);aS-=aQ.length;aT.items=aQ;if(!aT.items.length){aR.splice(aP--,1)}}aV=0;if(++aP>=aR.length){break}}}function ae(aS){var aQ,aR,aP=[];for(aQ=0,aR=aS.length;aQ<aR;aQ++){if(aS[aQ].hasSubgroups){aP=aP.concat(ae(aS[aQ].items))}else{aP=aP.concat(aS[aQ].items.slice())}}return aP}function ai(aT,aR){var aP,aS,aU,aQ;if(aR){for(aP=0,aS=aT.length;aP<aS;aP++){aU=aT[aP];aQ=aU.items;if(aU.hasSubgroups){ai(aQ,aR)}else{if(aQ.length&&!(aQ[0] instanceof aR)){aQ.type=aR;aQ.wrapAll(aQ,aQ)}}}}}function n(aS,aR){var aP,aQ;for(aP=0,aQ=aS.length;aP<aQ;aP++){if(aS[aP].hasSubgroups){if(n(aS[aP].items,aR)){return true}}else{if(aR(aS[aP].items,aS[aP])){return true}}}}function G(aS,aQ){var aP,aR;for(aP=0,aR=aS.length;aP<aR;aP++){if(aS[aP].uid==aQ.uid){aQ=aS[aP];aS.splice(aP,1);return aQ}}}function a(aQ,aR){var aS,aU,aP,aT;for(aP=aQ.length-1,aT=0;aP>=aT;aP--){aU=aQ[aP];aS={value:aR.get(aU.field),field:aU.field,items:aS?[aS]:[aR],hasSubgroups:!!aS,aggregates:{}}}return aS}function aC(aQ,aP){if(aP){return l(aQ,function(aR){return aR[aP.idField]===aP.id})}return -1}function aE(aQ,aP){if(aP){return l(aQ,function(aR){return aR.uid==aP.uid})}return -1}function l(aS,aQ){var aP,aR;for(aP=0,aR=aS.length;aP<aR;aP++){if(aQ(aS[aP])){return aP}}return -1}var o=I.extend({init:function(aQ){var aR=this,aP,aS;if(aQ){aS=aQ.data}aQ=aR.options=ah({},aR.options,aQ);aR._map={};aR._prefetch={};aR._data=[];aR._ranges=[];aR._view=[];aR._pristine=[];aR._destroyed=[];aR._pageSize=aQ.pageSize;aR._page=aQ.page||(aQ.pageSize?1:t);aR._sort=L(aQ.sort);aR._filter=ag(aQ.filter);aR._group=r(aQ.group);aR._aggregate=aQ.aggregate;aR._total=aQ.total;I.fn.init.call(aR);aR.transport=g.create(aQ,aS);aR.reader=new p.data.readers[aQ.schema.type||"json"](aQ.schema);aP=aR.reader.model||{};aR._data=aR._observe(aR._data);aR.bind([E,F,ax,K,U,at],aQ)},options:{data:[],schema:{modelBase:B},serverSorting:false,serverPaging:false,serverFiltering:false,serverGrouping:false,serverAggregates:false,batch:false},_isServerGrouped:function(){var aP=this.group()||[];return this.options.serverGrouping&&aP.length},_flatData:function(aP){if(this._isServerGrouped()){return ae(aP)}return aP},parent:au,get:function(aS){var aP,aQ,aR=this._flatData(this._data);for(aP=0,aQ=aR.length;aP<aQ;aP++){if(aR[aP].id==aS){return aR[aP]}}},getByUid:function(aS){var aP,aQ,aR=this._flatData(this._data);if(!aR){return}for(aP=0,aQ=aR.length;aP<aQ;aP++){if(aR[aP].uid==aS){return aR[aP]}}},indexOf:function(aP){return aE(this._data,aP)},at:function(aP){return this._data[aP]},data:function(aQ){var aP=this;if(aQ!==t){aP._data=this._observe(aQ);aP._ranges=[];aP._addRange(aP._data);aP._total=aP._data.length;aP._process(aP._data)}else{return aP._data}},view:function(){return this._view},add:function(aP){return this.insert(this._data.length,aP)},insert:function(aQ,aP){if(!aP){aP=aQ;aQ=0}if(!(aP instanceof B)){if(this.reader.model){aP=new this.reader.model(aP)}else{aP=new Z(aP)}}if(this._isServerGrouped()){this._data.splice(aQ,0,a(this.group(),aP))}else{this._data.splice(aQ,0,aP)}return aP},remove:function(aQ){var aP,aS=this,aR=aS._isServerGrouped();this._eachItem(aS._data,function(aT){aP=G(aT,aQ);if(aP&&aR){if(!aP.isNew||!aP.isNew()){aS._destroyed.push(aP)}return true}});return aQ},sync:function(){var aU=this,aP,aT,aW=[],aQ=[],aS=aU._destroyed,aV=aU._flatData(aU._data);if(!aU.reader.model){return}for(aP=0,aT=aV.length;aP<aT;aP++){if(aV[aP].isNew()){aW.push(aV[aP])}else{if(aV[aP].dirty){aQ.push(aV[aP])}}}var aR=aU._send("create",aW);aR.push.apply(aR,aU._send("update",aQ));aR.push.apply(aR,aU._send("destroy",aS));aw.when.apply(null,aR).then(function(){var aX,aY;for(aX=0,aY=arguments.length;aX<aY;aX++){aU._accept(arguments[aX])}aU._change({action:"sync"});aU.trigger(K)})},cancelChanges:function(aP){var aQ=this,aR=aQ._readData(aQ._pristine);if(aP instanceof p.data.Model){aQ._cancelModel(aP)}else{aQ._destroyed=[];aQ._data=aQ._observe(aR);if(aQ.options.serverPaging){aQ._total=aQ.reader.total(aQ._pristine)}aQ._change()}},hasChanges:function(){var aP,aQ,aR=this._data;if(this._destroyed.length){return true}for(aP=0,aQ=aR.length;aP<aQ;aP++){if(aR[aP].isNew()||aR[aP].dirty){return true}}return false},_accept:function(aX){var aS=this,aP=aX.models,aR=aX.response,aU=0,aW=aS._isServerGrouped(),aV=aS._readData(aS._pristine),aT=aX.type,aQ;aS.trigger(U,{response:aR,type:aT});if(aR){aR=aS.reader.parse(aR);if(aS._handleCustomErrors(aR)){return}aR=aS.reader.data(aR);if(!aw.isArray(aR)){aR=[aR]}}else{aR=aw.map(aP,function(aY){return aY.toJSON()})}if(aT==="destroy"){aS._destroyed=[]}for(aU=0,aQ=aP.length;aU<aQ;aU++){if(aT!=="destroy"){aP[aU].accept(aR[aU]);if(aT==="create"){aV.push(aW?a(aS.group(),aP[aU]):aR[aU])}else{if(aT==="update"){aS._updatePristineForModel(aP[aU],aR[aU])}}}else{aS._removePristineForModel(aP[aU])}}},_updatePristineForModel:function(aQ,aP){this._executeOnPristineForModel(aQ,function(aS,aR){ah(true,aR[aS],aP)})},_executeOnPristineForModel:function(aP,aQ){this._eachPristineItem(function(aR){var aS=aC(aR,aP);if(aS>-1){aQ(aS,aR);return true}})},_removePristineForModel:function(aP){this._executeOnPristineForModel(aP,function(aR,aQ){aQ.splice(aR,1)})},_readData:function(aQ){var aP=!this._isServerGrouped()?this.reader.data:this.reader.groups;return aP(aQ)},_eachPristineItem:function(aP){this._eachItem(this._readData(this._pristine),aP)},_eachItem:function(aP,aQ){if(aP&&aP.length){if(this._isServerGrouped()){n(aP,aQ)}else{aQ(aP)}}},_pristineForModel:function(aQ){var aR,aP,aS=function(aT){aP=aC(aT,aQ);if(aP>-1){aR=aT[aP];return true}};this._eachPristineItem(aS);return aR},_cancelModel:function(aQ){var aR=this._pristineForModel(aQ),aP;this._eachItem(this._data,function(aS){aP=aE(aS,aQ);if(aP!=-1){if(!aQ.isNew()&&aR){aS[aP].accept(aR)}else{aS.splice(aP,1)}}})},_promise:function(aR,aT,aP){var aQ=this,aS=aQ.transport;return aw.Deferred(function(aU){aS[aP].call(aS,ah({success:function(aV){aU.resolve({response:aV,models:aT,type:aP})},error:function(aW,aV,aX){aU.reject(aW);aQ.error(aW,aV,aX)}},aR))}).promise()},_send:function(aU,aT){var aS=this,aP,aR,aQ=[];if(aS.options.batch){if(aT.length){aQ.push(aS._promise({data:{models:z(aT)}},aT,aU))}}else{for(aP=0,aR=aT.length;aP<aR;aP++){aQ.push(aS._promise({data:aT[aP].toJSON()},[aT[aP]],aU))}}return aQ},read:function(aQ){var aP=this,aR=aP._params(aQ);aP._queueRequest(aR,function(){if(!aP.trigger(ax)){aP.trigger(at);aP._ranges=[];aP.transport.read({data:aR,success:y(aP.success,aP),error:y(aP.error,aP)})}else{aP._dequeueRequest()}})},success:function(aR){var aQ=this,aP=aQ.options;aQ.trigger(U,{response:aR,type:"read"});aR=aQ.reader.parse(aR);if(aQ._handleCustomErrors(aR)){aQ._dequeueRequest();return}aQ._pristine=D(aR)?aw.extend(true,{},aR):aR.slice?aR.slice(0):aR;aQ._total=aQ.reader.total(aR);if(aQ._aggregate&&aP.serverAggregates){aQ._aggregateResult=aQ.reader.aggregates(aR)}aR=aQ._readData(aR);aQ._data=aQ._observe(aR);aQ._addRange(aQ._data);aQ._dequeueRequest();aQ._process(aQ._data)},_addRange:function(aR){var aQ=this,aS=aQ._skip||0,aP=aS+aQ._flatData(aR).length;aQ._ranges.push({start:aS,end:aP,data:aR});aQ._ranges.sort(function(aT,aU){return aT.start-aU.start})},error:function(aR,aP,aQ){this._dequeueRequest();this.trigger(U,{});this.trigger(E,{xhr:aR,status:aP,errorThrown:aQ})},_params:function(aR){var aQ=this,aP=ah({take:aQ.take(),skip:aQ.skip(),page:aQ.page(),pageSize:aQ.pageSize(),sort:aQ._sort,filter:aQ._filter,group:aQ._group,aggregate:aQ._aggregate},aR);if(!aQ.options.serverPaging){delete aP.take;delete aP.skip;delete aP.page;delete aP.pageSize}if(!aQ.options.serverGrouping){delete aP.group}if(!aQ.options.serverFiltering){delete aP.filter}if(!aQ.options.serverSorting){delete aP.sort}if(!aQ.options.serverAggregates){delete aP.aggregate}return aP},_queueRequest:function(aP,aR){var aQ=this;if(!aQ._requestInProgress){aQ._requestInProgress=true;aQ._pending=t;aR()}else{aQ._pending={callback:y(aR,aQ),options:aP}}},_dequeueRequest:function(){var aP=this;aP._requestInProgress=false;if(aP._pending){aP._queueRequest(aP._pending.options,aP._pending.callback)}},_handleCustomErrors:function(aP){if(this.reader.errors){var aQ=this.reader.errors(aP);if(aQ){this.trigger(E,{xhr:null,status:"customerror",errorThrown:"custom error",errors:aQ});return true}}return false},_observe:function(aS){var aR=this,aP=aR.reader.model,aQ=false;if(aP&&aS.length){aQ=!(aS[0] instanceof aP)}if(aS instanceof ac){if(aQ){aS.type=aR.reader.model;aS.wrapAll(aS,aS)}}else{aS=new ac(aS,aR.reader.model);aS.parent=function(){return aR.parent()}}if(aR._isServerGrouped()){ai(aS,aP)}return aS.bind(F,y(aR._change,aR))},_change:function(aU){var aS=this,aP,aR,aT=aU?aU.action:"";if(aT==="remove"){for(aP=0,aR=aU.items.length;aP<aR;aP++){if(!aU.items[aP].isNew||!aU.items[aP].isNew()){aS._destroyed.push(aU.items[aP])}}}if(aS.options.autoSync&&(aT==="add"||aT==="remove"||aT==="itemchange")){aS.sync()}else{var aQ=aS._total||aS.reader.total(aS._pristine);if(aT==="add"){aQ++}else{if(aT==="remove"){aQ--}else{if(aT!=="itemchange"&&aT!=="sync"&&!aS.options.serverPaging){aQ=aS.reader.total(aS._pristine)}}}aS._total=aQ;aS._process(aS._data,aU)}},_process:function(aS,aT){var aR=this,aQ={},aP;if(aR.options.serverPaging!==true){aQ.skip=aR._skip;aQ.take=aR._take||aR._pageSize;if(aQ.skip===t&&aR._page!==t&&aR._pageSize!==t){aQ.skip=(aR._page-1)*aR._pageSize}}if(aR.options.serverSorting!==true){aQ.sort=aR._sort}if(aR.options.serverFiltering!==true){aQ.filter=aR._filter}if(aR.options.serverGrouping!==true){aQ.group=aR._group}if(aR.options.serverAggregates!==true){aQ.aggregate=aR._aggregate;aR._aggregateResult=aN(aS,aQ)}aP=V.process(aS,aQ);aR._view=aP.data;if(aP.total!==t&&!aR.options.serverFiltering){aR._total=aP.total}aT=aT||{};aT.items=aT.items||aR._view;aR.trigger(F,aT)},_mergeState:function(aP){var aQ=this;if(aP!==t){aQ._pageSize=aP.pageSize;aQ._page=aP.page;aQ._sort=aP.sort;aQ._filter=aP.filter;aQ._group=aP.group;aQ._aggregate=aP.aggregate;aQ._skip=aP.skip;aQ._take=aP.take;if(aQ._skip===t){aQ._skip=aQ.skip();aP.skip=aQ.skip()}if(aQ._take===t&&aQ._pageSize!==t){aQ._take=aQ._pageSize;aP.take=aQ._take}if(aP.sort){aQ._sort=aP.sort=L(aP.sort)}if(aP.filter){aQ._filter=aP.filter=ag(aP.filter)}if(aP.group){aQ._group=aP.group=r(aP.group)}if(aP.aggregate){aQ._aggregate=aP.aggregate=ab(aP.aggregate)}}return aP},query:function(aQ){var aR=this,aP,aS=aR.options.serverSorting||aR.options.serverPaging||aR.options.serverFiltering||aR.options.serverGrouping||aR.options.serverAggregates;if(aS||(aR._data===t||aR._data.length===0)){aR.read(aR._mergeState(aQ))}else{if(!aR.trigger(ax)){aR.trigger(at);aP=V.process(aR._data,aR._mergeState(aQ));if(!aR.options.serverFiltering){if(aP.total!==t){aR._total=aP.total}else{aR._total=aR._data.length}}aR._view=aP.data;aR._aggregateResult=aN(aR._data,aQ);aR.trigger(U,{});aR.trigger(F,{items:aP.data})}}},fetch:function(aQ){var aP=this;if(aQ&&aA(aQ)){aP.one(F,aQ)}aP._query()},_query:function(aP){var aQ=this;aQ.query(ah({},{page:aQ.page(),pageSize:aQ.pageSize(),sort:aQ.sort(),filter:aQ.filter(),group:aQ.group(),aggregate:aQ.aggregate()},aP))},next:function(aP){var aR=this,aS=aR.page(),aQ=aR.total();aP=aP||{};if(!aS||(aQ&&aS+1>aR.totalPages())){return}aR._skip=aS*aR.take();aS+=1;aP.page=aS;aR._query(aP);return aS},prev:function(aP){var aQ=this,aR=aQ.page();aP=aP||{};if(!aR||aR===1){return}aQ._skip=aQ._skip-aQ.take();aR-=1;aP.page=aR;aQ._query(aP);return aR},page:function(aR){var aQ=this,aP;if(aR!==t){aR=R.max(R.min(R.max(aR,1),aQ.totalPages()),1);aQ._query({page:aR});return}aP=aQ.skip();return aP!==t?R.round((aP||0)/(aQ.take()||1))+1:t},pageSize:function(aQ){var aP=this;if(aQ!==t){aP._query({pageSize:aQ,page:1});return}return aP.take()},sort:function(aQ){var aP=this;if(aQ!==t){aP._query({sort:aQ});return}return aP._sort},filter:function(aQ){var aP=this;if(aQ===t){return aP._filter}aP._query({filter:aQ,page:1})},group:function(aQ){var aP=this;if(aQ!==t){aP._query({group:aQ});return}return aP._group},total:function(){return this._total||0},aggregate:function(aQ){var aP=this;if(aQ!==t){aP._query({aggregate:aQ});return}return aP._aggregate},aggregates:function(){return this._aggregateResult},totalPages:function(){var aQ=this,aP=aQ.pageSize()||aQ.total();return R.ceil((aQ.total()||0)/aP)},inRange:function(aS,aQ){var aR=this,aP=R.min(aS+aQ,aR.total());if(!aR.options.serverPaging&&aR.data.length>0){return true}return aR._findRange(aS,aP).length>0},range:function(aV,aQ){aV=R.min(aV||0,this.total());var aT=this,aU=R.max(R.floor(aV/aQ),0)*aQ,aX=R.min(aU+aQ,aT.total()),aR;aR=aT._findRange(aV,R.min(aV+aQ,aT.total()));if(aR.length){aT._skip=aV>aT.skip()?R.min(aX,(aT.totalPages()-1)*aT.take()):aU;aT._take=aQ;var aP=aT.options.serverPaging;var aS=aT.options.serverSorting;var aW=aT.options.serverFiltering;try{aT.options.serverPaging=true;aT.options.serverSorting=true;aT.options.serverFiltering=true;if(aP){aT._data=aR=aT._observe(aR)}aT._process(aR)}finally{aT.options.serverPaging=aP;aT.options.serverSorting=aS;aT.options.serverFiltering=aW}return}if(aQ!==t){if(!aT._rangeExists(aU,aX)){aT.prefetch(aU,aQ,function(){if(aV>aU&&aX<aT.total()&&!aT._rangeExists(aX,R.min(aX+aQ,aT.total()))){aT.prefetch(aX,aQ,function(){aT.range(aV,aQ)})}else{aT.range(aV,aQ)}})}else{if(aU<aV){aT.prefetch(aX,aQ,function(){aT.range(aV,aQ)})}}}},_findRange:function(aX,aV){var a1=this,aS=a1._ranges,a3,a7=[],a2,aY,aW,aR,a5,a4,aP,aU=a1.options,aZ=aU.serverSorting||aU.serverPaging||aU.serverFiltering||aU.serverGrouping||aU.serverAggregates,aQ,a0,aT;for(a2=0,aT=aS.length;a2<aT;a2++){a3=aS[a2];if(aX>=a3.start&&aX<=a3.end){a0=0;for(aY=a2;aY<aT;aY++){a3=aS[aY];aQ=a1._flatData(a3.data);if(aQ.length&&aX+a0>=a3.start){a5=a3.data;a4=a3.end;if(!aZ){var a6=r(a1.group()||[]).concat(L(a1.sort()||[]));aP=V.process(a3.data,{sort:a6,filter:a1.filter()});aQ=a5=aP.data;if(aP.total!==t){a4=aP.total}}aW=0;if(aX+a0>a3.start){aW=(aX+a0)-a3.start}aR=aQ.length;if(a4>aV){aR=aR-(a4-aV)}a0+=aR-aW;a7=a1._mergeGroups(a7,a5,aW,aR);if(aV<=a3.end&&a0==aV-aX){return a7}}}break}}return[]},_mergeGroups:function(aS,aQ,aU,aR){if(this._isServerGrouped()){var aP=aQ.toJSON(),aT;if(aS.length){aT=aS[aS.length-1]}d(aT,aP,aU,aR);return aS.concat(aP)}return aS.concat(aQ.slice(aU,aR))},skip:function(){var aP=this;if(aP._skip===t){return(aP._page!==t?(aP._page-1)*(aP.take()||1):t)}return aP._skip},take:function(){return this._take||this._pageSize},_prefetchSuccessHandler:function(aR,aP,aS){var aQ=this;return function(aX){var aW=false,aU={start:aR,end:aP,data:[]},aT,aV;aQ._dequeueRequest();for(aT=0,aV=aQ._ranges.length;aT<aV;aT++){if(aQ._ranges[aT].start===aR){aW=true;aU=aQ._ranges[aT];break}}if(!aW){aQ._ranges.push(aU)}aX=aQ.reader.parse(aX);aU.data=aQ._observe(aQ._readData(aX));aU.end=aU.start+aQ._flatData(aU.data).length;aQ._ranges.sort(function(aY,aZ){return aY.start-aZ.start});aQ._total=aQ.reader.total(aX);if(aS){aS()}}},prefetch:function(aT,aQ,aU){var aS=this,aR=R.min(aT+aQ,aS.total()),aP={take:aQ,skip:aT,page:aT/aQ+1,pageSize:aQ,sort:aS._sort,filter:aS._filter,group:aS._group,aggregate:aS._aggregate};if(!aS._rangeExists(aT,aR)){clearTimeout(aS._timeout);aS._timeout=setTimeout(function(){aS._queueRequest(aP,function(){aS.transport.read({data:aP,success:aS._prefetchSuccessHandler(aT,aR,aU)})})},100)}else{if(aU){aU()}}},_rangeExists:function(aU,aR){var aT=this,aQ=aT._ranges,aP,aS;for(aP=0,aS=aQ.length;aP<aS;aP++){if(aQ[aP].start<=aU&&aQ[aP].end>=aR){return true}}return false}});var g={};g.create=function(aP,aR){var aS,aQ=aP.transport;if(aQ){aQ.read=typeof aQ.read===aI?{url:aQ.read}:aQ.read;if(aP.type){if(p.data.transports[aP.type]&&!D(p.data.transports[aP.type])){aS=new p.data.transports[aP.type](ah(aQ,{data:aR}))}else{aQ=ah(true,{},p.data.transports[aP.type],aQ)}aP.schema=ah(true,{},p.data.schemas[aP.type],aP.schema)}if(!aS){aS=aA(aQ.read)?aQ:new aM(aQ)}}else{aS=new af({data:aP.data})}return aS};o.create=function(aY){aY=aY&&aY.push?{data:aY}:aY;var aP=aY||{},aR=aP.data,aT=aP.fields,aX=aP.table,aV=aP.select,aW,aQ,aS={},aU;if(!aR&&aT&&!aP.transport){if(aX){aR=f(aX,aT)}else{if(aV){aR=j(aV,aT)}}}if(p.data.Model&&aT&&(!aP.schema||!aP.schema.model)){for(aW=0,aQ=aT.length;aW<aQ;aW++){aU=aT[aW];if(aU.type){aS[aU.field]=aU}}if(!aq(aS)){aP.schema=ah(true,aP.schema,{model:{fields:aS}})}}aP.data=aR;return aP instanceof o?aP:new o(aP)};function j(aW,aV){var aZ=aw(aW)[0].children,aY,aP,aS=[],aU,aR=aV[0],aQ=aV[1],aX,aT;for(aY=0,aP=aZ.length;aY<aP;aY++){aU={};aT=aZ[aY];if(aT.disabled){continue}aU[aR.field]=aT.text;aX=aT.attributes.value;if(aX&&aX.specified){aX=aT.value}else{aX=aT.text}aU[aQ.field]=aX;aS.push(aU)}return aS}function f(a0,aU){var aR=aw(a0)[0].tBodies[0],a1=aR?aR.rows:[],aV,aP,aY,aX=aU.length,aQ=[],aZ,aS,aW,aT;for(aV=0,aP=a1.length;aV<aP;aV++){aS={};aT=true;aZ=a1[aV].cells;for(aY=0;aY<aX;aY++){aW=aZ[aY];if(aW.nodeName.toLowerCase()!=="th"){aT=false;aS[aU[aY].field]=aW.innerHTML}}if(!aT){aQ.push(aS)}}return aQ}var av=B.define({init:function(aT){var aS=this,aP=aS.hasChildren||aT&&aT.hasChildren,aR="items",aQ={};p.data.Model.fn.init.call(aS,aT);if(typeof aS.children===aI){aR=aS.children}aQ={schema:{data:aR,model:{hasChildren:aP,id:aS.idField}}};if(typeof aS.children!==aI){ah(aQ,aS.children)}aQ.data=aT;if(!aP){aP=aQ.schema.data}if(typeof aP===aI){aP=p.getter(aP)}if(aA(aP)){aS.hasChildren=!!aP.call(aS,aS)}aS._childrenOptions=aQ;if(aS.hasChildren){aS._initChildren()}aS._loaded=!!(aT&&aT[aR])},_initChildren:function(){var aP=this;if(!(aP.children instanceof T)){aP.children=new T(aP._childrenOptions);aP.children.parent=function(){return aP};aP.children.bind(F,function(aQ){aQ.node=aQ.node||aP;aP.trigger(F,aQ)});aP._updateChildrenField()}},append:function(aP){this._initChildren();this.loaded(true);this.children.add(aP)},hasChildren:false,level:function(){var aP=this.parentNode(),aQ=0;while(aP&&aP.parentNode){aQ++;aP=aP.parentNode?aP.parentNode():null}return aQ},_updateChildrenField:function(){var aP=this._childrenOptions.schema.data;this[aP||"items"]=this.children.data()},load:function(){var aQ=this,aP={};if(aQ.hasChildren){aQ._initChildren();aP[aQ.idField||"id"]=aQ.id;if(!aQ._loaded){aQ.children._data=t}aQ.children.one(F,function(){aQ._loaded=true;aQ._updateChildrenField()})._query(aP)}},parentNode:function(){var aP=this.parent();return aP.parent()},loaded:function(aP){if(aP!==t){this._loaded=aP}else{return this._loaded}},shouldSerialize:function(aP){return B.fn.shouldSerialize.call(this,aP)&&aP!=="children"&&aP!=="_loaded"&&aP!=="hasChildren"&&aP!=="_childrenOptions"}});var T=o.extend({init:function(aP){var aQ=av.define({children:aP});o.fn.init.call(this,ah(true,{},{schema:{modelBase:aQ,model:aQ}},aP))},remove:function(aR){var aQ=aR.parentNode(),aS=this,aP;if(aQ){aS=aQ.children}aP=o.fn.remove.call(aS,aR);if(aQ&&!aS.data().length){aQ.hasChildren=false}return aP},insert:function(aR,aQ){var aP=this.parent();if(aP){aP.hasChildren=true;aP._initChildren()}return o.fn.insert.call(this,aR,aQ)},_find:function(aV,aU){var aP,aS,aR,aT,aQ;aR=o.fn[aV].call(this,aU);if(aR){return aR}aT=this._flatData(this.data());if(!aT){return}for(aP=0,aS=aT.length;aP<aS;aP++){aQ=aT[aP].children;if(!(aQ instanceof T)){continue}aR=aQ[aV](aU);if(aR){return aR}}},get:function(aP){return this._find("get",aP)},getByUid:function(aP){return this._find("getByUid",aP)}});function c(aX,aW){var a0=aw(aX).children(),a2,aR,aT=[],aU,aS=aW[0].field,aV=aW[1]&&aW[1].field,aZ=aW[2]&&aW[2].field,a4=aW[3]&&aW[3].field,a3,aP,a1,aY,aQ;for(a2=0,aR=a0.length;a2<aR;a2++){aU={};a3=a0.eq(a2);a1=a3[0].firstChild;aQ=a3.children();aX=aQ.filter("ul");aQ=aQ.filter(":not(ul)");aP=a3.attr("data-id");if(aP){aU.id=aP}if(a1){aU[aS]=a1.nodeType==3?a1.nodeValue:aQ.text()}if(aV){aU[aV]=aQ.find("a").attr("href")}if(a4){aU[a4]=aQ.find("img").attr("src")}if(aZ){aY=aQ.find(".k-sprite").prop("className");aU[aZ]=aY&&aw.trim(aY.replace("k-sprite",""))}if(aX.length){aU.items=c(aX.eq(0),aW)}if(a3.attr("data-hasChildren")=="true"){aU.hasChildren=true}aT.push(aU)}return aT}T.create=function(aQ){aQ=aQ&&aQ.push?{data:aQ}:aQ;var aT=aQ||{},aS=aT.data,aP=aT.fields,aR=aT.list;if(aS&&aS._dataSource){return aS._dataSource}if(!aS&&aP&&!aT.transport){if(aR){aS=c(aR,aP)}}aT.data=aS;return aT instanceof T?aT:new T(aT)};ah(true,p.data,{readers:{json:P},Query:V,DataSource:o,HierarchicalDataSource:T,Node:av,ObservableObject:Z,ObservableArray:ac,LocalTransport:af,RemoteTransport:aM,Cache:N,DataReader:P,Model:B})})(window.kendo.jQuery);kendo_module({id:"list",name:"List",category:"framework",depends:["data","popup"],hidden:true});(function(i,j){var v=window.kendo,u=v.ui,d=u.Widget,s=v.keys,o=v.support,a=v.htmlEncode,k=v._activeElement,m="id",l="li",q="change",g="character",p="k-state-focused",r="k-state-hover",y="k-loading",A="open",e="close",c="select",B="progress",n="requestEnd",h="width",z=i.extend,x=i.proxy,D=o.browser,t=D.msie&&D.version<9,f=/"/g,w={ComboBox:"DropDownList",DropDownList:"ComboBox"};var b=d.extend({init:function(F,E){var H=this,G=H.ns,I;d.fn.init.call(H,F,E);F=H.element;H._isSelect=F.is(c);H._template();H.ul=i('<ul unselectable="on" class="k-list k-reset"/>').css({overflow:o.kineticScrollNeeded?"":"auto"}).on("mouseenter"+G,l,function(){i(this).addClass(r)}).on("mouseleave"+G,l,function(){i(this).removeClass(r)}).on("click"+G,l,x(H._click,H)).attr({tabIndex:-1,role:"listbox","aria-hidden":true});H.list=i("<div class='k-list-container'/>").append(H.ul).on("mousedown"+G,function(J){J.preventDefault()});I=F.attr(m);if(I){H.list.attr(m,I+"-list");H.ul.attr(m,I+"_listbox");H._optionID=I+"_option_selected"}H._initValue()},setOptions:function(E){d.fn.setOptions.call(this,E);if(E&&E.enable!==j){E.enabled=E.enable}},focus:function(){this._focused.focus()},readonly:function(E){this._editable({readonly:E===j?true:E,disable:false})},enable:function(E){this._editable({readonly:false,disable:!(E=E===j?true:E)})},_filterSource:function(F){var G=this,E=G.options,I=G.dataSource,H=I.filter()||{};C(H,E.dataTextField);if(F){H=H.filters||[];H.push(F)}I.filter(H)},_initValue:function(){var E=this,F=E.options.value;if(F){E.element.val(F)}else{F=E.element.val()}E._old=F},_ignoreCase:function(){var F=this,E=F.dataSource.reader.model,G;if(E&&E.fields){G=E.fields[F.options.dataTextField];if(G&&G.type&&G.type!=="string"){F.options.ignoreCase=false}}},items:function(){return this.ul[0].children},current:function(E){var F=this,G=F._optionID;if(E!==j){if(F._current){F._current.removeClass(p).removeAttr("aria-selected").removeAttr(m);F._focused.removeAttr("aria-activedescendant")}if(E){E.addClass(p);F._scroll(E);if(G){E.attr("id",G);F._focused.attr("aria-activedescendant",G)}}F._current=E}else{return F._current}},destroy:function(){var F=this,E=F.ns;d.fn.destroy.call(F);F._unbindDataSource();F.ul.off(E);F.list.off(E);F.popup.destroy();if(F._form){F._form.off("reset",F._resetHandler)}},dataItem:function(E){var F=this;if(E===j){E=F.selectedIndex}return F._data()[E]},_accessors:function(){var J=this,I=J.element,H=J.options,E=v.getter,F=I.attr(v.attr("text-field")),G=I.attr(v.attr("value-field"));if(F){H.dataTextField=F}if(G){H.dataValueField=G}J._text=E(H.dataTextField);J._value=E(H.dataValueField)},_aria:function(H){var G=this,E=G.options,F=G._focused;if(E.suggest!==j){F.attr("aria-autocomplete",E.suggest?"both":"list")}H=H?H+" "+G.ul[0].id:G.ul[0].id;F.attr("aria-owns",H);G.ul.attr("aria-live",!E.filter||E.filter==="none"?"off":"polite")},_blur:function(){var E=this;E._change();E.close()},_change:function(){var G=this,F=G.selectedIndex,I=G.options.value,H=G.value(),E;if(G._isSelect&&!G._bound&&I){H=I}if(H!==G._old){E=true}else{if(F!==j&&F!==G._oldIndex){E=true}}if(E){G._old=H;G._oldIndex=F;G.trigger(q);G.element.trigger(q)}},_click:function(E){if(!E.isDefaultPrevented()){this._accept(i(E.currentTarget))}},_data:function(){return this.dataSource.view()},_enable:function(){var G=this,E=G.options,F=G.element.is("[disabled]");if(E.enable!==j){E.enabled=E.enable}if(!E.enabled||F){G.enable(false)}else{G.readonly(G.element.is("[readonly]"))}},_focus:function(E){var F=this;if(F.popup.visible()&&E&&F.trigger(c,{item:E})){F.close();return}F._select(E);F._triggerCascade();F._blur()},_index:function(I){var G=this,E,F,H=G._data();for(E=0,F=H.length;E<F;E++){if(G._dataValue(H[E])==I){return E}}return -1},_dataValue:function(E){var F=this._value(E);if(F===j){F=this._text(E)}return F},_height:function(G){if(G){var F=this,H=F.list,I=F.popup.visible(),E=F.options.height;H=H.add(H.parent(".k-animation-container")).show().height(F.ul[0].scrollHeight>E?E:"auto");if(!I){H.hide()}}},_adjustListWidth:function(){var H=this.list,G=H[0].style.width,I=this.wrapper,F,E;if(!H.data(h)&&G){return}F=window.getComputedStyle?window.getComputedStyle(I[0],null):0;E=F?parseFloat(F.width):I.outerWidth();if(F&&(D.mozilla||D.msie)){E+=parseFloat(F.paddingLeft)+parseFloat(F.paddingRight)+parseFloat(F.borderLeftWidth)+parseFloat(F.borderRightWidth)}G=E-(H.outerWidth()-H.width());H.css({fontFamily:I.css("font-family"),width:G}).data(h,G);return true},_popup:function(){var F=this,G=F.list,H=F._focused,E=F.options,I=F.wrapper;F.popup=new u.Popup(G,z({},E.popup,{anchor:I,open:function(J){F._adjustListWidth();if(F.trigger(A)){J.preventDefault()}else{H.attr("aria-expanded",true);F.ul.attr("aria-hidden",false)}},close:function(J){if(F.trigger(e)){J.preventDefault()}else{H.attr("aria-expanded",false);F.ul.attr("aria-hidden",true)}},animation:E.animation,isRtl:o.isRtl(I)}));F.popup.one(A,function(){F._height(F._data().length)});F._touchScroller=v.touchScroller(F.popup.element)},_makeUnselectable:function(){if(t){this.list.find("*").attr("unselectable","on")}},_toggleHover:function(E){i(E.currentTarget).toggleClass(r,E.type==="mouseenter")},_toggle:function(E){var F=this;E=E!==j?E:!F.popup.visible();if(!o.touch&&F._focused[0]!==k()){F._focused.focus()}F[E?A:e]()},_scroll:function(J){if(!J){return}if(J[0]){J=J[0]}var H=this.ul[0],K=J.offsetTop,G=J.offsetHeight,F=H.scrollTop,E=H.clientHeight,I=K+G;H.scrollTop=F>K?K:I>(F+E)?I-E:F},_template:function(){var H=this,F=H.options,G=F.template,E=F.dataSource;if(H._isSelect&&H.element[0].length){if(!E){F.dataTextField=F.dataTextField||"text";F.dataValueField=F.dataValueField||"value"}}if(!G){H.template=v.template('<li tabindex="-1" role="option" unselectable="on" class="k-item">${'+v.expr(F.dataTextField,"data")+"}</li>",{useWithBlock:false})}else{G=v.template(G);H.template=function(I){return'<li tabindex="-1" role="option" unselectable="on" class="k-item">'+G(I)+"</li>"}}},_triggerCascade:function(){var E=this,F=E.value();if((!E._bound&&F)||E._old!==F){E.trigger("cascade")}},_unbindDataSource:function(){var E=this;E.dataSource.unbind(q,E._refreshHandler).unbind(B,E._progressHandler).unbind(n,E._requestEndHandler)}});z(b,{caret:function(E){var G,F=E.ownerDocument.selection;if(F){G=Math.abs(F.createRange().moveStart(g,-E.value.length))}else{G=E.selectionStart}return G},selectText:function(E,G,I){try{if(E.createTextRange){E.focus();var F=E.createTextRange();F.collapse(true);F.moveStart(g,G);F.moveEnd(g,I-G);F.select()}else{E.setSelectionRange(G,I)}}catch(H){}},inArray:function(H,F){var E,G,I=F.children;if(!H||H.parentNode!==F){return -1}for(E=0,G=I.length;E<G;E++){if(H===I[E]){return E}}return -1}});v.ui.List=b;u.Select=b.extend({init:function(F,E){b.fn.init.call(this,F,E);this._initial=this.element.val()},setDataSource:function(E){this.options.dataSource=E;this._dataSource();if(this.options.autoBind){this.dataSource.fetch()}},close:function(){this.popup.close()},select:function(E){var F=this;if(E===j){return F.selectedIndex}else{F._select(E);F._triggerCascade();F._old=F._accessor();F._oldIndex=F.selectedIndex}},_accessor:function(I,F){var G=this.element,J=this._isSelect,H,E;G=G[0];if(I===j){if(J){E=G.selectedIndex;if(E>-1){H=G.options[E];if(H){I=H.value}}}else{I=G.value}return I}else{if(J){G.selectedIndex=F}else{G.value=I}}},_hideBusy:function(){var E=this;clearTimeout(E._busy);E._arrow.removeClass(y);E._focused.attr("aria-busy",false);E._busy=null},_showBusy:function(){var E=this;E._request=true;if(E._busy){return}E._busy=setTimeout(function(){E._focused.attr("aria-busy",true);E._arrow.addClass(y)},100)},_requestEnd:function(){this._request=false},_dataSource:function(){var H=this,G=H.element,F=H.options,I=F.dataSource||{},E;I=i.isArray(I)?{data:I}:I;if(H._isSelect){E=G[0].selectedIndex;if(E>-1){F.index=E}I.select=G;I.fields=[{field:F.dataTextField},{field:F.dataValueField}]}if(H.dataSource&&H._refreshHandler){H._unbindDataSource()}else{H._refreshHandler=x(H.refresh,H);H._progressHandler=x(H._showBusy,H);H._requestEndHandler=x(H._requestEnd,H)}H.dataSource=v.data.DataSource.create(I).bind(q,H._refreshHandler).bind(B,H._progressHandler).bind(n,H._requestEndHandler)},_get:function(F){var H=this,I=H._data(),E,G;if(typeof F==="function"){for(E=0,G=I.length;E<G;E++){if(F(I[E])){F=E;break}}}if(typeof F==="number"){if(F<0){return i()}F=i(H.ul[0].children[F])}if(F&&F.nodeType){F=i(F)}return F},_move:function(K){var H=this,G=K.keyCode,F=H.ul[0],E=H.popup.visible()?"_select":"_accept",J=H._current,L=G===s.DOWN,I;if(G===s.UP||L){if(K.altKey){H.toggle(L)}else{if(L){if(!J||(H.selectedIndex===-1&&!H.value()&&J[0]===F.firstChild)){J=F.firstChild}else{J=J[0].nextSibling}H[E](J)}else{H[E](J?J[0].previousSibling:F.lastChild)}}K.preventDefault();I=true}else{if(G===s.ENTER||G===s.TAB){if(H.popup.visible()){K.preventDefault()}H._accept(J);I=true}else{if(G===s.ESC){if(H.popup.visible()){K.preventDefault()}H.close();I=true}}}return I},_selectItem:function(G){var F=this,E=F.options;G=F._selectedValue||E.value||F._accessor();if(G){F.value(G)}else{if(!F._bound){F.select(E.index)}}},_fetchItems:function(F){var E=this,G=E.ul[0].firstChild;if(E._request){return true}if(!E._fetch&&!G){if(E.options.cascadeFrom){return !G}E.dataSource.one(q,function(){E.value(F);E._fetch=false});E._fetch=true;E.dataSource.fetch();return true}},_options:function(I,M){var L=this,J=L.element,H=J[0].selectedIndex,G=I.length,P="",K,F,O,E,N=0;if(M){P=M;H+=1;N=1}for(;N<G;N++){K="<option";F=I[N];O=L._text(F);E=L._value(F);if(E!==j){E+="";if(E.indexOf('"')!==-1){E=E.replace(f,"&quot;")}K+=' value="'+E+'"'}K+=">";if(O!==j){K+=a(O)}K+="</option>";P+=K}J.html(P);J[0].selectedIndex=H},_reset:function(){var G=this,E=G.element,F=E.closest("form");if(F[0]){G._resetHandler=function(){setTimeout(function(){G.value(G._initial)})};G._form=F.on("reset",G._resetHandler)}},_cascade:function(){var K=this,I=K.options,G=I.cascadeFrom,J,F,E,H,L;if(G){K._selectedValue=I.value||K._accessor();F=i("#"+G);J=F.data("kendo"+I.name);if(!J){J=F.data("kendo"+w[I.name])}if(!J){return}H=J.options.dataValueField;L=function(){var M=K._selectedValue||K.value();if(M){K.value(M);if(!K.dataSource.view()[0]||K.selectedIndex===-1){K._clearSelection(J,true)}}else{K.select(I.index)}K.enable()};E=function(){var M=J.dataItem(),P=M?J._value(M):null,O,N;if(P){O=K.dataSource.filter()||{};C(O,H);N=O.filters||[];N.push({field:H,operator:"eq",value:P});K.dataSource.one(q,L).filter(N)}else{K.enable(false);K._clearSelection(J)}K._triggerCascade()};J.bind("cascade",function(){E()});if(J._bound){E()}else{if(!J.value()){K.enable(false)}}}}});function C(F,E){if(F.filters){F.filters=i.grep(F.filters,function(G){C(G,E);if(G.filters){return G.filters.length}else{return G.field!=E}})}}})(window.kendo.jQuery);kendo_module({id:"dropdownlist",name:"DropDownList",category:"web",description:"The DropDownList widget displays a list of values and allows the selection of a single value from the list.",depends:["list"]});(function(d,f){var n=window.kendo,m=n.ui,k=m.Select,g=n.support.mobileOS,u=".kendoDropDownList",r="disabled",b="readonly",j="change",a="select",i="k-state-focused",s="k-state-default",v="k-state-disabled",c="aria-disabled",t="aria-readonly",e="k-state-selected",o="mouseenter"+u+" mouseleave"+u,l="tabindex",q=d.proxy;var h=k.extend({init:function(z,y){var B=this,x=y&&y.index,A,w,C;B.ns=u;y=d.isArray(y)?{dataSource:y}:y;k.fn.init.call(B,z,y);B._focusHandler=function(){B.wrapper.focus()};y=B.options;z=B.element.on("focus"+u,B._focusHandler);B._reset();B._word="";B._wrapper();B._tabindex();B.wrapper.data(l,B.wrapper.attr(l));B._aria();B._span();B._popup();B._mobile();B._accessors();B._dataSource();B._ignoreCase();B._enable();B._cascade();B._oldIndex=B.selectedIndex=-1;if(x!==f){y.index=x}if(y.autoBind){B.dataSource.fetch()}else{C=y.text||"";if(!C){A=B._optionLabelText(y.optionLabel),w=A&&y.index===0;if(z.is(a)){if(w){C=A}else{C=z.children(":selected").text()}}else{if(!z[0].value&&w){C=A}}}B.text(C)}n.notify(B)},options:{name:"DropDownList",enabled:true,autoBind:true,index:0,text:null,value:null,template:"",delay:500,height:200,dataTextField:"",dataValueField:"",optionLabel:"",cascadeFrom:"",ignoreCase:true,animation:{}},events:["open","close",j,"select","dataBinding","dataBound","cascade"],setOptions:function(w){k.fn.setOptions.call(this,w);this._template();this._accessors();this._aria()},destroy:function(){var w=this;w.wrapper.off(u);w.element.off(u);w._inputWrapper.off(u);k.fn.destroy.call(w)},open:function(){var w=this;if(!w.ul[0].firstChild){w._open=true;if(!w._request){w.dataSource.fetch()}}else{w.popup.open();w._scroll(w._current)}},toggle:function(w){this._toggle(w)},refresh:function(){var y=this,z=y._data(),x=z.length,w=y.options.optionLabel;y.trigger("dataBinding");if(y._current){y.current(null)}y.ul[0].innerHTML=n.render(y.template,z);y._height(x);if(y.popup.visible()){y.popup._position()}if(y.element.is(a)){if(w&&x){w=y._optionLabelText(w);w='<option value="">'+w+"</option>"}y._options(z,w)}if(y._open){y._open=false;y.toggle(!!x)}y._hideBusy();y._makeUnselectable();if(!y._fetch&&x){y._selectItem()}y._bound=true;y.trigger("dataBound")},search:function(y){if(y){var x=this,w=x.options.ignoreCase;if(w){y=y.toLowerCase()}x._select(function(z){var A=x._text(z);if(A!==f){A=(A+"");if(w){A=A.toLowerCase()}return A.indexOf(y)===0}})}},text:function(x){var w=this.span;if(x!==f){w.text(x)}else{return w.text()}},value:function(z){var y=this,w,x;if(z!==f){if(z!==null){z=z.toString()}y._selectedValue=z;x=z||(y.options.optionLabel&&!y.element[0].disabled&&z==="");if(x&&y._fetchItems(z)){return}w=y._index(z);y.select(w>-1?w:0)}else{return y._accessor()}},_editable:function(y){var A=this,z=A.element,x=y.disable,w=y.readonly,C=A.wrapper.off(u),B=A._inputWrapper.off(o);if(!w&&!x){z.removeAttr(r).removeAttr(b);B.addClass(s).removeClass(v).on(o,A._toggleHover);C.attr(l,C.data(l)).attr(c,false).attr(t,false).on("click"+u,function(D){A._blured=false;D.preventDefault();A.toggle()}).on("keydown"+u,q(A._keydown,A)).on("keypress"+u,q(A._keypress,A)).on("focusin"+u,function(){B.addClass(i);A._blured=false}).on("focusout"+u,function(){if(!A._blured){A._triggerCascade();A._blur();B.removeClass(i);A._blured=true;z.blur()}})}else{if(x){C.removeAttr(l);B.addClass(v).removeClass(s)}else{B.addClass(s).removeClass(v)}z.attr(r,x).attr(b,w);C.attr(c,x).attr(t,w)}},_accept:function(w){this._focus(w)},_optionLabelText:function(){var w=this.options,y=w.dataTextField,x=w.optionLabel;if(x&&y&&typeof x==="object"){return this._text(x)}return x},_data:function(){var A=this,E=A.options,B=E.optionLabel,x=E.dataTextField,D=E.dataValueField,y=A.dataSource.view(),w=y.length,z=B,C=0;if(B&&w){if(typeof B==="object"){z=B}else{if(x){z={};x=x.split(".");D=D.split(".");p(z,D,"");p(z,x,B)}}z=new n.data.ObservableArray([z]);for(;C<w;C++){z.push(y[C])}y=z}return y},_keydown:function(A){var z=this,x=A.keyCode,y=n.keys,w=z.ul[0];if(x===y.LEFT){x=y.UP}else{if(x===y.RIGHT){x=y.DOWN}}A.keyCode=x;z._move(A);if(x===y.HOME){A.preventDefault();z._select(w.firstChild)}else{if(x===y.END){A.preventDefault();z._select(w.lastChild)}}},_selectNext:function(B,x){var z=this,w=z.options.ignoreCase,A=z._data(),y=A.length,C;for(;x<y;x++){C=z._text(A[x]);if(C){C=C+"";if(w){C=C.toLowerCase()}if(C.indexOf(B)===0){z._select(x);z._triggerEvents();return true}}}return false},_keypress:function(x){var w=this;setTimeout(function(){var z=String.fromCharCode(x.keyCode||x.charCode),y=w.selectedIndex;if(w.options.ignoreCase){z=z.toLowerCase()}if(z===w._last&&y>-1){w._word=z;if(w._selectNext(z,y+1)){return}}else{w._word+=z}w._last=z;w._search()})},_popup:function(){k.fn._popup.call(this);this.popup.one("open",function(){this.wrapper=n.wrap(this.element).addClass("km-popup")})},_search:function(){var w=this,y=w.dataSource,x=w._word;clearTimeout(w._typing);w._typing=setTimeout(function(){w._word=""},w.options.delay);if(!w.ul[0].firstChild){y.one(j,function(){if(y.data()[0]){w.search(x)}}).fetch();return}w.search(x);w._triggerEvents()},_select:function(x){var y=this,B=y._current,A=y._data(),z,C,w;x=y._get(x);if(x&&x[0]&&!x.hasClass(e)){if(B){B.removeClass(e)}w=m.List.inArray(x[0],y.ul[0]);if(w>-1){A=A[w];C=y._text(A);z=y._value(A);y.selectedIndex=w;y.text(C);y._accessor(z!==f?z:C,w);y._selectedValue=y._accessor();y.current(x.addClass(e));if(y._optionID){y._current.attr("aria-selected",true)}}}},_triggerEvents:function(){if(!this.popup.visible()){this._triggerCascade();this._change()}},_mobile:function(){var y=this,x=y.popup,w=x.element.parents(".km-root").eq(0);if(w.length&&g){x.options.animation.open.effects=(g.android||g.meego)?"fadeIn":(g.ios||g.wp)?"slideIn:up":x.options.animation.open.effects}},_span:function(){var x=this,z=x.wrapper,y="span.k-input",w;w=z.find(y);if(!w[0]){z.append('<span unselectable="on" class="k-dropdown-wrap k-state-default"><span unselectable="on" class="k-input">&nbsp;</span><span unselectable="on" class="k-select"><span unselectable="on" class="k-icon k-i-arrow-s">select</span></span></span>').append(x.element);w=z.find(y)}x.span=w;x._inputWrapper=d(z[0].firstChild);x._arrow=z.find(".k-icon").mousedown(function(A){A.preventDefault()})},_wrapper:function(){var x=this,w=x.element,z=w[0],y;y=w.parent();if(!y.is("span.k-widget")){y=w.wrap("<span />").parent();y[0].style.cssText=z.style.cssText}w.hide();x._focused=x.wrapper=y.addClass("k-widget k-dropdown k-header").addClass(z.className).css("display","").attr({unselectable:"on",role:"listbox","aria-haspopup":true,"aria-expanded":false})},_clearSelection:function(){var x=this,w=x.options.optionLabel;if(x.dataSource.view()[0]&&w){x.select(0);return}x.text(w);x.element.val("");x.selectedIndex=-1}});function p(y,x,z){var w=0,B=x.length-1,A;for(;w<B;++w){A=x[w];if(!(A in y)){y[A]={}}y=y[A]}y[x[B]]=z}m.plugin(h)})(window.kendo.jQuery);kendo_module({id:"fx",name:"Effects",category:"framework",description:"Required for animation effects in all Kendo UI widgets.",depends:["core"]});(function(Q,p){var V=window.kendo,z=V.fx,ad=Q.each,n=Q.extend,ah=Q.proxy,aa=V.support,e=aa.browser,H=aa.transforms,j=aa.transitions,l={scale:0,scalex:0,scaley:0,scale3d:0},g={translate:0,translatex:0,translatey:0,translate3d:0},M=(typeof document.documentElement.style.zoom!=="undefined")&&!H,L=/matrix3?d?\s*\(.*,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?,\s*([\d\.\-]+)\w*?/i,al=/^(-?[\d\.\-]+)?[\w\s]*,?\s*(-?[\d\.\-]+)?[\w\s]*/i,D=/translatex?$/i,X=/(zoom|fade|expand)(\w+)/,a=/(zoom|fade|expand)/,q=/[xy]$/i,Y=["perspective","rotate","rotatex","rotatey","rotatez","rotate3d","scale","scalex","scaley","scalez","scale3d","skew","skewx","skewy","translate","translatex","translatey","translatez","translate3d","matrix","matrix3d"],U=["rotate","scale","scalex","scaley","skew","skewx","skewy","translate","translatex","translatey","matrix"],an={rotate:"deg",scale:"",skew:"px",translate:"px"},W=H.css,ac={},ai=Math.round,u="",am="px",Z="none",O="auto",h="width",P="height",ag="hidden",y="origin",F="abortId",ab="overflow",x="translate",af="completeCallback",ak=W+"transition",aj=W+"transform",ap=W+"backface-visibility",v=W+"perspective",ao="800px",i="perspective("+ao+")",k={left:{reverse:"right",property:"left",transition:"translatex",vertical:false,modifier:-1},right:{reverse:"left",property:"left",transition:"translatex",vertical:false,modifier:1},down:{reverse:"up",property:"top",transition:"translatey",vertical:true,modifier:1},up:{reverse:"down",property:"top",transition:"translatey",vertical:true,modifier:-1},top:{reverse:"bottom"},bottom:{reverse:"top"},"in":{reverse:"out",modifier:-1},out:{reverse:"in",modifier:1},vertical:{reverse:"vertical"},horizontal:{reverse:"horizontal"}};V.directions=k;n(Q.fn,{kendoStop:function(ar,aq){if(j){return V.fx.stopQueue(this,ar||false,aq||false)}else{return this.stop(ar,aq)}}});if(H&&!j){ad(U,function(aq,ar){Q.fn[ar]=function(av){if(typeof av=="undefined"){return A(this,ar)}else{var au=Q(this)[0],at=ar+"("+av+an[ar.replace(q,"")]+")";if(au.style.cssText.indexOf(aj)==-1){Q(this).css(aj,at)}else{au.style.cssText=au.style.cssText.replace(new RegExp(ar+"\\(.*?\\)","i"),at)}}return this};Q.fx.step[ar]=function(at){Q(at.elem)[ar](at.now)}});var C=Q.fx.prototype.cur;Q.fx.prototype.cur=function(){if(U.indexOf(this.prop)!=-1){return parseFloat(Q(this.elem)[this.prop]())}return C.apply(this,arguments)}}V.toggleClass=function(at,ar,aq,au){if(ar){ar=ar.split(" ");if(j){aq=n({exclusive:"all",duration:400,ease:"ease-out"},aq);at.css(ak,aq.exclusive+" "+aq.duration+"ms "+aq.ease);setTimeout(function(){at.css(ak,"").css(P)},aq.duration)}ad(ar,function(av,aw){at.toggleClass(aw,au)})}return at};V.parseEffects=function(aq,at){var ar={};if(typeof aq==="string"){ad(aq.split(" "),function(au,ay){var ax=!a.test(ay),av=ay.replace(X,function(aC,aB,aD){return aB+":"+aD.toLowerCase()}),aw=av.split(":"),aA=aw[1],az={};if(aw.length>1){az.direction=(at&&ax?k[aA].reverse:aA)}ar[aw[0]]=az})}else{ad(aq,function(au){var av=this.direction;if(av&&at&&!a.test(au)){this.direction=k[av].reverse}ar[au]=this})}return ar};function ae(aq){return parseInt(aq,10)}function f(aq,ar){return ae(aq.css(ar))}function o(aq){var ar=aq.effects;if(ar==="zoom"){ar="zoom:in fade:in"}if(ar==="fade"){ar="fade:in"}if(ar==="slide"){ar="tile:left"}if(/^slide:(.+)$/.test(ar)){ar="tile:"+RegExp.$1}if(ar==="overlay"){ar="slideIn:left"}if(/^overlay:(.+)$/.test(ar)){ar="slideIn:"+RegExp.$1}aq.effects=V.parseEffects(ar);return aq}function E(at){var ar=[];for(var aq in at){ar.push(aq)}return ar}function b(ar){for(var aq in ar){if(Y.indexOf(aq)!=-1&&U.indexOf(aq)==-1){delete ar[aq]}}return ar}function m(au,at){var aw=[],av={},aq,ar,ax,ay;for(ar in at){aq=ar.toLowerCase();ay=H&&Y.indexOf(aq)!=-1;if(!aa.hasHW3D&&ay&&U.indexOf(aq)==-1){delete at[ar]}else{ax=at[ar];if(ay){aw.push(ar+"("+ax+")")}else{av[ar]=ax}}}if(aw.length){av[aj]=aw.join(" ")}return av}if(j){n(V.fx,{transition:function(ar,aw,az){var av,at=0,ay=ar.data("keys")||[],aq;az=n({duration:200,ease:"ease-out",complete:null,exclusive:"all"},az);var au=false;var ax=function(){if(!au){au=true;if(aq){clearTimeout(aq);aq=null}ar.removeData(F).dequeue().css(ak,"").css(ak);az.complete.call(ar)}};az.duration=Q.fx?Q.fx.speeds[az.duration]||az.duration:az.duration;av=m(ar,aw);Q.merge(ay,E(av));ar.data("keys",Q.unique(ay)).height();ar.css(ak,az.exclusive+" "+az.duration+"ms "+az.ease).css(ak);ar.css(av).css(aj);if(j.event){ar.one(j.event,ax);if(az.duration!==0){at=500}}aq=setTimeout(ax,az.duration+at);ar.data(F,aq);ar.data(af,ax)},stopQueue:function(at,av,ar){var au,aq=at.data("keys"),ax=(!ar&&aq),aw=at.data(af);if(ax){au=V.getComputedStyles(at[0],aq)}if(aw){aw()}if(ax){at.css(au)}return at.removeData("keys").stop(av)}})}function A(at,av){if(H){var ar=at.css(aj);if(ar==Z){return av=="scale"?1:0}var aq=ar.match(new RegExp(av+"\\s*\\(([\\d\\w\\.]+)")),au=0;if(aq){au=ae(aq[1])}else{aq=ar.match(L)||[0,0,0,0,0];av=av.toLowerCase();if(D.test(av)){au=parseFloat(aq[3]/aq[2])}else{if(av=="translatey"){au=parseFloat(aq[4]/aq[2])}else{if(av=="scale"){au=parseFloat(aq[2])}else{if(av=="rotate"){au=parseFloat(Math.atan2(aq[2],aq[1]))}}}}}return au}else{return parseFloat(at.css(av))}}var B=V.Class.extend({init:function(ar,aq){var at=this;at.element=ar;at.effects=[];at.options=aq;at.restore=[]},run:function(at){var az=this,aE,aC,aq,av=at.length,ay=az.element,aF=az.options,aD=Q.Deferred(),ar={},ax={},aA,au,aw;az.effects=at;aD.then(Q.proxy(az,"complete"));ay.data("animating",true);for(aC=0;aC<av;aC++){aE=at[aC];aE.setReverse(aF.reverse);aE.setOptions(aF);az.addRestoreProperties(aE.restore);aE.prepare(ar,ax);au=aE.children();for(aq=0,aw=au.length;aq<aw;aq++){au[aq].duration(aF.duration).run()}}for(var aB in aF.effects){n(ax,aF.effects[aB].properties)}if(!ay.is(":visible")){n(ar,{display:ay.data("olddisplay")||"block"})}if(H&&!aF.reset){aA=ay.data("targetTransform");if(aA){ar=n(aA,ar)}}ar=m(ay,ar);if(H&&!j){ar=b(ar)}ay.css(ar).css(aj);for(aC=0;aC<av;aC++){at[aC].setup()}if(aF.init){aF.init()}ay.data("targetTransform",ax);V.fx.animate(ay,ax,n({},aF,{complete:aD.resolve}));return aD.promise()},stop:function(){Q(this.element).kendoStop(true,true)},addRestoreProperties:function(at){var ar=this.element,av,aq=0,au=at.length;for(;aq<au;aq++){av=at[aq];this.restore.push(av);if(!ar.data(av)){ar.data(av,ar.css(av))}}},restoreCallback:function(){var ar=this.element;for(var aq=0,at=this.restore.length;aq<at;aq++){var au=this.restore[aq];ar.css(au,ar.data(au))}},complete:function(){var aw=this,aq=0,at=aw.element,ar=aw.options,av=aw.effects,au=av.length;at.removeData("animating").dequeue();if(ar.hide){at.data("olddisplay",at.css("display")).hide()}this.restoreCallback();if(M&&!H){setTimeout(Q.proxy(this,"restoreCallback"),0)}for(;aq<au;aq++){av[aq].teardown()}if(ar.completeCallback){ar.completeCallback(at)}}});V.fx.promise=function(av,ar){var ay=[],ax,au=new B(av,ar),at=V.parseEffects(ar.effects),aw;ar.effects=at;for(var aq in at){ax=ac[aq];if(ax){aw=new ax(av,at[aq].direction);ay.push(aw)}}if(ay[0]){au.run(ay)}else{if(!av.is(":visible")){av.css({display:av.data("olddisplay")||"block"}).css("display")}if(ar.init){ar.init()}av.dequeue();au.complete()}};V.fx.transitionPromise=function(at,aq,ar){V.fx.animateTo(at,aq,ar);return at};n(V.fx,{animate:function(au,ar,aq){var at=aq.transition!==false;delete aq.transition;if(j&&"transition" in z&&at){z.transition(au,ar,aq)}else{if(H){au.animate(b(ar),{queue:false,show:false,hide:false,duration:aq.duration,complete:aq.complete})}else{au.each(function(){var aw=Q(this),av={};ad(Y,function(aE,aD){var az,aG=ar?ar[aD]+" ":null;if(aG){var aF=ar;if(aD in l&&ar[aD]!==p){az=aG.match(al);if(H){n(aF,{scale:+az[0]})}}else{if(aD in g&&ar[aD]!==p){var aC=aw.css("position"),ax=(aC=="absolute"||aC=="fixed");if(!aw.data(x)){if(ax){aw.data(x,{top:f(aw,"top")||0,left:f(aw,"left")||0,bottom:f(aw,"bottom"),right:f(aw,"right")})}else{aw.data(x,{top:f(aw,"marginTop")||0,left:f(aw,"marginLeft")||0})}}var aB=aw.data(x);az=aG.match(al);if(az){var aA=aD==x+"y"?+null:+az[1],ay=aD==x+"y"?+az[1]:+az[2];if(ax){if(!isNaN(aB.right)){if(!isNaN(aA)){n(aF,{right:aB.right-aA})}}else{if(!isNaN(aA)){n(aF,{left:aB.left+aA})}}if(!isNaN(aB.bottom)){if(!isNaN(ay)){n(aF,{bottom:aB.bottom-ay})}}else{if(!isNaN(ay)){n(aF,{top:aB.top+ay})}}}else{if(!isNaN(aA)){n(aF,{marginLeft:aB.left+aA})}if(!isNaN(ay)){n(aF,{marginTop:aB.top+ay})}}}}}if(!H&&aD!="scale"&&aD in aF){delete aF[aD]}if(aF){n(av,aF)}}});if(e.msie){delete av.scale}aw.animate(av,{queue:false,show:false,hide:false,duration:aq.duration,complete:aq.complete})})}}},animateTo:function(av,aq,at){var aw,ax=av.parents().filter(aq.parents()).first(),au;at=o(at);if(!aa.mobileOS.android){au=ax.css(ab);ax.css(ab,"hidden")}Q.each(at.effects,function(ay,az){aw=aw||az.direction});function ar(ay){aq[0].style.cssText="";av[0].style.cssText="";if(!aa.mobileOS.android){ax.css(ab,au)}if(at.completeCallback){at.completeCallback.call(av,ay)}}at.complete=e.msie?function(){setTimeout(ar,0)}:ar;at.previous=(at.reverse?aq:av);at.reset=true;(at.reverse?av:aq).each(function(){Q(this).kendoAnimate(n(true,{},at));at.complete=null;at.previous=null})}});var r=V.Class.extend({init:function(aq,at){var ar=this;ar.element=aq;ar._direction=at;ar.options={};ar._additionalEffects=[];if(!ar.restore){ar.restore=[]}},reverse:function(){this._reverse=true;return this.run()},play:function(){this._reverse=false;return this.run()},add:function(aq){this._additionalEffects.push(aq);return this},direction:function(aq){this._direction=aq;return this},duration:function(aq){this._duration=aq;return this},compositeRun:function(){var at=this,aq=new B(at.element,{reverse:at._reverse,duration:at._duration}),ar=at._additionalEffects.concat([at]);return aq.run(ar)},run:function(){if(this._additionalEffects&&this._additionalEffects[0]){return this.compositeRun()}var ax=this,aw=ax.element,aB=0,az=ax.restore,at=az.length,aA,aC=Q.Deferred(),aq={},av={},ay,ar=ax.children(),au=ar.length;aC.then(Q.proxy(ax,"_complete"));aw.data("animating",true);for(aB=0;aB<at;aB++){aA=az[aB];if(!aw.data(aA)){aw.data(aA,aw.css(aA))}}for(aB=0;aB<au;aB++){ar[aB].duration(ax._duration).run()}ax.prepare(aq,av);if(!aw.is(":visible")){n(aq,{display:aw.data("olddisplay")||"block"})}if(H){ay=aw.data("targetTransform");if(ay){aq=n(ay,aq)}}aq=m(aw,aq);if(H&&!j){aq=b(aq)}aw.css(aq).css(aj);ax.setup();aw.data("targetTransform",av);V.fx.animate(aw,av,{duration:ax._duration,complete:aC.resolve});return aC.promise()},stop:function(){var aq=0,ar=this.children(),at=ar.length;for(aq=0;aq<at;aq++){ar[aq].stop()}Q(this.element).kendoStop(true,true);return this},restoreCallback:function(){var ar=this.element;for(var aq=0,at=this.restore.length;aq<at;aq++){var au=this.restore[aq];ar.css(au,ar.data(au))}},_complete:function(){var ar=this,aq=ar.element;aq.removeData("animating").dequeue();ar.restoreCallback();if(ar.shouldHide()){aq.data("olddisplay",aq.css("display")).hide()}if(M&&!H){setTimeout(Q.proxy(ar,"restoreCallback"),0)}ar.teardown()},setOptions:function(aq){n(true,this.options,aq)},children:function(){return[]},shouldHide:Q.noop,setup:Q.noop,prepare:Q.noop,teardown:Q.noop,directions:[],setReverse:function(aq){this._reverse=aq;return this}});function K(aq){return aq.toUpperCase()}function G(aq){return aq.replace(/^./,K)}function d(aq,ar){var at=r.extend(ar),au=at.prototype.directions;ac[aq]=at;z.Element.prototype[aq]=function(ay,ax,aw,av){return new at(this.element,ay,ax,aw,av)};ad(au,function(av,aw){z.Element.prototype[aq+G(aw)]=function(az,ay,ax){return new at(this.element,aw,az,ay,ax)}})}var J=["left","right","up","down"],I=["in","out"];d("slideIn",{directions:J,prepare:function(aq,at){var ax=this,av,aw=ax.element,az=k[ax._direction],au=-az.modifier*(az.vertical?aw.outerHeight():aw.outerWidth()),ar=au/(ax.options&&ax.options.divisor||1)+am,ay="0px";if(ax._reverse){av=aq;aq=at;at=av}if(H){aq[az.transition]=ar;at[az.transition]=ay}else{aq[az.property]=ar;at[az.property]=ay}}});d("tile",{directions:J,init:function(aq,at,ar){r.prototype.init.call(this,aq,at);this.options={previous:ar}},children:function(){var av=this,ar=av._reverse,au=av.options.previous,aq=av._direction;var at=[z(av.element).slideIn(aq).setReverse(ar)];if(au){at.push(z(au).slideIn(k[aq].reverse).setReverse(!ar))}return at}});function c(ar,at,aq){d(ar,{directions:I,restore:[at],startValue:function(au){this._startValue=au;return this},endValue:function(au){this._endValue=au;return this},shouldHide:function(){return(this._direction==="out"&&this._end()===aq)?!this._reverse:this._reverse},_end:function(){return this._endValue||aq},_start:function(){return this._startValue||1},prepare:function(az,au){var ax=this,aw=ax.element.data(at),av=ax.shouldHide(),ay=isNaN(aw)||aw===""?ax._start():aw;az[at]=au[at]=ax._end();if(av){az[at]=ay}else{au[at]=ay}}})}c("fade","opacity",0);c("zoom","scale",0.01);d("slideMargin",{prepare:function(aq,at){var aw=this,av=aw.element,az=aw.options,ay=av.data(y),au=az.offset,ar,ax=aw._reverse;if(!ax&&ay===null){av.data(y,parseFloat(av.css("margin-"+az.axis)))}ar=(av.data(y)||0);at["margin-"+az.axis]=!ax?ar+au:ar}});d("slideTo",{prepare:function(ax,aq){var av=this,au=av.element,at=av.options,aw=at.offset.split(","),ar=av._reverse;if(H){aq.translatex=!ar?aw[0]:0;aq.translatey=!ar?aw[1]:0}else{aq.left=!ar?aw[0]:0;aq.top=!ar?aw[1]:0}au.css("left")}});d("expand",{directions:["horizontal","vertical"],restore:[ab],prepare:function(aq,au){var aw=this,av=aw.element,aB=aw.options,ax=aw._reverse,ay=aw._direction==="vertical"?P:h,aA=av[0].style[ay],at=av.data(ay),ar=parseFloat(at||aA),az=ai(av.css(ay,O)[ay]());aq.overflow=ag;ar=(aB&&aB.reset)?az||ar:ar||az;au[ay]=(ax?0:ar)+am;aq[ay]=(ax?ar:0)+am;if(at===p){av.data(ay,aA)}},shouldHide:function(){return this._reverse},teardown:function(){var at=this,aq=at.element,au=at._direction==="vertical"?P:h,ar=aq.data(au);if(ar==O||ar===u){setTimeout(function(){aq.css(au,O).css(au)},0)}}});var T={position:"absolute",marginLeft:0,marginTop:0,scale:1};d("transfer",{init:function(aq,ar){this.element=aq;this.options={target:ar};this.restore=[]},setup:function(){this.element.appendTo(document.body)},prepare:function(aA,az){var aC=this,au=aC.element,ay=aC.options,aD=aC._reverse,aM=ay.target,aB,aG=A(au,"scale"),aL=aM.offset(),aN=aM.outerHeight()/au.outerHeight();n(aA,T);az.scale=1;au.css(aj,"scale(1)").css(aj);aB=au.offset();au.css(aj,"scale("+aG+")");var aK=0,ax=0,aJ=aL.left-aB.left,aw=aL.top-aB.top,aI=aK+au.outerWidth(),at=ax,aH=aJ+aM.outerWidth(),aq=aw,aF=(aw-ax)/(aJ-aK),aE=(aq-at)/(aH-aI),av=(ax-at-aF*aK+aE*aI)/(aE-aF),ar=ax+aF*(av-aK);aA.top=aB.top;aA.left=aB.left;aA.transformOrigin=av+am+" "+ar+am;if(aD){aA.scale=aN}else{az.scale=aN}}});var w={top:"rect(auto auto $size auto)",bottom:"rect($size auto auto auto)",left:"rect(auto $size auto auto)",right:"rect(auto auto auto $size)"};var t={top:{start:"rotatex(0deg)",end:"rotatex(180deg)"},bottom:{start:"rotatex(-180deg)",end:"rotatex(0deg)"},left:{start:"rotatey(0deg)",end:"rotatey(-180deg)"},right:{start:"rotatey(180deg)",end:"rotatey(0deg)"}};function S(aq,au){var ar=V.directions[au].vertical,at=(aq[ar?P:h]()/2)+"px";return w[au].replace("$size",at)}d("turningPage",{directions:J,init:function(ar,at,aq){r.prototype.init.call(this,ar,at);this._container=aq},prepare:function(aw,aq){var au=this,ar=au._reverse,av=ar?k[au._direction].reverse:au._direction,at=t[av];aw.zIndex=1;if(au._clipInHalf){aw.clip=S(au._container,V.directions[av].reverse)}aw[ap]=ag;aq[aj]=i+(ar?at.start:at.end);aw[aj]=i+(ar?at.end:at.start)},setup:function(){this._container.append(this.element)},face:function(aq){this._face=aq;return this},shouldHide:function(){var ar=this,aq=ar._reverse,at=ar._face;return(aq&&!at)||(!aq&&at)},clipInHalf:function(aq){this._clipInHalf=aq;return this},temporary:function(aq){this._temporary=aq;return this},teardown:function(){if(this._temporary){this.element.remove()}}});d("staticPage",{directions:J,init:function(ar,at,aq){r.prototype.init.call(this,ar,at);this._container=aq},restore:["clip"],prepare:function(at){var aq=this,ar=aq._reverse?k[aq._direction].reverse:aq._direction;at.clip=S(aq._container,ar)},shouldHide:function(){var ar=this,aq=ar._reverse,at=ar._face;return(aq&&!at)||(!aq&&at)},face:function(aq){this._face=aq;return this}});d("pageturn",{directions:["horizontal","vertical"],init:function(ar,au,at,aq){r.prototype.init.call(this,ar,au);this.options={};this.options.face=at;this.options.back=aq},children:function(){var at=this,az=at.options,av=at._direction==="horizontal"?"left":"top",aq=V.directions[av].reverse,au=at._reverse,aw,ay=az.face.clone(true).removeAttr("id"),ax=az.back.clone(true).removeAttr("id"),ar=at.element;if(au){aw=av;av=aq;aq=aw}return[z(az.face).staticPage(av,ar).face(true).setReverse(au),z(az.back).staticPage(aq,ar).setReverse(au),z(ay).turningPage(av,ar).face(true).clipInHalf(true).temporary(true).setReverse(au),z(ax).turningPage(aq,ar).clipInHalf(true).temporary(true).setReverse(au)]},prepare:function(aq){aq[v]=ao;aq.transformStyle="preserve-3d"},teardown:function(){this.element.find(".temp-pages").remove()}});d("flip",{directions:["horizontal","vertical"],init:function(ar,au,at,aq){r.prototype.init.call(this,ar,au);this.options={};this.options.face=at;this.options.back=aq},children:function(){var aw=this,au=aw.options,ax=aw._direction==="horizontal"?"left":"top",ar=V.directions[ax].reverse,at=aw._reverse,aq,av=aw.element;if(at){aq=ax;ax=ar;ar=aq}return[z(au.face).turningPage(ax,av).face(true).setReverse(at),z(au.back).turningPage(ar,av).setReverse(at)]},prepare:function(aq){aq[v]=ao;aq.transformStyle="preserve-3d"}});var R=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(aq){setTimeout(aq,1000/60)};var s=V.Class.extend({init:function(){var aq=this;aq._tickProxy=ah(aq._tick,aq);aq._started=false},tick:Q.noop,done:Q.noop,onEnd:Q.noop,onCancel:Q.noop,start:function(){if(!this.done()){this._started=true;R(this._tickProxy)}},cancel:function(){this._started=false;this.onCancel()},_tick:function(){var aq=this;if(!aq._started){return}aq.tick();if(!aq.done()){R(aq._tickProxy)}else{aq._started=false;aq.onEnd()}}});var N=s.extend({init:function(aq){var ar=this;n(ar,aq);s.fn.init.call(ar)},done:function(){return this.timePassed()>=this.duration},timePassed:function(){return Math.min(this.duration,(Date.now())-this.startDate)},moveTo:function(aq){var ar=this,at=ar.movable;ar.initial=at[ar.axis];ar.delta=aq.location-ar.initial;ar.duration=aq.duration||300;ar.tick=ar._easeProxy(aq.ease);ar.startDate=Date.now();ar.start()},_easeProxy:function(ar){var aq=this;return function(){aq.movable.moveAxis(aq.axis,ar(aq.timePassed(),aq.initial,aq.delta,aq.duration))}}});n(N,{easeOutExpo:function(ar,aq,au,at){return(ar==at)?aq+au:au*(-Math.pow(2,-10*ar/at)+1)+aq},easeOutBack:function(ar,aq,av,au,at){at=1.70158;return av*((ar=ar/au-1)*ar*((at+1)*ar+at)+1)+aq}});z.Animation=s;z.Transition=N;z.createEffect=d;z.Effects=ac})(window.kendo.jQuery);kendo_module({id:"tabstrip",name:"TabStrip",category:"web",description:"The TabStrip widget displays a collection of tabs with associated tab content.",depends:["data"]});(function(z,n){var A=window.kendo,G=A.ui,w=A.keys,x=z.map,M=z.each,a=z.trim,l=z.extend,f=A.template,e=G.Widget,t=/^(a|div)$/i,D=".kendoTabStrip",E="img",K="href",O="prev",v="k-link",F="k-last",J="click",B="error",d=":empty",j="k-image",q="k-first",u="select",m="activate",I="k-content",k="contentUrl",g="mouseenter",p="mouseleave",b="contentLoad",h="k-state-disabled",o="k-state-default",H="k-state-active",i="k-state-focused",P="k-state-hover",L="k-tab-on-top",N=".k-item:not(."+h+")",y=".k-tabstrip-items > "+N+":not(."+H+")",c={content:f("<div class='k-content'#= contentAttributes(data) # role='tabpanel'>#= content(item) #</div>"),itemWrapper:f("<#= tag(item) # class='k-link'#= contentUrl(item) ##= textAttributes(item) #>#= image(item) ##= sprite(item) ##= text(item) #</#= tag(item) #>"),item:f("<li class='#= wrapperCssClass(group, item) #' role='tab' #=item.active ? \"aria-selected='true'\" : ''#>#= itemWrapper(data) #</li>"),image:f("<img class='k-image' alt='' src='#= imageUrl #' />"),sprite:f("<span class='k-sprite #= spriteCssClass #'></span>"),empty:f("")},r={wrapperCssClass:function(U,T){var R="k-item",S=T.index;if(T.enabled===false){R+=" k-state-disabled"}else{R+=" k-state-default"}if(S===0){R+=" k-first"}if(S==U.length-1){R+=" k-last"}return R},textAttributes:function(R){return R.url?" href='"+R.url+"'":""},text:function(R){return R.encoded===false?R.text:A.htmlEncode(R.text)},tag:function(R){return R.url?"a":"span"},contentAttributes:function(R){return R.active!==true?" style='display:none' aria-hidden='true' aria-expanded='false'":""},content:function(R){return R.content?R.content:R.contentUrl?"":"&nbsp;"},contentUrl:function(R){return R.contentUrl?A.attr("content-url")+'="'+R.contentUrl+'"':""}};function Q(R){R.children(E).addClass(j);R.children("a").addClass(v).children(E).addClass(j);R.filter(":not([disabled]):not([class*=k-state-disabled])").addClass(o);R.filter("li[disabled]").addClass(h).removeAttr("disabled");R.filter(":not([class*=k-state])").children("a").filter(":focus").parent().addClass(H+" "+L);R.attr("role","tab");R.filter("."+H).attr("aria-selected",true);R.each(function(){var S=z(this);if(!S.children("."+v).length){S.contents().filter(function(){return(!this.nodeName.match(t)&&!(this.nodeType==3&&!a(this.nodeValue)))}).wrapAll("<a class='"+v+"'/>")}})}function s(S){var R=S.children(".k-item");R.filter(".k-first:not(:first-child)").removeClass(q);R.filter(".k-last:not(:last-child)").removeClass(F);R.filter(":first-child").addClass(q);R.filter(":last-child").addClass(F)}var C=e.extend({init:function(S,R){var U=this;e.fn.init.call(U,S,R);U._animations(U.options);if(U.element.is("ul")){U.wrapper=U.element.wrapAll("<div />").parent()}else{U.wrapper=U.element}R=U.options;U._isRtl=A.support.isRtl(U.wrapper);U._tabindex();U._updateClasses();U._dataSource();if(R.dataSource){U.dataSource.fetch()}if(U.options.contentUrls){U.wrapper.find(".k-tabstrip-items > .k-item").each(function(W,X){z(X).find(">."+v).data(k,U.options.contentUrls[W])})}U.wrapper.on(g+D+" "+p+D,y,U._toggleHover).on("keydown"+D,z.proxy(U._keydown,U)).on("focus"+D,z.proxy(U._active,U)).on("blur"+D,function(){U._current(null)});U.wrapper.children(".k-tabstrip-items").on(J+D,".k-state-disabled .k-link",false).on(J+D," > "+N,function(W){if(U._click(z(W.currentTarget))){W.preventDefault()}});var V=U.tabGroup.children("li."+H),T=U.contentHolder(V.index());if(T.length>0&&T[0].childNodes.length===0){U.activateTab(V.eq(0))}U.element.attr("role","tablist");if(U.element[0].id){U._ariaId=U.element[0].id+"_ts_active"}A.notify(U)},_active:function(){var R=this.tabGroup.children().filter("."+H);R=R[0]?R:this._endItem("first");if(R[0]){this._current(R)}},_endItem:function(R){return this.tabGroup.children(N)[R]()},_item:function(S,T){var R;if(T===O){R="last"}else{R="first"}if(!S){return this._endItem(R)}S=S[T]();if(!S[0]){S=this._endItem(R)}if(S.hasClass(h)){S=this._item(S,T)}return S},_current:function(R){var S=this,T=S._focused,U=S._ariaId;if(R===n){return T}if(T){if(T[0].id===U){T.removeAttr("id")}T.removeClass(i)}if(R){if(!R.hasClass(H)){R.addClass(i)}S.element.removeAttr("aria-activedescendant");U=R[0].id||U;if(U){R.attr("id",U);S.element.attr("aria-activedescendant",U)}}S._focused=R},_keydown:function(W){var S=this,R=W.keyCode,V=S._current(),U=S._isRtl,T;if(W.target!=W.currentTarget){return}if(R==w.DOWN||R==w.RIGHT){T=U?O:"next"}else{if(R==w.UP||R==w.LEFT){T=U?"next":O}else{if(R==w.ENTER||R==w.SPACEBAR){S._click(V);W.preventDefault()}else{if(R==w.HOME){S._click(S._endItem("first"));W.preventDefault();return}else{if(R==w.END){S._click(S._endItem("last"));W.preventDefault();return}}}}}if(T){S._click(S._item(V,T));W.preventDefault()}},_dataSource:function(){var R=this;if(R.dataSource&&R._refreshHandler){R.dataSource.unbind("change",R._refreshHandler)}else{R._refreshHandler=z.proxy(R.refresh,R)}R.dataSource=A.data.DataSource.create(R.options.dataSource).bind("change",R._refreshHandler)},setDataSource:function(R){this.options.dataSource=R;this._dataSource();R.fetch()},_animations:function(R){if(R&&("animation" in R)&&!R.animation){R.animation={open:{effects:{}},close:{effects:{}}}}},refresh:function(Y){var X=this,af=X.options,ae=A.getter(af.dataTextField),Z=A.getter(af.dataContentField),U=A.getter(af.dataContentUrlField),V=A.getter(af.dataImageUrlField),R=A.getter(af.dataUrlField),ad=A.getter(af.dataSpriteCssClass),ac,ab=[],T,W,aa=X.dataSource.view(),S;Y=Y||{};W=Y.action;if(W){aa=Y.items}for(ac=0,S=aa.length;ac<S;ac++){T={text:ae(aa[ac])};if(af.dataContentField){T.content=Z(aa[ac])}if(af.dataContentUrlField){T.contentUrl=U(aa[ac])}if(af.dataUrlField){T.url=R(aa[ac])}if(af.dataImageUrlField){T.imageUrl=V(aa[ac])}if(af.dataSpriteCssClass){T.spriteCssClass=ad(aa[ac])}ab[ac]=T}if(Y.action=="add"){if(Y.index<X.tabGroup.children().length){X.insertBefore(ab,X.tabGroup.children().eq(Y.index))}else{X.append(ab)}}else{if(Y.action=="remove"){for(ac=0;ac<aa.length;ac++){X.remove(Y.index)}}else{if(Y.action=="itemchange"){ac=X.dataSource.view().indexOf(aa[0]);if(Y.field===af.dataTextField){X.tabGroup.children().eq(ac).find(".k-link").text(aa[0].get(Y.field))}}else{X.trigger("dataBinding");X.remove("li");X.append(ab);X.trigger("dataBound")}}}},value:function(S){var R=this;if(S!==n){if(S!=R.value()){R.tabGroup.children().each(function(){if(z.trim(z(this).text())==S){R.select(this)}})}}else{return R.select().text()}},items:function(){return this.tabGroup[0].children},setOptions:function(R){var S=this.options.animation;this._animations(R);R.animation=l(true,S,R.animation);e.fn.setOptions.call(this,R)},events:[u,m,B,b,"change","dataBinding","dataBound"],options:{name:"TabStrip",dataTextField:"",dataContentField:"",dataImageUrlField:"",dataUrlField:"",dataSpriteCssClass:"",dataContentUrlField:"",animation:{open:{effects:"expand:vertical fadeIn",duration:200},close:{duration:200}},collapsible:false},destroy:function(){var R=this;e.fn.destroy.call(R);if(R._refreshHandler){R.dataSource.unbind("change",R._refreshHandler)}R.wrapper.off(D);A.destroy(R.wrapper)},select:function(R){var S=this;if(arguments.length===0){return S.tabGroup.children("li."+H)}if(!isNaN(R)){R=S.tabGroup.children().get(R)}R=S.tabGroup.find(R);z(R).each(function(T,U){U=z(U);if(!U.hasClass(H)&&!S.trigger(u,{item:U[0],contentElement:S.contentHolder(U.index())[0]})){S.activateTab(U)}});return S},enable:function(R,S){this._toggleDisabled(R,S!==false);return this},disable:function(R){this._toggleDisabled(R,false);return this},reload:function(R){R=this.tabGroup.find(R);var S=this;R.each(function(){var U=z(this),V=U.find("."+v).data(k),T=S.contentHolder(U.index());if(V){S.ajaxRequest(U,T,null,V)}});return S},append:function(S){var T=this,R=T._create(S);M(R.tabs,function(U){T.tabGroup.append(this);T.wrapper.append(R.contents[U])});s(T.tabGroup);T._updateContentElements();return T},insertBefore:function(U,S){var V=this,T=V._create(U),R=z(V.contentElement(S.index()));M(T.tabs,function(W){S.before(this);R.before(T.contents[W])});s(V.tabGroup);V._updateContentElements();return V},insertAfter:function(U,S){var V=this,T=V._create(U),R=z(V.contentElement(S.index()));M(T.tabs,function(W){S.after(this);R.after(T.contents[W])});s(V.tabGroup);V._updateContentElements();return V},remove:function(U){var T=this,R=typeof U,S=z();if(R==="string"){U=T.tabGroup.find(U)}else{if(R==="number"){U=T.tabGroup.children().eq(U)}}U.each(function(){S.push(T.contentElement(z(this).index()))});U.remove();S.remove();T._updateContentElements();return T},_create:function(T){var S=z.isPlainObject(T),V=this,R,U;if(S||z.isArray(T)){T=z.isArray(T)?T:[T];R=x(T,function(X,W){return z(C.renderItem({group:V.tabGroup,item:l(X,{index:W})}))});U=x(T,function(X,W){if(X.content||X.contentUrl){return z(C.renderContent({item:l(X,{index:W})}))}})}else{R=z(T);U=z("<div class='"+I+"'/>");Q(R)}return{tabs:R,contents:U}},_toggleDisabled:function(S,R){S=this.tabGroup.find(S);S.each(function(){z(this).toggleClass(o,R).toggleClass(h,!R)})},_updateClasses:function(){var T=this,S,U,R;T.wrapper.addClass("k-widget k-header k-tabstrip");T.tabGroup=T.wrapper.children("ul").addClass("k-tabstrip-items k-reset");if(!T.tabGroup[0]){T.tabGroup=z("<ul class='k-tabstrip-items k-reset'/>").appendTo(T.wrapper)}S=T.tabGroup.find("li").addClass("k-item");if(S.length){U=S.filter("."+H).index();R=U>=0?U:n;T.tabGroup.contents().filter(function(){return(this.nodeType==3&&!a(this.nodeValue))}).remove()}if(U>=0){S.eq(U).addClass(L)}T.contentElements=T.wrapper.children("div");T.contentElements.addClass(I).eq(R).addClass(H).css({display:"block"});if(S.length){Q(S);s(T.tabGroup);T._updateContentElements()}},_updateContentElements:function(){var U=this,T=U.options.contentUrls||[],S=U.element.attr("id"),R=U.wrapper.children("div");U.tabGroup.find(".k-item").each(function(V){var W=R.eq(V),X=S+"-"+(V+1);this.setAttribute("aria-controls",X);if(!W.length&&T[V]){z("<div id='"+X+"' class='"+I+"'/>").appendTo(U.wrapper)}else{W.attr("id",X)}W.attr("role","tabpanel");W.filter(":not(."+H+")").attr("aria-hidden",true).attr("aria-expanded",false);W.filter("."+H).attr("aria-expanded",true)});U.contentElements=U.contentAnimators=U.wrapper.children("div");if(A.kineticScrollNeeded&&A.mobile.ui.Scroller){A.touchScroller(U.contentElements);U.contentElements=U.contentElements.children(".km-scroll-container")}},_toggleHover:function(R){z(R.currentTarget).toggleClass(P,R.type==g)},_click:function(W){var V=this,U=W.find("."+v),T=U.attr(K),X=V.options.collapsible,Y=V.contentHolder(W.index()),S,R;if(W.closest(".k-widget")[0]!=V.wrapper[0]){return}if(W.is("."+h+(!X?",."+H:""))){return true}R=U.data(k)||(T&&(T.charAt(T.length-1)=="#"||T.indexOf("#"+V.element[0].id+"-")!=-1));S=!T||R;if(V.tabGroup.children("[data-animating]").length){return S}if(V.trigger(u,{item:W[0],contentElement:Y[0]})){return true}if(S===false){return}if(X&&W.is("."+H)){V.deactivateTab(W);return true}if(V.activateTab(W)){S=true}return S},deactivateTab:function(T){var S=this,R=S.options.animation,V=R.open,W=l({},R.close),U=W&&"effects" in W;T=S.tabGroup.find(T);W=l(U?W:l({reverse:true},V),{hide:true});if(A.size(V.effects)){T.kendoAddClass(o,{duration:V.duration});T.kendoRemoveClass(H,{duration:V.duration})}else{T.addClass(o);T.removeClass(H)}T.removeAttr("aria-selected");S.contentAnimators.filter("."+H).kendoStop(true,true).kendoAnimate(W).removeClass(H).attr("aria-hidden",true)},activateTab:function(ag){ag=this.tabGroup.find(ag);var Y=this,ab=Y.options.animation,U=ab.open,af=l({},ab.close),Z=af&&"effects" in af,T=ag.parent().children(),ad=T.filter("."+H),R=T.index(ag);af=l(Z?af:l({reverse:true},U),{hide:true});if(A.size(U.effects)){ad.kendoRemoveClass(H,{duration:af.duration});ag.kendoRemoveClass(P,{duration:af.duration})}else{ad.removeClass(H);ag.removeClass(P)}var ae=Y.contentAnimators;if(ag.data("in-request")){Y.xhr.abort();ag.removeAttr("data-in-request")}if(ae.length===0){ad.removeClass(L);ag.addClass(L).css("z-index");ag.addClass(H);Y._current(ag);Y.trigger("change");return false}var S=ae.filter("."+H),aa=Y.contentHolder(R),ac=aa.closest(".k-content");if(aa.length===0){S.removeClass(H).attr("aria-hidden",true).kendoStop(true,true).kendoAnimate(af);return false}ag.attr("data-animating",true);var W=(ag.children("."+v).data(k)||false)&&aa.is(d),X=function(){ad.removeClass(L);ag.addClass(L).css("z-index");if(A.size(U.effects)){ad.kendoAddClass(o,{duration:U.duration});ag.kendoAddClass(H,{duration:U.duration})}else{ad.addClass(o);ag.addClass(H)}ad.removeAttr("aria-selected");ag.attr("aria-selected",true);Y._current(ag);ac.addClass(H).removeAttr("aria-hidden").kendoStop(true,true).attr("aria-expanded",true).kendoAnimate(l({init:function(){Y.trigger(m,{item:ag[0],contentElement:aa[0]})}},U,{complete:function(){ag.removeAttr("data-animating")}}))},V=function(){if(!W){X();Y.trigger("change")}else{ag.removeAttr("data-animating");Y.ajaxRequest(ag,aa,function(){ag.attr("data-animating",true);X();Y.trigger("change")})}};S.removeClass(H);S.attr("aria-hidden",true);S.attr("aria-expanded",false);if(S.length){S.kendoStop(true,true).kendoAnimate(l({complete:V},af))}else{V()}return true},contentElement:function(U){if(isNaN(U-0)){return n}var S=this.contentElements&&this.contentElements[0]&&!A.kineticScrollNeeded?this.contentElements:this.contentAnimators,V=new RegExp("-"+(U+1)+"$");if(S){for(var T=0,R=S.length;T<R;T++){if(V.test(S.closest(".k-content")[T].id)){return S[T]}}}return n},contentHolder:function(S){var T=z(this.contentElement(S)),R=T.children(".km-scroll-container");return A.support.touch&&R[0]?R:T},ajaxRequest:function(W,Y,T,S){W=this.tabGroup.find(W);if(W.find(".k-loading").length){return}var X=this,Z=W.find("."+v),V={},R=null,U=setTimeout(function(){R=z("<span class='k-icon k-loading'/>").prependTo(Z)},100);S=S||Z.data(k)||Z.attr(K);W.attr("data-in-request",true);X.xhr=z.ajax({type:"GET",cache:false,url:S,dataType:"html",data:V,error:function(ab,aa){if(X.trigger("error",{xhr:ab,status:aa})){this.complete()}},complete:function(){W.removeAttr("data-in-request");clearTimeout(U);if(R!==null){R.remove()}},success:function(ab){try{Y.html(ab)}catch(ac){var aa=window.console;if(aa&&aa.error){aa.error(ac.name+": "+ac.message+" in "+S)}this.error(this.xhr,"error")}if(T){T.call(X,Y)}X.trigger(b,{item:W[0],contentElement:Y[0]})}})}});l(C,{renderItem:function(R){R=l({tabStrip:{},group:{}},R);var T=c.empty,S=R.item;return c.item(l(R,{image:S.imageUrl?c.image:T,sprite:S.spriteCssClass?c.sprite:T,itemWrapper:c.itemWrapper},r))},renderContent:function(R){return c.content(l(R,r))}});A.ui.plugin(C)})(window.kendo.jQuery);kendo_module({id:"grid",name:"Grid",category:"web",description:"The Grid widget displays tabular data and offers rich support for interacting with data,including paging, sorting, grouping, and selection.",depends:["data"],features:[{id:"grid-editing",name:"Editing",description:"Support for record editing",depends:["editable","window"]},{id:"grid-filtering",name:"Filtering",description:"Support for record filtering",depends:["filtermenu"]},{id:"grid-columnmenu",name:"Column menu",description:"Support for header column menu",depends:["columnmenu"]},{id:"grid-grouping",name:"Grouping",description:"Support for grid grouping",depends:["groupable"]},{id:"grid-paging",name:"Paging",description:"Suppot for grid paging",depends:["pager"]},{id:"grid-selection",name:"Selection",description:"Support for row selection",depends:["selectable"]},{id:"grid-sorting",name:"Sorting",description:"Support for grid sorting",depends:["sortable"]},{id:"grid-column-reorder",name:"Column reordering",description:"Support for column reordering",depends:["reorderable"]},{id:"grid-column-resize",name:"Column resizing",description:"Support for column resizing",depends:["resizable"]}]});(function(aq,t){var o=window.kendo,T=o.ui,l=o.data.DataSource,m=T.Groupable,x=o.support.tbodyInnerHtml,F=o._activeElement,i=T.Widget,N=o.keys,E=aq.isPlainObject,ab=aq.extend,u=aq.map,f=aq.grep,c=aq.isArray,s=aq.inArray,z=aq.proxy,at=aq.isFunction,ag=aq.isEmptyObject,P=Math,al="progress",H="error",C=":not(.k-group-cell):not(.k-hierarchy-cell):visible",e="tbody>tr:not(.k-grouping-row):not(.k-detail-row):not(.k-group-footer) > td:not(.k-group-cell):not(.k-hierarchy-cell)",D="tr:not(.k-footer-template):visible",au=":not(.k-group-cell):not(.k-hierarchy-cell):visible",ae=D+":first>"+au+":first",ac="th.k-header:not(.k-group-cell,.k-hierarchy-cell)",af=ac+":visible["+o.attr("field")+"]",aC=ac+"["+o.attr("field")+"]",ax=".kendoGrid",L="edit",ap="save",aD="remove",n="detailInit",d="filterMenuInit",ak="columnMenuInit",I="change",w="columnHide",ah="columnShow",az="saveChanges",A="dataBound",g="detailExpand",Z="detailCollapse",p="k-state-focused",aw="k-state-selected",aB="columnResize",ai="columnReorder",ao="click",av="height",U="tabIndex",ad="function",ay="string",k="Are you sure you want to delete this record?",R=/(\}|\#)/ig,b=3,X=/#/ig,K="[\\x20\\t\\r\\n\\f]",Y=new RegExp("(^|"+K+")(k-group-cell|k-hierarchy-cell)("+K+"|$)"),V='<a class="k-button k-button-icontext #=className#" #=attr# href="\\#"><span class="#=iconClass# #=imageClass#"></span>#=text#</a>',v=false;var aa=i.extend({init:function(aF,aE){var aG=this;i.fn.init.call(aG,aF,aE);aG._refreshHandler=z(aG.refresh,aG);aG.setDataSource(aE.dataSource);aG.wrap()},setDataSource:function(aF){var aE=this;if(aE.dataSource){aE.dataSource.unbind(I,aE._refreshHandler)}aE.dataSource=aF;aE.dataSource.bind(I,aE._refreshHandler)},options:{name:"VirtualScrollable",itemHeight:aq.noop},destroy:function(){var aE=this;i.fn.destroy.call(aE);aE.dataSource.unbind(I,aE._refreshHandler);aE.wrapper.add(aE.verticalScrollbar).off(ax);if(aE.drag){aE.drag.destroy()}},wrap:function(){var aF=this,aH=o.support.scrollbar()+1,aE=aF.element,aG;aE.css({width:"auto",overflow:"hidden"}).css((v?"padding-left":"padding-right"),aH);aF.content=aE.children().first();aG=aF.wrapper=aF.content.wrap('<div class="k-virtual-scrollable-wrap"/>').parent().bind("DOMMouseScroll"+ax+" mousewheel"+ax,z(aF._wheelScroll,aF));if(o.support.kineticScrollNeeded){aF.drag=new o.UserEvents(aF.wrapper,{global:true,move:function(aI){aF.verticalScrollbar.scrollTop(aF.verticalScrollbar.scrollTop()-aI.y.delta);aG.scrollLeft(aG.scrollLeft()-aI.x.delta);aI.preventDefault()}})}aF.verticalScrollbar=aq('<div class="k-scrollbar k-scrollbar-vertical" />').css({width:aH}).appendTo(aE).bind("scroll"+ax,z(aF._scroll,aF))},_wheelScroll:function(aI){var aG=this,aH=aG.verticalScrollbar.scrollTop(),aF=aI.originalEvent,aE=aF.wheelDeltaY,aJ;if(aF.wheelDelta){if(aE===t||aE){aJ=aF.wheelDelta}}else{if(aF.detail&&aF.axis===aF.VERTICAL_AXIS){aJ=(-aF.detail)*10}}if(aJ){aI.preventDefault();aG.verticalScrollbar.scrollTop(aH+(-aJ))}},_scroll:function(aK){var aJ=this,aH=aK.currentTarget.scrollTop,aE=aJ.dataSource,aF=aJ.itemHeight,aN=aE.skip()||0,aG=aJ._rangeStart||aN,aO=aJ.element.innerHeight(),aI=!!(aJ._scrollbarTop&&aJ._scrollbarTop>aH),aM=P.max(P.floor(aH/aF),0),aL=P.max(aM+P.floor(aO/aF),0);aJ._scrollTop=aH-(aG*aF);aJ._scrollbarTop=aH;if(!aJ._fetch(aM,aL,aI)){aJ.wrapper[0].scrollTop=aJ._scrollTop}},_fetch:function(aN,aK,aL){var aI=this,aE=aI.dataSource,aG=aI.itemHeight,aF=aE.take(),aO=aI._rangeStart||aE.skip()||0,aM=P.floor(aN/aF)*aF,aH=false,aJ=0.33;if(aN<aO){aH=true;aO=P.max(0,aK-aF);aI._scrollTop=(aN-aO)*aG;aI._page(aO,aF)}else{if(aK>=aO+aF&&!aL){aH=true;aO=aN;aI._scrollTop=aG;aI._page(aO,aF)}else{if(!aI._fetching){if(aN<(aM+aF)-aF*aJ&&aN>aF){aE.prefetch(aM-aF,aF)}if(aK>aM+aF*aJ){aE.prefetch(aM+aF,aF)}}}}return aH},_page:function(aG,aE){var aF=this,aH=aF.dataSource;clearTimeout(aF._timeout);aF._fetching=true;aF._rangeStart=aG;if(aH.inRange(aG,aE)){aH.range(aG,aE)}else{o.ui.progress(aF.wrapper.parent(),true);aF._timeout=setTimeout(function(){aH.range(aG,aE)},100)}},refresh:function(){var aI=this,aH="",aL=250000,aE=aI.dataSource,aM=aI._rangeStart,aN=!o.support.kineticScrollNeeded?o.support.scrollbar():0,aO=aI.wrapper[0],aJ,aK,aF;o.ui.progress(aI.wrapper.parent(),false);clearTimeout(aI._timeout);aF=aI.itemHeight=aI.options.itemHeight()||0;var aG=(aO.scrollWidth>aO.offsetWidth)?aN:0;aJ=aE.total()*aF+aG;for(aK=0;aK<P.floor(aJ/aL);aK++){aH+='<div style="width:1px;height:'+aL+'px"></div>'}if(aJ%aL){aH+='<div style="width:1px;height:'+(aJ%aL)+'px"></div>'}aI.verticalScrollbar.html(aH);aO.scrollTop=aI._scrollTop;if(aI.drag){aI.drag.cancel()}if(aM&&!aI._fetching){aI._rangeStart=aE.skip()}aI._fetching=false}});function an(aE){return new Array(aE+1).join('<td class="k-group-cell">&nbsp;</td>')}function j(aG){var aF,aE=" ";if(aG){if(typeof aG===ay){return aG}for(aF in aG){aE+=aF+'="'+aG[aF]+'"'}}return aE}var S={create:{text:"Add new record",imageClass:"k-add",className:"k-grid-add",iconClass:"k-icon"},cancel:{text:"Cancel changes",imageClass:"k-cancel",className:"k-grid-cancel-changes",iconClass:"k-icon"},save:{text:"Save changes",imageClass:"k-update",className:"k-grid-save-changes",iconClass:"k-icon"},destroy:{text:"Delete",imageClass:"k-delete",className:"k-grid-delete",iconClass:"k-icon"},edit:{text:"Edit",imageClass:"k-edit",className:"k-grid-edit",iconClass:"k-icon"},update:{text:"Update",imageClass:"k-update",className:"k-grid-update",iconClass:"k-icon"},canceledit:{text:"Cancel",imageClass:"k-cancel",className:"k-grid-cancel",iconClass:"k-icon"}};function y(aE){var aF=0;aq("> .k-grouping-header, > .k-grid-toolbar",aE).each(function(){aF+=this.offsetHeight});return aF}function h(aE,aF){aq("th, th .k-grid-filter, th .k-link",aE).add(document.body).css("cursor",aF)}function ar(aI){var aE,aG,aF={},aH={};if(!ag(aI)){if(!c(aI)){aI=[aI]}for(aE=0,aG=aI.length;aE<aG;aE++){aF[aI[aE].aggregate]=0;aH[aI[aE].field]=aF}}return aH}function J(aF,aE,aH){var aI=aF.eq(aE),aG=aF.eq(aH);aI[aE>aH?"insertBefore":"insertAfter"](aG)}function Q(aI,aG,aF){var aE,aJ,aK,aH;aF=!c(aF)?[aF]:aF;for(aE=0,aJ=aF.length;aE<aJ;aE++){aK=aF[aE];if(E(aK)&&aK.click){aH=aK.name||aK.text;aG.on(ao+ax,"a.k-grid-"+(aH||"").replace(/\s/g,""),{commandName:aH},z(aK.click,aI))}}}function q(aE){return f(aE,function(aF){return !aF.hidden})}function G(aE){aE=aE||{};var aF=aE.style;if(!aF){aF="display:none"}else{aF=aF.replace(/((.*)?display)(.*)?:([^;]*)/i,"$1:none");if(aF===aE.style){aF=aF.replace(/(.*)?/i,"display:none;$1")}}return ab({},aE,{style:aF})}function W(aE){aE=aE||{};var aF=aE.style;if(aF){aE.style=aF.replace(/(display\s*:\s*none\s*;?)*/ig,"")}return aE}function aA(aJ,aH,aL,aE){var aF=aJ.find(">colgroup"),aI,aG=o.support.browser,aK=u(aH,function(aM){aI=aM.width;if(aI&&parseInt(aI,10)!==0){return o.format('<col style="width:{0}"/>',typeof aI===ay?aI:aI+"px")}return"<col />"});if(aL||aF.find(".k-hierarchy-col").length){aK.splice(0,0,'<col class="k-hierarchy-col" />')}if(aF.length){aF.remove()}aF=aq("<colgroup/>").append(aq(new Array(aE+1).join('<col class="k-group-col">')+aK.join("")));aJ.prepend(aF);if(aG.msie&&aG.version==8){aJ.css("display","inline-table");window.setTimeout(function(){aJ.css("display","")},1)}}function O(aI){var aF={},aH,aE,aG;for(aE=0,aG=aI.length;aE<aG;aE++){aH=aI[aE];aF[aH.value]=aH.text}return aF}function M(aG,aH,aI){var aF=aI&&aI.length&&E(aI[0])&&"value" in aI[0],aE=aF?O(aI)[aG]:aG;aE=aE!=null?aE:"";return aH?o.format(aH,aE):aE}function a(aG,aF,aJ){var aI=0,aH,aE=aG[aI];while(aE){aH=aJ?true:aE.style.display!=="none";if(aH&&!Y.test(aE.className)&&--aF<0){aE.style.display=aJ?"":"none";break}aE=aG[++aI]}}var aj=i.extend({init:function(aF,aE){var aG=this;aE=c(aE)?{dataSource:aE}:aE;i.fn.init.call(aG,aF,aE);v=o.support.isRtl(aF);aG._element();aG._aria();aG._columns(aG.options.columns);aG._dataSource();aG._tbody();aG._pageable();aG._thead();aG._groupable();aG._toolbar();aG._setContentHeight();aG._templates();aG._navigatable();aG._selectable();aG._details();aG._editable();aG._attachCustomCommandsEvent();if(aG.options.autoBind){aG.dataSource.fetch()}else{aG._footer()}o.notify(aG)},events:[I,"dataBinding","cancel",A,g,Z,n,d,ak,L,ap,aD,az,aB,ai,ah,w],setDataSource:function(aF){var aE=this;aE.options.dataSource=aF;aE._dataSource();aE._pageable();if(aE.options.groupable){aE._groupable()}aE._thead();if(aE.virtualScrollable){aE.virtualScrollable.setDataSource(aE.options.dataSource)}if(aE.options.autoBind){aF.fetch()}},options:{name:"Grid",columns:[],toolbar:null,autoBind:true,filterable:false,scrollable:true,sortable:false,selectable:false,navigatable:false,pageable:false,editable:false,groupable:false,rowTemplate:"",altRowTemplate:"",dataSource:{},height:null,resizable:false,reorderable:false,columnMenu:false,detailTemplate:null},destroy:function(){var aF=this,aE;i.fn.destroy.call(aF);if(aF.pager){aF.pager.destroy()}if(aF.groupable){aF.groupable.destroy()}if(aF.virtualScrollable){aF.virtualScrollable.destroy()}aF._destroyColumnAttachments();aF._destroyEditable();aF.dataSource.unbind(I,aF._refreshHandler).unbind(al,aF._progressHandler).unbind(H,aF._errorHandler);aE=aF.element.add(aF.wrapper).add(aF.table).add(aF.thead).add(aF.wrapper.find(">.k-grid-toolbar"));if(aF.content){aE=aE.add(aF.content).add(aF.content.find(">.k-virtual-scrollable-wrap"))}aE.off(ax);o.destroy(aF.wrapper)},setOptions:function(aE){var aF=this;i.fn.setOptions.call(this,aE);aF._templates()},items:function(){return this.tbody.children(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")},_destroyColumnAttachments:function(){var aE=this;aE.thead.find("th").each(function(){var aF=aq(this),aI=aF.data("kendoFilterMenu"),aH=aF.data("kendoSortable"),aG=aF.data("kendoColumnMenu");if(aI){aI.destroy()}if(aH){aH.destroy()}if(aG){aG.destroy()}})},_attachCustomCommandsEvent:function(){var aH=this,aF=aH.columns||[],aI,aE,aG;for(aE=0,aG=aF.length;aE<aG;aE++){aI=aF[aE].command;if(aI){Q(aH,aH.wrapper,aI)}}},_aria:function(){var aE=this.element.attr("id")||"aria";if(aE){this._cellId=aE+"_active_cell"}},_element:function(){var aF=this,aE=aF.element;if(!aE.is("table")){if(aF.options.scrollable){aE=aF.element.find("> .k-grid-content > table")}else{aE=aF.element.children("table")}if(!aE.length){aE=aq("<table />").appendTo(aF.element)}}aF.table=aE.attr("cellspacing",0).attr("role",aF._hasDetails()?"treegrid":"grid");aF._wrapper()},_positionColumnResizeHandle:function(aE){var aG=this,aH=aG.options.scrollable,aF=aG.resizeHandle,aI;aG.thead.on("mousemove"+ax,"th:not(.k-group-cell,.k-hierarchy-cell)",function(aP){var aK=aq(this),aL=aP.clientX,aR=aq(window).scrollLeft(),aN=aK.offset().left+(!v?this.offsetWidth:0);if(aL+aR>aN-b&&aL+aR<aN+b){if(!aF){aF=aG.resizeHandle=aq('<div class="k-resize-handle"/>');aE.append(aF)}if(!v){aI=this.offsetWidth;aK.prevAll(":visible").each(function(){aI+=this.offsetWidth})}else{var aQ=aK.closest(".k-grid-header-wrap"),aJ=o.support.browser.msie?aQ.scrollLeft():0,aM=o.support.browser.webkit?(aQ[0].scrollWidth-aQ[0].offsetWidth-aQ.scrollLeft()):0,aO=o.support.browser.mozilla?(aQ[0].scrollWidth-aQ[0].offsetWidth-(aQ[0].scrollWidth-aQ[0].offsetWidth-aQ.scrollLeft())):0;aI=aK.position().left-aM+aO-aJ}aF.css({top:aH?0:y(aG.wrapper),left:aI-b,height:aK.outerHeight(),width:b*3}).data("th",aK).show()}else{if(aF){aF.hide()}else{h(aG.wrapper,"")}}})},_resizable:function(){var aI=this,aH=aI.options,aF,aE,aJ,aK,aG;if(aH.resizable){aF=aH.scrollable?aI.wrapper.find(".k-grid-header-wrap:first"):aI.wrapper;aI._positionColumnResizeHandle(aF);aF.kendoResizable({handle:".k-resize-handle",hint:function(aL){return aq('<div class="k-grid-resize-indicator" />').css({height:aL.data("th").outerHeight()+aI.tbody.attr("clientHeight")})},start:function(aO){var aN=aq(aO.currentTarget).data("th"),aM=aq.inArray(aN[0],aN.parent().children(":visible")),aL=aI.tbody.parent(),aP=aI.footer||aq();h(aI.wrapper,"col-resize");if(aH.scrollable){aG=aI.thead.parent().find("col:eq("+aM+")").add(aL.children("colgroup").find("col:eq("+aM+")")).add(aP.find("colgroup").find("col:eq("+aM+")"))}else{aG=aL.children("colgroup").find("col:eq("+aM+")")}aE=aO.x.location;aJ=aN.outerWidth();aK=aI.tbody.outerWidth()},resize:function(aN){var aL=v?-1:1,aM=aJ+(aN.x.location*aL)-(aE*aL),aO=aI.footer||aq();if(aM>10){aG.css("width",aM);if(aH.scrollable){aI._footerWidth=aK+(aN.x.location*aL)-(aE*aL);aI.tbody.parent().add(aI.thead.parent()).add(aO.find("table")).css("width",aI._footerWidth)}}},resizeend:function(aO){var aN=aq(aO.currentTarget).data("th"),aM=aN.outerWidth(),aL;h(aI.wrapper,"");if(aJ!=aM){aL=aI.columns[aN.parent().find("th:not(.k-group-cell,.k-hierarchy-cell)").index(aN)];aL.width=aM;aI.trigger(aB,{column:aL,oldWidth:aJ,newWidth:aM})}aI.resizeHandle.hide()}})}},_draggable:function(){var aE=this;if(aE.options.reorderable){if(aE._draggableInstance){aE._draggableInstance.destroy()}aE._draggableInstance=aE.wrapper.kendoDraggable({group:o.guid(),filter:aE.content?">.k-grid-header "+ac:">table>.k-grid-header "+ac,hint:function(aF){return aq('<div class="k-header k-drag-clue" />').css({width:aF.width(),paddingLeft:aF.css("paddingLeft"),paddingRight:aF.css("paddingRight"),lineHeight:aF.height()+"px",paddingTop:aF.css("paddingTop"),paddingBottom:aF.css("paddingBottom")}).html(aF.attr(o.attr("title"))||aF.attr(o.attr("field"))||aF.text()).prepend('<span class="k-icon k-drag-status k-denied" />')}}).data("kendoDraggable")}},_reorderable:function(){var aE=this;if(aE.options.reorderable){aE.wrapper.kendoReorderable({draggable:aE._draggableInstance,change:function(aH){var aF=s(aE.columns[aH.newIndex],aE.columns),aG=aE.columns[aH.oldIndex];aE.trigger(ai,{newIndex:aF,oldIndex:s(aG,aE.columns),column:aG});aE.reorderColumn(aF,aG)}})}},reorderColumn:function(aH,aG){var aI=this,aJ=s(aG,aI.columns),aE=s(aG,q(aI.columns)),aK=s(aI.columns[aH],q(aI.columns)),aN,aM,aF,aL=aI.footer||aI.wrapper.find(".k-grid-footer");if(aJ===aH){return}aI.columns.splice(aJ,1);aI.columns.splice(aH,0,aG);aI._templates();J(aI.thead.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),aE,aK);if(aI.options.scrollable){J(aI.tbody.prev().find("col:not(.k-group-col,.k-hierarchy-col)"),aE,aK)}J(aI.thead.find(".k-header:not(.k-group-cell,.k-hierarchy-cell)"),aJ,aH);if(aL&&aL.length){J(aL.find(".k-grid-footer-wrap>table>colgroup>col:not(.k-group-col,.k-hierarchy-col)"),aE,aK);J(aL.find(".k-footer-template>td:not(.k-group-cell,.k-hierarchy-cell)"),aJ,aH)}aN=aI.tbody.children(":not(.k-grouping-row,.k-detail-row)");for(aM=0,aF=aN.length;aM<aF;aM+=1){J(aN.eq(aM).find(">td:not(.k-group-cell,.k-hierarchy-cell)"),aJ,aH)}},cellIndex:function(aE){return aq(aE).parent().children("td:not(.k-group-cell,.k-hierarchy-cell)").index(aE)},_modelForContainer:function(aE){aE=aq(aE);if(!aE.is("tr")&&this._editMode()!=="popup"){aE=aE.closest("tr")}var aF=aE.attr(o.attr("uid"));return this.dataSource.getByUid(aF)},_editable:function(){var aH=this,aE=aH.selectable&&aH.selectable.options.multiple,aF=aH.options.editable,aG=function(){var aK=F(),aJ=aH._editContainer;if(aJ&&!aq.contains(aJ[0],aK)&&aJ[0]!==aK&&!aq(aK).closest(".k-animation-container").length){if(aH.editable.end()){aH.closeCell()}}};if(aF){var aI=aH._editMode();if(aI==="incell"){if(aF.update!==false){aH.wrapper.on(ao+ax,"tr:not(.k-grouping-row) > td",function(aJ){var aK=aq(this);if(aK.hasClass("k-hierarchy-cell")||aK.hasClass("k-detail-cell")||aK.hasClass("k-group-cell")||aK.hasClass("k-edit-cell")||aK.has("a.k-grid-delete").length||aK.has("button.k-grid-delete").length||aK.closest("tbody")[0]!==aH.tbody[0]||aq(aJ.target).is(":input")){return}if(aH.editable){if(aH.editable.end()){if(aE){aq(F()).blur()}aH.closeCell();aH.editCell(aK)}}else{aH.editCell(aK)}}).on("focusin"+ax,function(){clearTimeout(aH.timer);aH.timer=null}).on("focusout"+ax,function(){aH.timer=setTimeout(aG,1)})}}else{if(aF.update!==false){aH.wrapper.on(ao+ax,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible a.k-grid-edit",function(aJ){aJ.preventDefault();aH.editRow(aq(this).closest("tr"))})}}if(aF.destroy!==false){aH.wrapper.on(ao+ax,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible .k-grid-delete",function(aJ){aJ.preventDefault();aJ.stopPropagation();aH.removeRow(aq(this).closest("tr"))})}else{aH.wrapper.on(ao+ax,"tbody>tr:not(.k-detail-row,.k-grouping-row):visible button.k-grid-delete",function(aJ){if(!aH._confirmation()){aJ.preventDefault()}})}}},editCell:function(aE){var aH=this,aG=aH.columns[aH.cellIndex(aE)],aF=aH._modelForContainer(aE);if(aF&&(!aF.editable||aF.editable(aG.field))&&!aG.command&&aG.field){aH._attachModelChange(aF);aH._editContainer=aE;aH.editable=aE.addClass("k-edit-cell").kendoEditable({fields:{field:aG.field,format:aG.format,editor:aG.editor,values:aG.values},model:aF,change:function(aI){if(aH.trigger(ap,{values:aI.values,container:aE,model:aF})){aI.preventDefault()}}}).data("kendoEditable");aE.parent().addClass("k-grid-edit-row");aH.trigger(L,{container:aE,model:aF})}},_destroyEditable:function(){var aF=this;var aE=function(){if(aF.editable){aF._detachModelChange();aF.editable.destroy();aF.editable=null;aF._editContainer=null}};if(aF.editable){if(aF._editMode()==="popup"){aF._editContainer.data("kendoWindow").bind("deactivate",aE).close()}else{aE()}}},_attachModelChange:function(aE){var aF=this;aF._modelChangeHandler=function(aG){aF._modelChange({field:aG.field,model:this})};aE.bind("change",aF._modelChangeHandler)},_detachModelChange:function(){var aG=this,aE=aG._editContainer,aF=aG._modelForContainer(aE);if(aF){aF.unbind(I,aG._modelChangeHandler)}},closeCell:function(){var aH=this,aE,aI,aG,aF;if(!aH._editContainer){return}aE=aH._editContainer.removeClass("k-edit-cell");aI=aE.closest("tr").attr(o.attr("uid"));aG=aH.columns[aH.cellIndex(aE)];aF=aH.dataSource.getByUid(aI);aE.parent().removeClass("k-grid-edit-row");aH._destroyEditable();aH._displayCell(aE,aG,aF);if(aE.hasClass("k-dirty-cell")){aq('<span class="k-dirty"/>').prependTo(aE)}},_displayCell:function(aE,aI,aG){var aJ=this,aK={storage:{},count:0},aH=ab({},o.Template,aJ.options.templateSettings),aF=o.template(aJ._cellTmpl(aI,aK),aH);if(aK.count>0){aF=z(aF,aK.storage)}aE.empty().html(aF(aG))},removeRow:function(aH){var aF=this,aE,aG;if(!aF._confirmation()){return}aH=aq(aH).hide();aE=aF._modelForContainer(aH);if(aE&&!aF.trigger(aD,{row:aH,model:aE})){aG=aF._editMode();if(aG!=="incell"){aF.cancelRow()}aF.dataSource.remove(aE);if(aG==="inline"||aG==="popup"){aF.dataSource.sync()}}},_editMode:function(){var aF="incell",aE=this.options.editable;if(aE!==true){if(typeof aE=="string"){aF=aE}else{aF=aE.mode||aF}}return aF},editRow:function(aJ){var aG=this,aF=aG._modelForContainer(aJ),aI=aG._editMode(),aH=aG.options.navigatable,aE;aG.cancelRow();if(aF){aG._attachModelChange(aF);if(aI==="popup"){aG._createPopupEditor(aF)}else{if(aI==="inline"){aG._createInlineEditor(aJ,aF)}else{if(aI==="incell"){aq(aJ).children(C).each(function(){var aK=aq(this);var aL=aG.columns[aK.index()];aF=aG._modelForContainer(aK);if(aF&&(!aF.editable||aF.editable(aL.field))&&aL.field){aG.editCell(aK);return false}})}}}aE=aG._editContainer;aE.on(ao+ax,"a.k-grid-cancel",function(aL){aL.preventDefault();aL.stopPropagation();if(aG.trigger("cancel",{container:aE,model:aF})){return}var aK=aG.items().index(aq(aG.current()).parent());aG.cancelRow();if(aH){aG.current(aG.items().eq(aK).children().filter(au).first());am(aG.table,true)}});aE.on(ao+ax,"a.k-grid-update",function(aK){aK.preventDefault();aK.stopPropagation();aG.saveRow()})}},_createPopupEditor:function(aG){var aK=this,aM="<div "+o.attr("uid")+'="'+aG.uid+'"><div class="k-edit-form-container">',aE,aH,aR=[],aP,aI,aL,aU,aN,aQ,aS,aT=aK.options.editable,aW=aT.template,aF=E(aT)?aT.window:{},aV=ab({},o.Template,aK.options.templateSettings);if(aW){if(typeof aW===ay){aW=window.unescape(aW)}aM+=(o.template(aW,aV))(aG);for(aP=0,aI=aK.columns.length;aP<aI;aP++){aE=aK.columns[aP];if(aE.command){aQ=r(aE.command,"edit");if(aQ){aH=aQ}}}}else{for(aP=0,aI=aK.columns.length;aP<aI;aP++){aE=aK.columns[aP];if(!aE.command){aM+='<div class="k-edit-label"><label for="'+aE.field+'">'+(aE.title||aE.field||"")+"</label></div>";if((!aG.editable||aG.editable(aE.field))&&aE.field){aR.push({field:aE.field,format:aE.format,editor:aE.editor,values:aE.values});aM+="<div "+o.attr("container-for")+'="'+aE.field+'" class="k-edit-field"></div>'}else{var aJ={storage:{},count:0};aL=o.template(aK._cellTmpl(aE,aJ),aV);if(aJ.count>0){aL=z(aL,aJ.storage)}aM+='<div class="k-edit-field">'+aL(aG)+"</div>"}}else{if(aE.command){aQ=r(aE.command,"edit");if(aQ){aH=aQ}}}}}if(aH){if(E(aH)){if(aH.text&&E(aH.text)){aU=aH.text.update;aN=aH.text.cancel}if(aH.attr){aS=aH.attr}}}aM+=aK._createButton({name:"update",text:aU,attr:aS})+aK._createButton({name:"canceledit",text:aN,attr:aS});aM+="</div></div>";var aO=aK._editContainer=aq(aM).appendTo(aK.wrapper).eq(0).kendoWindow(ab({modal:true,resizable:false,draggable:true,title:"Edit",visible:false,close:function(aY){if(aY.userTriggered){if(aK.trigger("cancel",{container:aO,model:aG})){aY.preventDefault();return}var aX=aK.items().index(aq(aK.current()).parent());aK.cancelRow();if(aK.options.navigatable){aK.current(aK.items().eq(aX).children().filter(au).first());am(aK.table,true)}}}},aF));aK.editable=aK._editContainer.kendoEditable({fields:aR,model:aG,clearContainer:false}).data("kendoEditable");aO.data("kendoWindow").center().open();aK.trigger(L,{container:aO,model:aG})},_createInlineEditor:function(aK,aG){var aI=this,aH,aF,aJ,aE=[];aK.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){aF=aq(this);aH=aI.columns[aI.cellIndex(aF)];if(!aH.command&&aH.field&&(!aG.editable||aG.editable(aH.field))){aE.push({field:aH.field,format:aH.format,editor:aH.editor,values:aH.values});aF.attr(o.attr("container-for"),aH.field);aF.empty()}else{if(aH.command){aJ=r(aH.command,"edit");if(aJ){aF.empty();var aN,aM,aL;if(E(aJ)){if(aJ.text&&E(aJ.text)){aN=aJ.text.update;aM=aJ.text.cancel}if(aJ.attr){aL=aJ.attr}}aq(aI._createButton({name:"update",text:aN,attr:aL})+aI._createButton({name:"canceledit",text:aM,attr:aL})).appendTo(aF)}}}});aI._editContainer=aK;aI.editable=aK.addClass("k-grid-edit-row").kendoEditable({fields:aE,model:aG,clearContainer:false}).data("kendoEditable");aI.trigger(L,{container:aK,model:aG})},cancelRow:function(){var aG=this,aE=aG._editContainer,aF;if(aE){aF=aG._modelForContainer(aE);aG.dataSource.cancelChanges(aF);if(aG._editMode()!=="popup"){aG._displayRow(aE)}else{aG._displayRow(aG.items().filter("["+o.attr("uid")+"="+aF.uid+"]"))}aG._destroyEditable()}},saveRow:function(){var aH=this,aE=aH._editContainer,aF=aH._modelForContainer(aE),aG=aH.editable;if(aE&&aG&&aG.end()&&!aH.trigger(ap,{container:aE,model:aF})){aH.dataSource.sync()}},_displayRow:function(aG){var aF=this,aE=aF._modelForContainer(aG);if(aE){aG.replaceWith(aq((aG.hasClass("k-alt")?aF.altRowTemplate:aF.rowTemplate)(aE)))}},_showMessage:function(aE){return window.confirm(aE)},_confirmation:function(){var aG=this,aE=aG.options.editable,aF=aE===true||typeof aE===ay?k:aE.confirmation;return aF!==false&&aF!=null?aG._showMessage(aF):true},cancelChanges:function(){this.dataSource.cancelChanges()},saveChanges:function(){var aE=this;if(((aE.editable&&aE.editable.end())||!aE.editable)&&!aE.trigger(az)){aE.dataSource.sync()}},addRow:function(){var aI=this,aK,aE=aI.dataSource,aH=aI._editMode(),aJ=aI.options.editable.createAt||"",aL=aE.pageSize(),aM=aE.view()||[];if((aI.editable&&aI.editable.end())||!aI.editable){if(aH!="incell"){aI.cancelRow()}aK=aE.indexOf(aM[0]);if(aJ.toLowerCase()=="bottom"){aK+=aM.length;if(aL&&!aE.options.serverPaging&&aL<=aM.length){aK-=1}}if(aK<0){if(aE.page()>aE.totalPages()){aK=(aE.page()-1)*aL}else{aK=0}}var aG=aE.insert(aK,{}),aF=aG.uid,aO=aI.table.find("tr["+o.attr("uid")+"="+aF+"]"),aN=aO.children("td:not(.k-group-cell,.k-hierarchy-cell)").eq(aI._firstEditableColumnIndex(aO));if((aH==="inline"||aH==="popup")&&aO.length){aI.editRow(aO)}else{if(aN.length){aI.editCell(aN)}}}},_firstEditableColumnIndex:function(aF){var aK=this,aI,aH=aK.columns,aE,aJ,aG=aK._modelForContainer(aF);for(aE=0,aJ=aH.length;aE<aJ;aE++){aI=aH[aE];if(aG&&(!aG.editable||aG.editable(aI.field))&&!aI.command&&aI.field){return aE}}return -1},_toolbar:function(){var aH=this,aI=aH.wrapper,aG=aH.options.toolbar,aF=aH.options.editable,aE;if(aG){aE=aH.wrapper.find(".k-grid-toolbar");if(!aE.length){if(!at(aG)){aG=(typeof aG===ay?aG:aH._toolbarTmpl(aG).replace(X,"\\#"));aG=z(o.template(aG),aH)}aE=aq('<div class="k-toolbar k-grid-toolbar" />').html(aG({})).prependTo(aI)}if(aF&&aF.create!==false){aE.on(ao+ax,".k-grid-add",function(aJ){aJ.preventDefault();aH.addRow()}).on(ao+ax,".k-grid-cancel-changes",function(aJ){aJ.preventDefault();aH.cancelChanges()}).on(ao+ax,".k-grid-save-changes",function(aJ){aJ.preventDefault();aH.saveChanges()})}}},_toolbarTmpl:function(aF){var aI=this,aE,aH,aG="";if(c(aF)){for(aE=0,aH=aF.length;aE<aH;aE++){aG+=aI._createButton(aF[aE])}}return aG},_createButton:function(aH){var aG=aH.template||V,aF=typeof aH===ay?aH:aH.name||aH.text,aE={className:"k-grid-"+(aF||"").replace(/\s/g,""),text:aF,imageClass:"",attr:"",iconClass:""};if(!aF&&!(E(aH)&&aH.template)){throw new Error("Custom commands should have name specified")}if(E(aH)){if(aH.className){aH.className+=" "+aE.className}if(aF==="edit"&&E(aH.text)){aH=ab(true,{},aH);aH.text=aH.text.edit}if(aH.attr&&E(aH.attr)){aH.attr=j(aH.attr)}aE=ab(true,aE,S[aF],aH)}else{aE=ab(true,aE,S[aF])}return o.template(aG)(aE)},_groupable:function(){var aE=this;aE.table.on(ao+ax,".k-grouping-row .k-i-collapse, .k-grouping-row .k-i-expand",function(aH){var aF=aq(this),aG=aF.closest("tr");if(aF.hasClass("k-i-collapse")){aE.collapseGroup(aG)}else{aE.expandGroup(aG)}aH.preventDefault();aH.stopPropagation()});aE._attachGroupable()},_attachGroupable:function(){var aF=this,aG=aF.wrapper,aE=aF.options.groupable;if(aE){if(!aG.has("div.k-grouping-header")[0]){aq("<div>&nbsp;</div>").addClass("k-grouping-header").prependTo(aG)}if(aF.groupable){aF.groupable.destroy()}aF.groupable=new m(aG,ab({},aE,{draggable:aF._draggableInstance,groupContainer:">div.k-grouping-header",dataSource:aF.dataSource,draggableElements:aF.content?">.k-grid-header "+af:">table>.k-grid-header "+af,filter:aF.content?">.k-grid-header "+aC:">table>.k-grid-header "+aC,allowDrag:aF.options.reorderable}))}},_selectable:function(){var aG=this,aH,aE,aF=aG.options.selectable;if(aF){aH=typeof aF===ay&&aF.toLowerCase().indexOf("multiple")>-1;aE=typeof aF===ay&&aF.toLowerCase().indexOf("cell")>-1;aG.selectable=new o.ui.Selectable(aG.table,{filter:">"+(aE?e:"tbody>tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)"),aria:true,multiple:aH,change:function(){aG.trigger(I)}});if(aG.options.navigatable){aG.table.on("keydown"+ax,function(aJ){var aI=aG.current();if(aJ.keyCode===N.SPACEBAR&&aJ.target==aG.table[0]&&!aI.is(".k-edit-cell,.k-header")&&aI.parent().is(":not(.k-grouping-row,.k-detail-row,.k-group-footer)")){aJ.preventDefault();aJ.stopPropagation();aI=aE?aI:aI.parent();if(aH){if(!aJ.ctrlKey){aG.selectable.clear()}else{if(aI.hasClass(aw)){aI.removeClass(aw);aG.trigger(I);return}}}else{aG.selectable.clear()}aG.selectable.value(aI)}})}}},clearSelection:function(){var aE=this;aE.selectable.clear();aE.trigger(I)},select:function(aE){var aG=this,aF=aG.selectable;aE=aq(aE);if(aE.length){if(!aF.options.multiple){aF.clear();aE=aE.first()}aF.value(aE);return}return aF.value()},current:function(aE){var aG=this,aH=aG.options.scrollable,aI=aG._current,aF=aG.table.add(aG.thead.parent());if(aE!==t&&aE.length){if(!aI||aI[0]!==aE[0]){if(aI){aI.removeClass(p).removeAttr("id");aF.removeAttr("aria-activedescendant")}aE.attr("id",aG._cellId);aG._current=aE.addClass(p);aF.attr("aria-activedescendant",aG._cellId);if(aE.length&&aH){if(aq.contains(aG.content[0],aE[0])){aG._scrollTo(aE.parent()[0],aG.content[0])}if(aH.virtual){aG._scrollTo(aE[0],aG.content.find(">.k-virtual-scrollable-wrap")[0])}else{aG._scrollTo(aE[0],aG.content[0])}}}}return aG._current},_removeCurrent:function(){if(this._current){this._current.removeClass(p);this._current=null}},_scrollTo:function(aH,aF){var aM=aH.tagName.toLowerCase(),aK=aM==="td"||aM==="th",aE=aH[aK?"offsetLeft":"offsetTop"],aJ=aH[aK?"offsetWidth":"offsetHeight"],aL=aF[aK?"scrollLeft":"scrollTop"],aG=aF[aK?"clientWidth":"clientHeight"],aI=aE+aJ,aN=0;if(aL>aE){aN=aE}else{if(aI>(aL+aG)){if(aJ<=aG){aN=(aI-aG)}else{aN=aE}}else{aN=aL}}aF[aK?"scrollLeft":"scrollTop"]=aN},_navigatable:function(){var aI=this,aE=z(aI.current,aI),aH=aI.table,aG=aI.thead.parent(),aJ=aH,aF=o.support.isRtl(aI.element);if(!aI.options.navigatable){return}if(aI.options.scrollable){aJ=aH.add(aG);aG.attr(U,-1)}aG.on("keydown"+ax,function(aK){if(aK.altKey&&aK.keyCode==N.DOWN){aE().find(".k-grid-filter, .k-header-column-menu").click();aK.stopImmediatePropagation()}}).find("a.k-link").attr("tabIndex",-1);aH.attr(U,P.max(aH.attr(U)||0,0)).on("mousedown"+ax+" keydown"+ax,".k-detail-cell",function(aK){if(aK.target!==aK.currentTarget){aK.stopImmediatePropagation()}});aJ.on((o.support.touch?"touchstart"+ax:"mousedown"+ax),D+">"+au,z(B,aI)).on("focus"+ax,function(){var aK=aE();if(aK&&aK.is(":visible")){aK.addClass(p)}else{aE(aq(this).find(ae))}if(this==aH[0]){aG.attr(U,-1);aH.attr(U,0)}else{aH.attr(U,-1);aG.attr(U,0)}}).on("focusout"+ax,function(){var aK=aE();if(aK){aK.removeClass(p)}}).on("keydown"+ax,function(aT){var aZ=aT.keyCode,aQ=false,aW=!aT.isDefaultPrevented()&&!aq(aT.target).is(":button,a,:input,a>.k-icon"),aM=aI.options.pageable,aK=aI.dataSource,aO=aI._editMode()=="incell",aL,aS,a0,aP,aU,aV=aT.shiftKey,aN=o.support.browser,aR=aE();if(aR&&aR.is("th")){aW=true}if(aW&&aZ==N.UP){if(aR){a0=aR.parent().prevAll(D).first();if(!a0[0]){aU=aI.thead.parent();am(aU,true);a0=aU.find(D).first()}aP=aR.index();aR=a0.children().eq(aP);if(!aR[0]||!aR.is(au)){aR=a0.children(au).first()}}else{aR=aH.find(ae)}aQ=true;aE(aR)}else{if(aW&&aZ==N.DOWN){if(aR){a0=aR.parent().nextAll(D).first();if(!a0[0]&&aR.is("th")){am(aI.tbody.parent());a0=aI.tbody.find(D).first()}aP=aR.index();aR=a0.children().eq(aP);if(!aR[0]||!aR.is(au)){aR=a0.children(au).first()}}else{aR=aH.find(ae)}aQ=true;aE(aR)}else{if(aW&&aZ==(aF?N.RIGHT:N.LEFT)){aE(aR?aR.prevAll(C+":first"):aH.find(ae));aQ=true}else{if(aW&&aZ==(aF?N.LEFT:N.RIGHT)){if(aR){if(aR.next()[0]){aR=aR.nextAll(C+":first")}}else{aR=aH.find(ae)}aQ=true;aE(aR)}else{if(aW&&aM&&N.PAGEDOWN==aZ){aK.page(aK.page()+1);aQ=true}else{if(aW&&aM&&N.PAGEUP==aZ){aK.page(aK.page()-1);aQ=true}else{if(aZ==N.ENTER||N.F2==aZ){aR=aR?aR:aH.find(ae);if(aR.is("th")){aR.find(".k-link").click();aQ=true}else{if(aR.parent().is(".k-master-row,.k-grouping-row")){aR.parent().find(".k-icon:first").click();aQ=true}else{var aX=aR.find(":focusable:first");if(!aR.hasClass("k-edit-cell")&&aX[0]&&aR.hasClass("k-state-focused")){aX.focus();aQ=true}else{if(aI.options.editable&&!aq(aT.target).is(":button,.k-button")){aI._handleEditing(aR);aQ=true}}}}}else{if(N.ESC==aZ){aL=F();if(aR&&aq.contains(aR[0],aL)&&!aR.hasClass("k-edit-cell")&&!aR.parent().hasClass("k-grid-edit-row")){am(aI.table[0],true);aQ=true}else{if(aI._editContainer&&(!aR||aI._editContainer.has(aR[0])||aR[0]===aI._editContainer[0])){if(aO){aI.closeCell()}else{aS=aI.items().index(aq(aR).parent());if(aL){aL.blur()}aI.cancelRow();if(aS>=0){aI.current(aI.items().eq(aS).children().filter(au).first())}}if(aN.msie&&aN.version<9){document.body.focus()}am(aH,true);aQ=true}}}else{if(N.TAB==aZ){var aY;aR=aq(aR);if(aI.options.editable&&aO){aY=aq(F()).closest(".k-edit-cell");if(aY[0]&&aY[0]!==aR[0]){aR=aY}}aY=aV?aR.prevAll(C+":first"):aR.nextAll(":visible:first");if(!aY.length){aY=aR.parent()[aV?"prevAll":"nextAll"]("tr:not(.k-grouping-row):not(.k-detail-row):visible:first").children(C+(aV?":last":":first"))}if(!aR.is("th")&&aY.length&&aI.options.editable&&aO){aI._handleEditing(aR,aY);aQ=true}}}}}}}}}}if(aQ){aT.preventDefault();aT.stopPropagation()}})},_handleEditing:function(aJ,aE){var aF=this,aI=aq(F()),aL=aF._editMode(),aH=aF._editContainer,aK,aG;if(aL=="incell"){aG=aJ.hasClass("k-edit-cell")}else{aG=aJ.parent().hasClass("k-grid-edit-row")}if(aF.editable){if(aq.contains(aH[0],aI[0])){aI.blur();if(o.support.browser.opera){aI.change()}}if(!aF.editable){am(aF.table);return}if(aF.editable.end()){if(aL=="incell"){aF.closeCell()}else{aF.saveRow();aG=true}}else{if(aL=="incell"){aF.current(aH)}else{aF.current(aH.children().filter(C).first())}aK=aH.find(":focusable:first")[0];if(aK){aK.focus()}return}}if(aE){aF.current(aE)}am(aF.table,true);if((!aG&&!aE)||aE){if(aL=="incell"){aF.editCell(aF.current())}else{aF.editRow(aF.current().parent())}}},_wrapper:function(){var aG=this,aF=aG.table,aE=aG.options.height,aH=aG.element;if(!aH.is("div")){aH=aH.wrap("<div/>").parent()}aG.wrapper=aH.addClass("k-grid k-widget");if(aE){aG.wrapper.css(av,aE);aF.css(av,"auto")}},_tbody:function(){var aG=this,aF=aG.table,aE;aE=aF.find(">tbody");if(!aE.length){aE=aq("<tbody/>").appendTo(aF)}aG.tbody=aE},_scrollable:function(){var aH=this,aG,aL,aN=aH.options,aI=aN.scrollable,aF=aI!==true&&aI.virtual&&!aH.virtualScrollable,aM=!o.support.kineticScrollNeeded||aF?o.support.scrollbar():0;if(aI){aG=aH.wrapper.children(".k-grid-header");if(!aG[0]){aG=aq('<div class="k-grid-header" />').insertBefore(aH.table)}aG.css((v?"padding-left":"padding-right"),aI.virtual?aM+1:aM);aL=aq('<table role="grid" cellspacing="0" />');aL.append(aH.thead);aG.empty().append(aq('<div class="k-grid-header-wrap" />').append(aL));aH.content=aH.table.parent();if(aH.content.is(".k-virtual-scrollable-wrap")){aH.content=aH.content.parent()}if(!aH.content.is(".k-grid-content, .k-virtual-scrollable-wrap")){aH.content=aH.table.wrap('<div class="k-grid-content" />').parent()}if(aF){aH.virtualScrollable=new aa(aH.content,{dataSource:aH.dataSource,itemHeight:z(aH._averageRowHeight,aH)})}aH.scrollables=aG.children(".k-grid-header-wrap");var aJ=aH.wrapper.find(".k-grid-footer"),aK=(v&&o.support.browser.webkit)?aM:0;if(aJ.length){aH.scrollables=aH.scrollables.add(aJ.children(".k-grid-footer-wrap"))}if(aI.virtual){aH.content.find(">.k-virtual-scrollable-wrap").bind("scroll"+ax,function(){aH.scrollables.scrollLeft(this.scrollLeft+aK)})}else{aH.content.bind("scroll"+ax,function(){aH.scrollables.scrollLeft(this.scrollLeft+aK)});var aE=o.touchScroller(aH.content);if(aE&&aE.movable){aE.movable.bind("change",function(aO){aH.scrollables.scrollLeft(-aO.sender.x)})}}}},_setContentHeight:function(){var aH=this,aF=aH.options,aE=aH.wrapper.innerHeight(),aJ=aH.wrapper.children(".k-grid-header"),aI=o.support.scrollbar();if(aF.scrollable){aE-=aJ.outerHeight();if(aH.pager){aE-=aH.pager.element.outerHeight()}if(aF.groupable){aE-=aH.wrapper.children(".k-grouping-header").outerHeight()}if(aF.toolbar){aE-=aH.wrapper.children(".k-grid-toolbar").outerHeight()}if(aH.footerTemplate){aE-=aH.wrapper.children(".k-grid-footer").outerHeight()}var aG=function(aM){var aL,aK;if(aM[0].style.height){return true}else{aL=aM.height()}aM.height("auto");aK=aM.height();if(aL!=aK){aM.height("");return true}aM.height("");return false};if(aG(aH.wrapper)){if(aE>aI*2){aH.content.height(aE)}else{aH.content.height(aI*2+1)}}}},_averageRowHeight:function(){var aG=this,aF=aG._rowHeight;if(!aG._rowHeight){aG._rowHeight=aF=aG.table.outerHeight()/aG.items().length;aG._sum=aF;aG._measures=1}var aE=aG.table.outerHeight()/aG.items().length;if(aF!==aE){aG._measures++;aG._sum+=aE;aG._rowHeight=aG._sum/aG._measures}return aF},_dataSource:function(){var aG=this,aF=aG.options,aE,aH=aF.dataSource;aH=c(aH)?{data:aH}:aH;if(E(aH)){ab(aH,{table:aG.table,fields:aG.columns});aE=aF.pageable;if(E(aE)&&aE.pageSize!==t){aH.pageSize=aE.pageSize}}if(aG.dataSource&&aG._refreshHandler){aG.dataSource.unbind(I,aG._refreshHandler).unbind(al,aG._progressHandler).unbind(H,aG._errorHandler)}else{aG._refreshHandler=z(aG.refresh,aG);aG._progressHandler=z(aG._requestStart,aG);aG._errorHandler=z(aG._error,aG)}aG.dataSource=l.create(aH).bind(I,aG._refreshHandler).bind(al,aG._progressHandler).bind(H,aG._errorHandler)},_error:function(){this._progress(false)},_requestStart:function(){this._progress(true)},_modelChange:function(aK){var aJ=this,aI=aK.model,aN=aJ.tbody.find("tr["+o.attr("uid")+"="+aI.uid+"]"),aM,aF,aG=aN.hasClass("k-alt"),aH,aL=aJ.items().index(aN),aE;if(aN.children(".k-edit-cell").length&&!aJ.options.rowTemplate){aN.children(":not(.k-group-cell,.k-hierarchy-cell)").each(function(){aM=aq(this);aF=aJ.columns[aJ.cellIndex(aM)];if(aF.field===aK.field){if(!aM.hasClass("k-edit-cell")){aJ._displayCell(aM,aF,aI);aq('<span class="k-dirty"/>').prependTo(aM)}else{aM.addClass("k-dirty-cell")}}})}else{if(!aN.hasClass("k-grid-edit-row")){aH=(aG?aJ.altRowTemplate:aJ.rowTemplate)(aI);aN.replaceWith(aH);aH=aJ.items().eq(aL);for(aL=0,aE=aJ.columns.length;aL<aE;aL++){aF=aJ.columns[aL];if(aF.field===aK.field){aM=aH.children(":not(.k-group-cell,.k-hierarchy-cell)").eq(aL);aq('<span class="k-dirty"/>').prependTo(aM)}}aJ.trigger("itemChange",{item:aH,data:aI,ns:T})}}},_pageable:function(){var aF=this,aG,aE=aF.options.pageable;if(aE){aG=aF.wrapper.children("div.k-grid-pager");if(!aG.length){aG=aq('<div class="k-pager-wrap k-grid-pager"/>').appendTo(aF.wrapper)}if(aF.pager){aF.pager.destroy()}if(typeof aE==="object"&&aE instanceof o.ui.Pager){aF.pager=aE}else{aF.pager=new o.ui.Pager(aG,ab({},aE,{dataSource:aF.dataSource}))}}},_footer:function(){var aJ=this,aL=aJ.dataSource.aggregates(),aI="",aF=aJ.footerTemplate,aG=aJ.options,aE,aK=aJ.footer||aJ.wrapper.find(".k-grid-footer");if(aF){aL=!ag(aL)?aL:ar(aJ.dataSource.aggregate());aI=aq(aJ._wrapFooter(aF(aL)));if(aK.length){var aH=aI;aK.replaceWith(aH);aK=aJ.footer=aH}else{if(aG.scrollable){aK=aJ.footer=aG.pageable?aI.insertBefore(aJ.wrapper.children("div.k-grid-pager")):aI.appendTo(aJ.wrapper)}else{aK=aJ.footer=aI.insertBefore(aJ.tbody)}}}else{if(aK&&!aJ.footer){aJ.footer=aK}}if(aK.length){if(aG.scrollable){aE=aK.attr("tabindex",-1).children(".k-grid-footer-wrap");aJ.scrollables=aJ.scrollables.not(".k-grid-footer-wrap").add(aE)}if(aJ._footerWidth){aK.find("table").css("width",aJ._footerWidth)}if(aE){aE.scrollLeft(aJ.content.scrollLeft())}}},_wrapFooter:function(aF){var aG=this,aE="",aH=!o.support.mobileOS?o.support.scrollbar():0;if(aG.options.scrollable){aE=aq('<div class="k-grid-footer"><div class="k-grid-footer-wrap"><table cellspacing="0"><tbody>'+aF+"</tbody></table></div></div>");aG._appendCols(aE.find("table"));aE.css((v?"padding-left":"padding-right"),aH);return aE}return'<tfoot class="k-grid-footer">'+aF+"</tfoot>"},_columnMenu:function(){var aN=this,aH,aL=aN.columns,aK,aP=aN.options,aJ=aP.columnMenu,aI,aM,aE,aF=function(){am(aN.thead.parent(),true)},aG=function(aQ){aN.trigger(ak,{field:aQ.field,container:aQ.container})},aO;if(aJ){if(typeof aJ=="boolean"){aJ={}}aN.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(aQ){aK=aL[aQ];aO=aq(this);if(!aK.command&&(aK.field||aO.attr("data-"+o.ns+"field"))){aH=aO.data("kendoColumnMenu");if(aH){aH.destroy()}aM=aK.sortable!==false&&aJ.sortable!==false?aP.sortable:false;aE=aP.filterable&&aK.filterable!==false&&aJ.filterable!==false?ab({},aK.filterable,aP.filterable):false;aI={dataSource:aN.dataSource,values:aK.values,columns:aJ.columns,sortable:aM,filterable:aE,messages:aJ.messages,owner:aN,closeCallback:aF,init:aG};aO.kendoColumnMenu(aI)}})}},_filterable:function(){var aG=this,aF=aG.columns,aE,aJ,aI=function(){am(aG.thead.parent(),true)},aH=aG.options.filterable;if(aH&&!aG.options.columnMenu){aG.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(aK){aE=aq(this);if(aF[aK].filterable!==false&&!aF[aK].command&&(aF[aK].field||aE.attr("data-"+o.ns+"field"))){aJ=aE.data("kendoFilterMenu");if(aJ){aJ.destroy()}aE.kendoFilterMenu(ab(true,{},aH,aF[aK].filterable,{dataSource:aG.dataSource,values:aF[aK].values,closeCallback:aI,init:function(aL){aG.trigger(d,{field:aL.field,container:aL.container})}}))}})}},_sortable:function(){var aI=this,aG=aI.columns,aH,aE,aF,aJ=aI.options.sortable;if(aJ){aI.thead.find("th:not(.k-hierarchy-cell,.k-group-cell)").each(function(aK){aH=aG[aK];if(aH.sortable!==false&&!aH.command&&aH.field){aE=aq(this);aF=aE.data("kendoSortable");if(aF){aF.destroy()}aE.attr("data-"+o.ns+"field",aH.field).kendoSortable(ab({},aJ,{dataSource:aI.dataSource,aria:true}))}})}},_columns:function(aE){var aG=this,aF=aG.table,aI,aH=aF.find("col"),aJ=aG.options.dataSource;aE=aE.length?aE:u(aF.find("th"),function(aN,aK){aN=aq(aN);var aR=aN.attr(o.attr("sortable")),aO=aN.attr(o.attr("filterable")),aM=aN.attr(o.attr("type")),aL=aN.attr(o.attr("groupable")),aP=aN.attr(o.attr("field")),aQ=aN.attr(o.attr("menu"));if(!aP){aP=aN.text().replace(/\s|[^A-z0-9]/g,"")}return{field:aP,type:aM,sortable:aR!=="false",filterable:aO!=="false",groupable:aL!=="false",menu:aQ,template:aN.attr(o.attr("template")),width:aH.eq(aK).css("width")}});aI=!(aG.table.find("tbody tr").length>0&&(!aJ||!aJ.transport));aG.columns=u(aE,function(aK){aK=typeof aK===ay?{field:aK}:aK;if(aK.hidden){aK.attributes=G(aK.attributes);aK.footerAttributes=G(aK.footerAttributes);aK.headerAttributes=G(aK.headerAttributes)}return ab({encoded:aI},aK)})},_groups:function(){var aE=this.dataSource.group();return aE?aE.length:0},_tmpl:function(aO,aJ){var aK=this,aI=ab({},o.Template,aK.options.templateSettings),aP,aF=aK.columns.length,aQ,aE={storage:{},count:0},aH,aM,aN=aK._hasDetails(),aL=[],aG=aK._groups();if(!aO){aO="<tr";if(aJ){aL.push("k-alt")}if(aN){aL.push("k-master-row")}if(aL.length){aO+=' class="'+aL.join(" ")+'"'}if(aF){aO+=" "+o.attr("uid")+'="#='+o.expr("uid",aI.paramName)+'#"'}aO+=" role='row'>";if(aG>0){aO+=an(aG)}if(aN){aO+='<td class="k-hierarchy-cell"><a class="k-icon k-plus" href="\\#" tabindex="-1"></a></td>'}for(aP=0;aP<aF;aP++){aH=aK.columns[aP];aQ=aH.template;aM=typeof aQ;aO+="<td"+j(aH.attributes)+" role='gridcell'>";aO+=aK._cellTmpl(aH,aE);aO+="</td>"}aO+="</tr>"}aO=o.template(aO,aI);if(aE.count>0){return z(aO,aE.storage)}return aO},_headerCellText:function(aH){var aI=this,aG=ab({},o.Template,aI.options.templateSettings),aF=aH.headerTemplate,aE=typeof(aF),aJ=aH.title||aH.field||"";if(aE===ad){aJ=o.template(aF,aG)({})}else{if(aE===ay){aJ=aF}}return aJ},_cellTmpl:function(aG,aE){var aK=this,aH=ab({},o.Template,aK.options.templateSettings),aQ=aG.template,aI=aH.paramName,aN=aG.field,aJ="",aP,aF,aO=aG.format,aM=typeof aQ,aL=aG.values;if(aG.command){if(c(aG.command)){for(aP=0,aF=aG.command.length;aP<aF;aP++){aJ+=aK._createButton(aG.command[aP])}return aJ.replace(X,"\\#")}return aK._createButton(aG.command).replace(X,"\\#")}if(aM===ad){aE.storage["tmpl"+aE.count]=aQ;aJ+="#=this.tmpl"+aE.count+"("+aI+")#";aE.count++}else{if(aM===ay){aJ+=aQ}else{if(aL&&aL.length&&E(aL[0])&&"value" in aL[0]&&aN){aJ+="#var v ="+o.stringify(O(aL))+"#";aJ+="#var f = v[";if(!aH.useWithBlock){aJ+=aI+"."}aJ+=aN+"]#";aJ+="${f != null ? f : ''}"}else{aJ+=aG.encoded?"#:":"#=";if(aO){aJ+='kendo.format("'+aO.replace(R,"\\$1")+'",'}if(aN){aN=o.expr(aN,aI);aJ+=aN+"==null?'':"+aN}else{aJ+="''"}if(aO){aJ+=")"}aJ+="#"}}}return aJ},_templates:function(){var aG=this,aF=aG.options,aH=aG.dataSource,aE=aH.group(),aJ=aG.footer||aG.wrapper.find(".k-grid-footer"),aI=aH.aggregate();aG.rowTemplate=aG._tmpl(aF.rowTemplate);aG.altRowTemplate=aG._tmpl(aF.altRowTemplate||aF.rowTemplate,true);if(aG._hasDetails()){aG.detailTemplate=aG._detailTmpl(aF.detailTemplate||"")}if((aG._group&&!ag(aI))||(!ag(aI)&&!aJ.length)||f(aG.columns,function(aK){return aK.footerTemplate}).length){aG.footerTemplate=aG._footerTmpl(aI,"footerTemplate","k-footer-template")}if(aE&&f(aG.columns,function(aK){return aK.groupFooterTemplate}).length){aI=aq.map(aE,function(aK){return aK.aggregates});aG.groupFooterTemplate=aG._footerTmpl(aI,"groupFooterTemplate","k-group-footer")}},_footerTmpl:function(aJ,aK,aR){var aO=this,aT=ab({},o.Template,aO.options.templateSettings),aM=aT.paramName,aP="",aQ,aI,aF=aO.columns,aV,aH,aS={},aN=0,aE={},aU=aO._groups(),aL=ar(aJ),aG;aP+='<tr class="'+aR+'">';if(aU>0){aP+=an(aU)}if(aO._hasDetails()){aP+='<td class="k-hierarchy-cell">&nbsp;</td>'}for(aQ=0,aI=aO.columns.length;aQ<aI;aQ++){aG=aF[aQ];aV=aG[aK];aH=typeof aV;aP+="<td"+j(aG.footerAttributes)+">";if(aV){if(aH!==ad){aE=aL[aG.field]?ab({},aT,{paramName:aM+"."+aG.field}):{};aV=o.template(aV,aE)}aS["tmpl"+aN]=aV;aP+="#=this.tmpl"+aN+"("+aM+")#";aN++}else{aP+="&nbsp;"}aP+="</td>"}aP+="</tr>";aP=o.template(aP,aT);if(aN>0){return z(aP,aS)}return aP},_detailTmpl:function(aM){var aK=this,aJ="",aG=ab({},o.Template,aK.options.templateSettings),aH=aG.paramName,aN={},aI=0,aF=aK._groups(),aE=q(aK.columns).length,aL=typeof aM;aJ+='<tr class="k-detail-row">';if(aF>0){aJ+=an(aF)}aJ+='<td class="k-hierarchy-cell"></td><td class="k-detail-cell"'+(aE?' colspan="'+aE+'"':"")+">";if(aL===ad){aN["tmpl"+aI]=aM;aJ+="#=this.tmpl"+aI+"("+aH+")#";aI++}else{aJ+=aM}aJ+="</td></tr>";aJ=o.template(aJ,aG);if(aI>0){return z(aJ,aN)}return aJ},_hasDetails:function(){var aE=this;return aE.options.detailTemplate!==null||(aE._events[n]||[]).length},_details:function(){var aE=this;aE.table.on(ao+ax,".k-hierarchy-cell .k-plus, .k-hierarchy-cell .k-minus",function(aI){var aF=aq(this),aM=aF.hasClass("k-plus"),aH=aF.closest("tr.k-master-row"),aJ,aL=aE.detailTemplate,aG,aK=aE._hasDetails();aF.toggleClass("k-plus",!aM).toggleClass("k-minus",aM);if(aK&&!aH.next().hasClass("k-detail-row")){aG=aE.dataItem(aH);aq(aL(aG)).addClass(aH.hasClass("k-alt")?"k-alt":"").insertAfter(aH);aE.trigger(n,{masterRow:aH,detailRow:aH.next(),data:aG,detailCell:aH.next().find(".k-detail-cell")})}aJ=aH.next();aE.trigger(aM?g:Z,{masterRow:aH,detailRow:aJ});aJ.toggle(aM);if(aE._current){aE._current.attr("aria-expanded",aM)}aI.preventDefault();return false})},dataItem:function(aE){return this._data[this.tbody.find("> tr:not(.k-grouping-row,.k-detail-row,.k-group-footer)").index(aq(aE))]},expandRow:function(aE){aq(aE).find("> td .k-plus, > td .k-i-expand").click()},collapseRow:function(aE){aq(aE).find("> td .k-minus, > td .k-i-collapse").click()},_thead:function(){var aI=this,aG=aI.columns,aL=aI._hasDetails()&&aG.length,aM,aF,aH="",aJ=aI.table.find(">thead"),aK,aN,aE;if(!aJ.length){aJ=aq("<thead/>").insertBefore(aI.tbody)}aK=aI.element.find("tr:has(th):first");if(!aK.length){aK=aJ.children().first();if(!aK.length){aK=aq("<tr/>")}}if(!aK.children().length){if(aL){aH+='<th class="k-hierarchy-cell">&nbsp;</th>'}for(aM=0,aF=aG.length;aM<aF;aM++){aE=aG[aM];aN=aI._headerCellText(aE);if(!aE.command){aH+="<th role='columnheader' "+o.attr("field")+"='"+(aE.field||"")+"' ";if(aE.title){aH+=o.attr("title")+'="'+aE.title.replace(/'/g,"'")+'" '}if(aE.groupable!==t){aH+=o.attr("groupable")+"='"+aE.groupable+"' "}if(aE.aggregates){aH+=o.attr("aggregates")+"='"+aE.aggregates+"'"}aH+=j(aE.headerAttributes);aH+=">"+aN+"</th>"}else{aH+="<th"+j(aE.headerAttributes)+">"+aN+"</th>"}}aK.html(aH)}else{if(aL&&!aK.find(".k-hierarchy-cell")[0]){aK.prepend('<th class="k-hierarchy-cell">&nbsp;</th>')}}aK.find("th").addClass("k-header");if(!aI.options.scrollable){aJ.addClass("k-grid-header")}aK.find("script").remove().end().appendTo(aJ);if(aI.thead){aI._destroyColumnAttachments()}aI.thead=aJ;aI._sortable();aI._filterable();aI._scrollable();aI._updateCols();aI._resizable();aI._draggable();aI._reorderable();if(aI.groupable){aI._attachGroupable()}aI._columnMenu()},_updateCols:function(){var aE=this;aE._appendCols(aE.thead.parent().add(aE.table))},_appendCols:function(aF){var aE=this;aA(aF,q(aE.columns),aE._hasDetails(),aE._groups())},_autoColumns:function(aF){if(aF&&aF.toJSON){var aE=this,aG;aF=aF.toJSON();for(aG in aF){aE.columns.push({field:aG})}aE._thead();aE._templates()}},_rowsHtml:function(aJ){var aI=this,aF="",aE,aH,aK=aI.rowTemplate,aG=aI.altRowTemplate;for(aE=0,aH=aJ.length;aE<aH;aE++){if(aE%2){aF+=aG(aJ[aE])}else{aF+=aK(aJ[aE])}aI._data.push(aJ[aE])}return aF},_groupRowHtml:function(aP,aG,aE){var aL=this,aK="",aN,aF,aM=aP.field,aH=f(aL.columns,function(aS){return aS.field==aM})[0]||{},aO=aH.groupHeaderTemplate,aQ=(aH.title||aM)+": "+M(aP.value,aH.format,aH.values),aJ=ab({},{field:aP.field,value:aP.value},aP.aggregates[aP.field]),aI=aL._groupAggregatesDefaultObject||{},aR=aP.items;if(aO){aQ=typeof aO===ad?aO(aJ):o.template(aO)(aJ)}aK+='<tr class="k-grouping-row">'+an(aE)+'<td colspan="'+aG+'" aria-expanded="true"><p class="k-reset"><a class="k-icon k-i-collapse" href="#" tabindex="-1"></a>'+aQ+"</p></td></tr>";if(aP.hasSubgroups){for(aN=0,aF=aR.length;aN<aF;aN++){aK+=aL._groupRowHtml(aR[aN],aG-1,aE+1)}}else{aK+=aL._rowsHtml(aR)}if(aL.groupFooterTemplate){aK+=aL.groupFooterTemplate(ab(aI,aP.aggregates))}return aK},collapseGroup:function(aG){aG=aq(aG).find(".k-icon").addClass("k-i-expand").removeClass("k-i-collapse").end();var aI=aG.find(".k-group-cell").length,aE=1,aH,aF;aG.find("td:first").attr("aria-expanded",false);aG.nextAll("tr").each(function(){aF=aq(this);aH=aF.find(".k-group-cell").length;if(aF.hasClass("k-grouping-row")){aE++}else{if(aF.hasClass("k-group-footer")){aE--}}if(aH<=aI||(aF.hasClass("k-group-footer")&&aE<0)){return false}aF.hide()})},expandGroup:function(aH){aH=aq(aH).find(".k-icon").addClass("k-i-collapse").removeClass("k-i-expand").end();var aF=this,aJ=aH.find(".k-group-cell").length,aG,aI,aE=1;aH.find("td:first").attr("aria-expanded",true);aH.nextAll("tr").each(function(){aG=aq(this);aI=aG.find(".k-group-cell").length;if(aI<=aJ){return false}if(aI==aJ+1&&!aG.hasClass("k-detail-row")){aG.show();if(aG.hasClass("k-grouping-row")&&aG.find(".k-icon").hasClass("k-i-collapse")){aF.expandGroup(aG)}if(aG.hasClass("k-master-row")&&aG.find(".k-icon").hasClass("k-minus")){aG.next().show()}}if(aG.hasClass("k-grouping-row")){aE++}if(aG.hasClass("k-group-footer")){if(aE==1){aG.show()}else{aE--}}})},_updateHeader:function(aE){var aH=this,aF=aH.thead.find("th.k-group-cell"),aG=aF.length;if(aE>aG){aq(new Array(aE-aG+1).join('<th class="k-group-cell k-header">&nbsp;</th>')).prependTo(aH.thead.find("tr"))}else{if(aE<aG){aG=aG-aE;aq(f(aF,function(aJ,aI){return aG>aI})).remove()}}},_firstDataItem:function(aF,aE){if(aF&&aE){if(aF.hasSubgroups){aF=this._firstDataItem(aF.items[0],aE)}else{aF=aF.items[0]}}return aF},hideColumn:function(aH){var aK=this,aS,aR,aP,aQ,aO,aM,aI,aE=0,aF,aN=aK.footer||aK.wrapper.find(".k-grid-footer"),aG=aK.columns,aL,aJ=o.support.browser;if(typeof aH=="number"){aH=aG[aH]}else{aH=f(aG,function(aT){return aT.field===aH})[0]}if(!aH||aH.hidden){return}aL=s(aH,q(aG));aH.hidden=true;aH.attributes=G(aH.attributes);aH.footerAttributes=G(aH.footerAttributes);aH.headerAttributes=G(aH.headerAttributes);aK._templates();aK._updateCols();aK.thead.find(">tr>th:not(.k-hierarchy-cell,.k-group-cell):visible").eq(aL).hide();if(aN){aK._appendCols(aN.find("table:first"));aN.find(".k-footer-template>td:not(.k-hierarchy-cell,.k-group-cell):visible").eq(aL).hide()}aS=aK.tbody.children();for(aO=0,aF=aS.length;aO<aF;aO+=1){aR=aS.eq(aO);if(aR.is(".k-grouping-row,.k-detail-row")){aP=aR.children(":not(.k-group-cell):first,.k-detail-cell").last();aP.attr("colspan",parseInt(aP.attr("colspan"),10)-1)}else{if(aR.hasClass("k-grid-edit-row")&&(aP=aR.children(".k-edit-container")[0])){aP=aq(aP);aP.attr("colspan",parseInt(aP.attr("colspan"),10)-1);aP.find("col").eq(aL).remove();aR=aP.find("tr:first")}a(aR[0].cells,aL,false)}}aM=aK.thead.prev().find("col");for(aO=0,aF=aM.length;aO<aF;aO+=1){aI=aM[aO].style.width;if(aI&&aI.indexOf("%")==-1){aE+=parseInt(aI,10)}else{aE=0;break}}aQ=aq(">.k-grid-header table:first,>.k-grid-footer table:first",aK.wrapper).add(aK.table);aK._footerWidth=null;if(aE){aQ.width(aE);aK._footerWidth=aE}if(aJ.msie&&aJ.version==8){aQ.css("display","inline-table");setTimeout(function(){aQ.css("display","table")},1)}aK.trigger(w,{column:aH})},showColumn:function(aH){var aJ=this,aR,aN,aF,aQ,aO,aP,aE,aI,aL,aG=aJ.columns,aM=aJ.footer||aJ.wrapper.find(".k-grid-footer"),aK;if(typeof aH=="number"){aH=aG[aH]}else{aH=f(aG,function(aS){return aS.field===aH})[0]}if(!aH||!aH.hidden){return}aK=s(aH,aG);aH.hidden=false;aH.attributes=W(aH.attributes);aH.footerAttributes=W(aH.footerAttributes);aH.headerAttributes=W(aH.headerAttributes);aJ._templates();aJ._updateCols();aJ.thead.find(">tr>th:not(.k-hierarchy-cell,.k-group-cell)").eq(aK).show();if(aM){aJ._appendCols(aM.find("table:first"));aM.find(".k-footer-template>td:not(.k-hierarchy-cell,.k-group-cell)").eq(aK).show()}aR=aJ.tbody.children();for(aN=0,aF=aR.length;aN<aF;aN+=1){aQ=aR.eq(aN);if(aQ.is(".k-grouping-row,.k-detail-row")){aO=aQ.children(":not(.k-group-cell):first,.k-detail-cell").last();aO.attr("colspan",parseInt(aO.attr("colspan"),10)+1)}else{if(aQ.hasClass("k-grid-edit-row")&&(aO=aQ.children(".k-edit-container")[0])){aO=aq(aO);aO.attr("colspan",parseInt(aO.attr("colspan"),10)+1);aA(aO.find(">form>table"),q(aG),false,0);aQ=aO.find("tr:first")}a(aQ[0].cells,aK,true)}}aP=aq(">.k-grid-header table:first,>.k-grid-footer table:first",aJ.wrapper).add(aJ.table);if(!aH.width){aP.width("")}else{aE=0;aL=aJ.thead.prev().find("col");for(aN=0,aF=aL.length;aN<aF;aN+=1){aI=aL[aN].style.width;if(aI.indexOf("%")>-1){aE=0;break}aE+=parseInt(aI,10)}aJ._footerWidth=null;if(aE){aP.width(aE);aJ._footerWidth=aE}}aJ.trigger(ah,{column:aH})},_progress:function(aE){var aG=this,aF=aG.element.is("table")?aG.element.parent():(aG.content&&aG.content.length?aG.content:aG.element);o.ui.progress(aF,aE)},refresh:function(aP){var aM=this,aE,aS,aL="",aI=aM.dataSource.view(),aQ=aM.options.navigatable,aJ,aR,aO,aN=aq(aM.current()),aK=false,aG=(aM.dataSource.group()||[]).length,aF=aG+q(aM.columns).length,aH;if(aP&&aP.action==="itemchange"&&aM.editable){return}aP=aP||{};if(aM.trigger("dataBinding",{action:aP.action||"rebind",index:aP.index,items:aP.items})){return}aH=F();if(aQ&&(aM.table[0]===aH||aq.contains(aM.table[0],aH)||(aM._editContainer&&aM._editContainer.data("kendoWindow")))){aK=aN.is("th");aO=0;if(aK){aO=aM.thead.find("th:not(.k-group-cell)").index(aN)}}aM._destroyEditable();aM._progress(false);aM._data=[];if(!aM.columns.length){aM._autoColumns(aM._firstDataItem(aI[0],aG));aF=aG+aM.columns.length}aM._group=aG>0||aM._group;if(aM._group){aM._templates();aM._updateCols();aM._updateHeader(aG);aM._group=aG>0}if(aG>0){if(aM.detailTemplate){aF++}if(aM.groupFooterTemplate){aM._groupAggregatesDefaultObject=ar(aM.dataSource.aggregate())}for(aS=0,aE=aI.length;aS<aE;aS++){aL+=aM._groupRowHtml(aI[aS],aF,0)}}else{aL+=aM._rowsHtml(aI)}if(x){aM.tbody[0].innerHTML=aL}else{aR=document.createElement("div");aR.innerHTML="<table><tbody>"+aL+"</tbody></table>";aJ=aR.firstChild.firstChild;aM.table[0].replaceChild(aJ,aM.tbody[0]);aM.tbody=aq(aJ)}aM._footer();aM._setContentHeight();if(aO>=0){aM._removeCurrent();if(!aK){aM.current(aM.items().eq(aO).children().filter(C).first())}else{aM.current(aM.thead.find("th:not(.k-group-cell)").eq(aO))}if(aM._current){am(aM._current.closest("table")[0],true)}}aM.trigger(A)}});function r(aF,aG){var aE,aH,aI;if(typeof aF===ay&&aF===aG){return aF}if(E(aF)&&aF.name===aG){return aF}if(c(aF)){for(aE=0,aH=aF.length;aE<aH;aE++){aI=aF[aE];if((typeof aI===ay&&aI===aG)||(aI.name===aG)){return aI}}}return null}function am(aF,aK){var aE=o.support.browser.msie;if(aK===true){aF=aq(aF);var aJ=aE&&aF.parent().is(".k-grid-content,.k-grid-header-wrap"),aH,aI;if(aJ){aH=aF.parent().scrollTop();aI=aF.parent().scrollLeft()}if(aE){try{aF[0].setActive()}catch(aG){aF[0].focus()}}else{aF[0].focus()}if(aJ){aF.parent().scrollTop(aH);aF.parent().scrollLeft(aI)}}else{aq(aF).one("focusin",function(aL){aL.preventDefault()}).focus()}}function B(aH){var aG=aq(aH.currentTarget),aF=aG.is("th"),aE=aG.closest("table")[0];if(aE!==this.table[0]&&aE!==this.thead.parent()[0]){return}this.current(aG);if(aF||!aq(aH.target).is(":button,a,:input,a>.k-icon,textarea,span.k-icon,.k-input")){setTimeout(function(){am(aE,true)})}if(aF){aH.preventDefault()}}T.plugin(aj);T.plugin(aa)})(window.kendo.jQuery);kendo_module({id:"slider",name:"Slider",category:"web",description:"The Slider widget provides a rich input for selecting values or ranges of values.",depends:["draganddrop"]});(function(B,j){var E=window.kendo,c=E.ui.Widget,i=E.ui.Draggable,h=B.extend,w=E.format,n=E.parseFloat,S=B.proxy,r=B.isArray,x=Math,N=E.support,I=N.pointers,A="change",b="slide",K=".slider",J="touchstart"+K+" mousedown"+K,Q=I?"MSPointerDown"+K:"mousedown"+K+" touchstart"+K,d="touchend"+K+" mouseup"+K,p="moveSelection",u="keydown"+K,O="click"+K,g="mouseover"+K,V="focus"+K,L="blur"+K,e=".k-draghandle",f=".k-slider-track",F=".k-tick",q="k-state-selected",T="k-state-default",v="k-state-disabled",k=3,z="disabled",C="undefined",s="tabindex",o=E.getTouches;var W=c.extend({init:function(Z,Y){var aa=this;c.fn.init.call(aa,Z,Y);Y=aa.options;aa._distance=Y.max-Y.min;aa._isHorizontal=Y.orientation=="horizontal";aa._isRtl=aa._isHorizontal&&E.support.isRtl(Z);aa._position=aa._isHorizontal?"left":"bottom";aa._size=aa._isHorizontal?"width":"height";aa._outerSize=aa._isHorizontal?"outerWidth":"outerHeight";Y.tooltip.format=Y.tooltip.enabled?Y.tooltip.format||"{0}":"{0}";aa._createHtml();aa.wrapper=aa.element.closest(".k-slider");aa._trackDiv=aa.wrapper.find(f);aa._setTrackDivWidth();aa._maxSelection=aa._trackDiv[aa._size]();var X=aa._maxSelection/((Y.max-Y.min)/Y.smallStep);var ac=aa._calculateItemsWidth(x.floor(aa._distance/Y.smallStep));if(Y.tickPlacement!="none"&&X>=2){aa._trackDiv.before(m(Y,aa._distance));aa._setItemsWidth(ac);aa._setItemsTitle();aa._setItemsLargeTick()}aa._calculateSteps(ac);aa._tabindex(aa.wrapper.find(e));aa[Y.enabled?"enable":"disable"]();var ab=E.support.isRtl(aa.wrapper)?-1:1;aa._keyMap={37:D(-1*ab*Y.smallStep),40:D(-Y.smallStep),39:D(+1*ab*Y.smallStep),38:D(+Y.smallStep),35:H(Y.max),36:H(Y.min),33:D(+Y.largeStep),34:D(-Y.largeStep)};E.notify(aa)},events:[A,b],options:{enabled:true,min:0,max:10,smallStep:1,largeStep:5,orientation:"horizontal",tickPlacement:"both",tooltip:{enabled:true,format:"{0}"}},_setTrackDivWidth:function(){var X=this,Y=parseFloat(X._trackDiv.css(X._isRtl?"right":X._position),10)*2;X._trackDiv[X._size]((X.wrapper[X._size]()-2)-Y)},_setItemsWidth:function(ac){var aa=this,ah=aa.options,Y=0,af=ac.length-1,ab=aa.wrapper.find(F),X,ag=0,ae=2,Z=ab.length,ad=0;for(X=0;X<Z-2;X++){B(ab[X+1])[aa._size](ac[X])}if(aa._isHorizontal){B(ab[Y]).addClass("k-first")[aa._size](ac[af-1]);B(ab[af]).addClass("k-last")[aa._size](ac[af])}else{B(ab[af]).addClass("k-first")[aa._size](ac[af]);B(ab[Y]).addClass("k-last")[aa._size](ac[af-1])}if(aa._distance%ah.smallStep!==0&&!aa._isHorizontal){for(X=0;X<ac.length;X++){ad+=ac[X]}ag=aa._maxSelection-ad;ag+=parseFloat(aa._trackDiv.css(aa._position),10)+ae;aa.wrapper.find(".k-slider-items").css("padding-top",ag)}},_setItemsTitle:function(){var ae=this,aa=ae.options,Z=ae.wrapper.find(F),ac=aa.min,ad=Z.length,ab=ae._isHorizontal&&!ae._isRtl?0:ad-1,Y=ae._isHorizontal&&!ae._isRtl?ad:-1,X=ae._isHorizontal&&!ae._isRtl?1:-1;for(;ab-Y!==0;ab+=X){B(Z[ab]).attr("title",w(aa.tooltip.format,U(ac)));ac+=aa.smallStep}},_setItemsLargeTick:function(){var ac=this,Y=ac.options,Z,X=ac.wrapper.find(F),ab={},aa=U(Y.largeStep/Y.smallStep);if((1000*Y.largeStep)%(1000*Y.smallStep)===0){if(ac._isHorizontal&&!ac._isRtl){for(Z=0;Z<X.length;Z=U(Z+aa)){ab=B(X[Z]);ab.addClass("k-tick-large").html("<span class='k-label'>"+ab.attr("title")+"</span>")}}else{for(Z=X.length-1;Z>=0;Z=U(Z-aa)){ab=B(X[Z]);ab.addClass("k-tick-large").html("<span class='k-label'>"+ab.attr("title")+"</span>");if(!ac._isRtl){if(Z!==0&&Z!==X.length-1){ab.css("line-height",ab[ac._size]()+"px")}}}}}},_calculateItemsWidth:function(X){var ab=this,Y=ab.options,ad=parseFloat(ab._trackDiv.css(ab._size))+1,aa=ad/ab._distance,ac,ae,Z;if((ab._distance/Y.smallStep)-x.floor(ab._distance/Y.smallStep)>0){ad-=((ab._distance%Y.smallStep)*aa)}ac=ad/X;ae=[];for(Z=0;Z<X-1;Z++){ae[Z]=ac}ae[X-1]=ae[X]=ac/2;return ab._roundWidths(ae)},_roundWidths:function(Z){var aa=0,Y=Z.length,X;for(X=0;X<Y;X++){aa+=(Z[X]-x.floor(Z[X]));Z[X]=x.floor(Z[X])}aa=x.round(aa);return this._addAdditionalSize(aa,Z)},_addAdditionalSize:function(X,aa){if(X===0){return aa}var Z=parseFloat(aa.length-1)/parseFloat(X==1?X:X-1),Y;for(Y=0;Y<X;Y++){aa[parseInt(x.round(Z*Y),10)]+=1}return aa},_calculateSteps:function(ae){var ac=this,Y=ac.options,ad=Y.min,aa=0,X=x.ceil(ac._distance/Y.smallStep),Z=1,ab;X+=(ac._distance/Y.smallStep)%1===0?1:0;ae.splice(0,0,ae[X-2]*2);ae.splice(X-1,1,ae.pop()*2);ac._pixelSteps=[aa];ac._values=[ad];if(X===0){return}while(Z<X){aa+=(ae[Z-1]+ae[Z])/2;ac._pixelSteps[Z]=aa;ac._values[Z]=ad+=Y.smallStep;Z++}ab=ac._distance%Y.smallStep===0?X-1:X;ac._pixelSteps[ab]=ac._maxSelection;ac._values[ab]=Y.max;if(ac._isRtl){ac._pixelSteps.reverse();ac._values.reverse()}},_getValueFromPosition:function(ae,Z){var ad=this,Y=ad.options,ac=x.max(Y.smallStep*(ad._maxSelection/ad._distance),0),X=0,ab=(ac/2),aa;if(ad._isHorizontal){X=ae-Z.startPoint;if(ad._isRtl){X=ad._maxSelection-X}}else{X=Z.startPoint-ae}if(ad._maxSelection-((parseInt(ad._maxSelection%ac,10)-3)/2)<X){return Y.max}for(aa=0;aa<ad._pixelSteps.length;aa++){if(x.abs(ad._pixelSteps[aa]-X)-1<=ab){return U(ad._values[aa])}}},_getFormattedValue:function(ae,Z){var aa=this,Y="",ac=aa.options.tooltip,X,ab,ad;if(r(ae)){ab=ae[0];ad=ae[1]}else{if(Z&&Z.type){ab=Z.selectionStart;ad=Z.selectionEnd}}if(Z){X=Z.tooltipTemplate}if(!X&&ac.template){X=E.template(ac.template)}if(r(ae)||(Z&&Z.type)){if(X){Y=X({selectionStart:ab,selectionEnd:ad})}else{ab=w(ac.format,ab);ad=w(ac.format,ad);Y=ab+" - "+ad}}else{if(Z){Z.val=ae}if(X){Y=X({value:ae})}else{Y=w(ac.format,ae)}}return Y},_getDraggableArea:function(){var X=this,Y=E.getOffset(X._trackDiv);return{startPoint:X._isHorizontal?Y.left:Y.top+X._maxSelection,endPoint:X._isHorizontal?Y.left+X._maxSelection:Y.top}},_createHtml:function(){var aa=this,Z=aa.element,Y=aa.options,X=Z.find("input");if(X.length==2){X.eq(0).val(Y.selectionStart);X.eq(1).val(Y.selectionEnd)}else{Z.val(Y.value)}Z.wrap(M(Y,Z,aa._isHorizontal)).hide();if(Y.showButtons){Z.before(y(Y,"increase",aa._isHorizontal)).before(y(Y,"decrease",aa._isHorizontal))}Z.before(a(Y,Z))},_focus:function(aa){var Y=this,Z=aa.target,ab=Y.value(),X=Y._drag;if(!X){if(Z==Y.wrapper.find(e).eq(0)[0]){X=Y._firstHandleDrag;Y._activeHandle=0}else{X=Y._lastHandleDrag;Y._activeHandle=1}ab=ab[Y._activeHandle]}B(Z).addClass(q);if(X){Y._activeHandleDrag=X;X.selectionStart=Y.options.selectionStart;X.selectionEnd=Y.options.selectionEnd;X._updateTooltip(ab)}},_focusWithMouse:function(aa){var Y=this,Z=B(aa.target),X=Z.is(e)?Z.index():0;window.setTimeout(function(){Y.wrapper.find(e)[X==2?1:0].focus()},1);Y._setTooltipTimeout()},_blur:function(Z){var Y=this,X=Y._activeHandleDrag;B(Z.target).removeClass(q);if(X){X._removeTooltip();delete Y._activeHandleDrag;delete Y._activeHandle}},_setTooltipTimeout:function(){var X=this;X._tooltipTimeout=window.setTimeout(function(){var Y=X._drag||X._activeHandleDrag;if(Y){Y._removeTooltip()}},300)},_clearTooltipTimeout:function(){var Y=this;window.clearTimeout(this._tooltipTimeout);var X=Y._drag||Y._activeHandleDrag;if(X&&X.tooltipDiv){X.tooltipDiv.stop(true,false).css("opacity",1)}}});function M(X,aa,ad){var Z=ad?" k-slider-horizontal":" k-slider-vertical",ab=X.style?X.style:aa.attr("style"),Y=aa.attr("class")?(" "+aa.attr("class")):"",ac="";if(X.tickPlacement=="bottomRight"){ac=" k-slider-bottomright"}else{if(X.tickPlacement=="topLeft"){ac=" k-slider-topleft"}}ab=ab?" style='"+ab+"'":"";return"<div class='k-widget k-slider"+Z+Y+"'"+ab+"><div class='k-slider-wrap"+(X.showButtons?" k-slider-buttons":"")+ac+"'></div></div>"}function y(X,Z,aa){var Y="";if(Z=="increase"){Y=aa?"k-i-arrow-e":"k-i-arrow-n"}else{Y=aa?"k-i-arrow-w":"k-i-arrow-s"}return"<a class='k-button k-button-"+Z+"'><span class='k-icon "+Y+"' title='"+X[Z+"ButtonTitle"]+"'>"+X[Z+"ButtonTitle"]+"</span></a>"}function m(Y,ab){var X="<ul class='k-reset k-slider-items'>",aa=x.floor(U(ab/Y.smallStep))+1,Z;for(Z=0;Z<aa;Z++){X+="<li class='k-tick' role='presentation'>&nbsp;</li>"}X+="</ul>";return X}function a(X,Z){var aa=Z.is("input")?1:2,Y=aa==2?X.leftDragHandleTitle:X.dragHandleTitle;return"<div class='k-slider-track'><div class='k-slider-selection'><!-- --></div><a href='#' class='k-draghandle' title='"+Y+"' role='slider' aria-valuemin='"+X.min+"' aria-valuemax='"+X.max+"' aria-valuenow='"+(aa>1?(X.selectionStart||X.min):X.value||X.min)+"'>Drag</a>"+(aa>1?"<a href='#' class='k-draghandle' title='"+X.rightDragHandleTitle+"'role='slider' aria-valuemin='"+X.min+"' aria-valuemax='"+X.max+"' aria-valuenow='"+(X.selectionEnd||X.max)+"'>Drag</a>":"")+"</div>"}function D(X){return function(Y){return Y+X}}function H(X){return function(){return X}}function l(X){return(X+"").replace(".",E.cultures.current.numberFormat["."])}function U(Y){Y=parseFloat(Y,10);var X=x.pow(10,k||0);return x.round(Y*X)/X}function t(Y,X){var Z=n(Y.getAttribute(X));if(Z===null){Z=j}return Z}function R(X){return typeof X!==C}var G=W.extend({init:function(Z,Y){var aa=this,X;Z.type="text";Y=h({},{value:t(Z,"value"),min:t(Z,"min"),max:t(Z,"max"),smallStep:t(Z,"step")},Y);Z=B(Z);if(Y&&Y.enabled===j){Y.enabled=!Z.is("[disabled]")}W.fn.init.call(aa,Z,Y);Y=aa.options;if(!R(Y.value)||Y.value===null){Y.value=Y.min;Z.val(Y.min)}Y.value=x.max(x.min(Y.value,Y.max),Y.min);X=aa.wrapper.find(e);new G.Selection(X,aa,Y);aa._drag=new G.Drag(X,"",aa,Y)},options:{name:"Slider",showButtons:true,increaseButtonTitle:"Increase",decreaseButtonTitle:"Decrease",dragHandleTitle:"drag",tooltip:{format:"{0}"},value:null},enable:function(aa){var ab=this,Z=ab.options,ac,Y;ab.disable();if(aa===false){return}ab.wrapper.removeClass(v).addClass(T);ab.wrapper.find("input").removeAttr(z);ac=function(af){var ah=o(af)[0];if(!ah){return}var ag=ab._isHorizontal?ah.location.pageX:ah.location.pageY,ad=ab._getDraggableArea(),ae=B(af.target);if(ae.hasClass("k-draghandle")){ae.addClass(q);return}ab._update(ab._getValueFromPosition(ag,ad));ab._focusWithMouse(af);ab._drag.dragstart(af);af.preventDefault()};ab.wrapper.find(F+", "+f).on(Q,ac).end().on(Q,function(){B(document.documentElement).one("selectstart",E.preventDefault)});ab.wrapper.find(e).attr(s,0).on(d,function(){ab._setTooltipTimeout()}).on(O,function(ad){ab._focusWithMouse(ad);ad.preventDefault()}).on(V,S(ab._focus,ab)).on(L,S(ab._blur,ab));Y=S(function(ad){var ae=ab._nextValueByIndex(ab._valueIndex+(ad*1));ab._setValueInRange(ae);ab._drag._updateTooltip(ae)},ab);if(Z.showButtons){var X=S(function(ae,ad){this._clearTooltipTimeout();if(ae.which===1||(N.touch&&ae.which===0)){Y(ad);this.timeout=setTimeout(S(function(){this.timer=setInterval(function(){Y(ad)},60)},this),200)}},ab);ab.wrapper.find(".k-button").on(d,S(function(ad){this._clearTimer();ab._focusWithMouse(ad)},ab)).on(g,function(ad){B(ad.currentTarget).addClass("k-state-hover")}).on("mouseout"+K,S(function(ad){B(ad.currentTarget).removeClass("k-state-hover");this._clearTimer()},ab)).eq(0).on(J,S(function(ad){X(ad,1)},ab)).click(false).end().eq(1).on(J,S(function(ad){X(ad,-1)},ab)).click(E.preventDefault)}ab.wrapper.find(e).off(u,false).on(u,S(this._keydown,ab));Z.enabled=true},disable:function(){var X=this;X.wrapper.removeClass(T).addClass(v);B(X.element).prop(z,z);X.wrapper.find(".k-button").off(J).on(J,E.preventDefault).off(d).on(d,E.preventDefault).off("mouseleave"+K).on("mouseleave"+K,E.preventDefault).off(g).on(g,E.preventDefault);X.wrapper.find(F+", "+f).off(Q);X.wrapper.find(e).attr(s,-1).off(d).off(u).off(O).off(V).off(L);X.options.enabled=false},_update:function(Y){var X=this,Z=X.value()!=Y;X.value(Y);if(Z){X.trigger(A,{value:X.options.value})}},value:function(Z){var Y=this,X=Y.options;Z=U(Z);if(isNaN(Z)){return X.value}if(Z>=X.min&&Z<=X.max){if(X.value!=Z){Y.element.prop("value",l(Z));X.value=Z;Y._refreshAriaAttr(Z);Y._refresh()}}},_refresh:function(){this.trigger(p,{value:this.options.value})},_refreshAriaAttr:function(aa){var Z=this,Y=Z._drag,X;if(Y&&Y._tooltipDiv){X=Y._tooltipDiv.text()}else{X=Z._getFormattedValue(aa,null)}this.wrapper.find(e).attr("aria-valuenow",aa).attr("aria-valuetext",X)},_clearTimer:function(){clearTimeout(this.timeout);clearInterval(this.timer)},_keydown:function(Y){var X=this;if(Y.keyCode in X._keyMap){X._clearTooltipTimeout();X._setValueInRange(X._keyMap[Y.keyCode](X.options.value));X._drag._updateTooltip(X.value());Y.preventDefault()}},_setValueInRange:function(Z){var Y=this,X=Y.options;Z=U(Z);if(isNaN(Z)){Y._update(X.min);return}Z=x.max(x.min(Z,X.max),X.min);Y._update(Z)},_nextValueByIndex:function(X){var Y=this._values.length;if(this._isRtl){X=Y-1-X}return this._values[x.max(0,x.min(X,Y-1))]},destroy:function(){var X=this;c.fn.destroy.call(X);X.wrapper.off(K).find(".k-button").off(K).end().find(e).off(K).end().find(F+", "+f).off(K).end();X._drag.draggable.destroy()}});G.Selection=function(X,Z,Y){function aa(ah){var ac=ah-Y.min,ab=Z._valueIndex=x.ceil(U(ac/Y.smallStep)),ae=parseInt(Z._pixelSteps[ab],10),ag=Z._trackDiv.find(".k-slider-selection"),ad=parseInt(X[Z._outerSize]()/2,10),af=Z._isRtl?2:0;ag[Z._size](Z._isRtl?Z._maxSelection-ae:ae);X.css(Z._position,ae-ad-af)}aa(Y.value);Z.bind([A,b,p],function(ab){aa(parseFloat(ab.value,10))})};G.Drag=function(Y,aa,X,Z){var ab=this;ab.owner=X;ab.options=Z;ab.dragHandle=Y;ab.dragHandleSize=Y[X._outerSize]();ab.type=aa;ab.draggable=new i(Y,{distance:0,dragstart:S(ab._dragstart,ab),drag:S(ab.drag,ab),dragend:S(ab.dragend,ab),dragcancel:S(ab.dragcancel,ab)});Y.click(false)};G.Drag.prototype={dragstart:function(X){this.draggable.userEvents._start(X)},_dragstart:function(aa){var Z=this,X=Z.owner,Y=Z.options;if(!Y.enabled){aa.preventDefault();return}X.element.off(g);Z.dragHandle.addClass(q);B(document.documentElement).css("cursor","pointer");Z.dragableArea=X._getDraggableArea();Z.step=x.max(Y.smallStep*(X._maxSelection/X._distance),0);if(Z.type){Z.selectionStart=Y.selectionStart;Z.selectionEnd=Y.selectionEnd;X._setZIndex(Z.type)}else{Z.oldVal=Z.val=Y.value}Z._removeTooltip(true);Z._createTooltip()},_createTooltip:function(){var ab=this,X=ab.owner,ad=ab.options.tooltip,Z="",aa=B(window),Y,ac;if(!ad.enabled){return}if(ad.template){Y=ab.tooltipTemplate=E.template(ad.template)}B(".k-slider-tooltip").remove();ab.tooltipDiv=B("<div class='k-widget k-tooltip k-slider-tooltip'><!-- --></div>").appendTo(document.body);Z=X._getFormattedValue(ab.val||X.value(),ab);if(!ab.type){ac="k-callout-"+(X._isHorizontal?"s":"e");ab.tooltipInnerDiv="<div class='k-callout "+ac+"'><!-- --></div>";Z+=ab.tooltipInnerDiv}ab.tooltipDiv.html(Z);ab._scrollOffset={top:aa.scrollTop(),left:aa.scrollLeft()};ab.moveTooltip()},drag:function(ad){var ac=this,Y=ac.owner,X=ad.x.location,ae=ad.y.location,ab=ac.dragableArea.startPoint,Z=ac.dragableArea.endPoint,aa;ad.preventDefault();if(Y._isHorizontal){if(Y._isRtl){ac.val=ac.constrainValue(X,ab,Z,X<Z)}else{ac.val=ac.constrainValue(X,ab,Z,X>=Z)}}else{ac.val=ac.constrainValue(ae,Z,ab,ae<=Z)}if(ac.oldVal!=ac.val){ac.oldVal=ac.val;if(ac.type){if(ac.type=="firstHandle"){if(ac.val<ac.selectionEnd){ac.selectionStart=ac.val}else{ac.selectionStart=ac.selectionEnd=ac.val}}else{if(ac.val>ac.selectionStart){ac.selectionEnd=ac.val}else{ac.selectionStart=ac.selectionEnd=ac.val}}aa={values:[ac.selectionStart,ac.selectionEnd],value:[ac.selectionStart,ac.selectionEnd]}}else{aa={value:ac.val}}Y.trigger(b,aa)}ac._updateTooltip(ac.val)},_updateTooltip:function(ab){var Z=this,X=Z.options,aa=X.tooltip,Y="";if(!aa.enabled){return}if(!Z.tooltipDiv){Z._createTooltip()}Y=Z.owner._getFormattedValue(U(ab),Z);if(!Z.type){Y+=Z.tooltipInnerDiv}Z.tooltipDiv.html(Y);Z.moveTooltip()},dragcancel:function(){this.owner._refresh();B(document.documentElement).css("cursor","");return this._end()},dragend:function(){var Y=this,X=Y.owner;B(document.documentElement).css("cursor","");if(Y.type){X._update(Y.selectionStart,Y.selectionEnd)}else{X._update(Y.val)}return Y._end()},_end:function(){var Y=this,X=Y.owner;X._focusWithMouse({target:Y.dragHandle[0]});X.element.on(g);return false},_removeTooltip:function(Y){var Z=this,X=Z.owner;if(Z.tooltipDiv&&X.options.tooltip.enabled&&X.options.enabled){if(Y){Z.tooltipDiv.remove();Z.tooltipDiv=null}else{Z.tooltipDiv.fadeOut("slow",function(){B(this).remove();Z.tooltipDiv=null})}}},moveTooltip:function(){var ae=this,Y=ae.owner,ai=0,Z=0,ah=ae.dragHandle,ac=E.getOffset(ah),ab=8,ag=B(window),aa=ae.tooltipDiv.find(".k-callout"),X=ae.tooltipDiv.outerWidth(),al=ae.tooltipDiv.outerHeight(),ad,aj,ak,af;if(ae.type){ad=Y.wrapper.find(e);ac=E.getOffset(ad.eq(0));aj=E.getOffset(ad.eq(1));if(Y._isHorizontal){ai=aj.top;Z=ac.left+((aj.left-ac.left)/2)}else{ai=ac.top+((aj.top-ac.top)/2);Z=aj.left}af=ad.eq(0).outerWidth()+2*ab}else{ai=ac.top;Z=ac.left;af=ah.outerWidth()+2*ab}if(Y._isHorizontal){Z-=parseInt((X-ah[Y._outerSize]())/2,10);ai-=al+aa.height()+ab}else{ai-=parseInt((al-ah[Y._outerSize]())/2,10);Z-=X+aa.width()+ab}if(Y._isHorizontal){ak=ae._flip(ai,al,af,ag.outerHeight()+ae._scrollOffset.top);ai+=ak;Z+=ae._fit(Z,X,ag.outerWidth()+ae._scrollOffset.left)}else{ak=ae._flip(Z,X,af,ag.outerWidth()+ae._scrollOffset.left);ai+=ae._fit(ai,al,ag.outerHeight()+ae._scrollOffset.top);Z+=ak}if(ak>0&&aa){aa.removeClass();aa.addClass("k-callout k-callout-"+(Y._isHorizontal?"n":"w"))}ae.tooltipDiv.css({top:ai,left:Z})},_fit:function(Y,aa,X){var Z=0;if(Y+aa>X){Z=X-(Y+aa)}if(Y<0){Z=-Y}return Z},_flip:function(ab,aa,Y,X){var Z=0;if(ab+aa>X){Z+=-(Y+aa)}if(ab+Z<0){Z+=Y+aa}return Z},constrainValue:function(Y,Z,X,ab){var aa=this,ac=0;if(Z<Y&&Y<X){ac=aa.owner._getValueFromPosition(Y,aa.dragableArea)}else{if(ab){ac=aa.options.max}else{ac=aa.options.min}}return ac}};E.ui.plugin(G);var P=W.extend({init:function(ab,aa){var ad=this,Y=B(ab).find("input"),X=Y.eq(0)[0],ac=Y.eq(1)[0];X.type="text";ac.type="text";aa=h({},{selectionStart:t(X,"value"),min:t(X,"min"),max:t(X,"max"),smallStep:t(X,"step")},{selectionEnd:t(ac,"value"),min:t(ac,"min"),max:t(ac,"max"),smallStep:t(ac,"step")},aa);if(aa&&aa.enabled===j){aa.enabled=!Y.is("[disabled]")}W.fn.init.call(ad,ab,aa);aa=ad.options;if(!R(aa.selectionStart)||aa.selectionStart===null){aa.selectionStart=aa.min;Y.eq(0).val(aa.min)}if(!R(aa.selectionEnd)||aa.selectionEnd===null){aa.selectionEnd=aa.max;Y.eq(1).val(aa.max)}var Z=ad.wrapper.find(e);new P.Selection(Z,ad,aa);ad._firstHandleDrag=new G.Drag(Z.eq(0),"firstHandle",ad,aa);ad._lastHandleDrag=new G.Drag(Z.eq(1),"lastHandle",ad,aa)},options:{name:"RangeSlider",leftDragHandleTitle:"drag",rightDragHandleTitle:"drag",tooltip:{format:"{0}"},selectionStart:null,selectionEnd:null},enable:function(Y){var Z=this,X=Z.options,aa;Z.disable();if(Y===false){return}Z.wrapper.removeClass(v).addClass(T);Z.wrapper.find("input").removeAttr(z);aa=function(ae){var ah=o(ae)[0];if(!ah){return}var ag=Z._isHorizontal?ah.location.pageX:ah.location.pageY,ac=Z._getDraggableArea(),af=Z._getValueFromPosition(ag,ac),ad=B(ae.target),ab;if(ad.hasClass("k-draghandle")){ad.addClass(q);return}if(af<X.selectionStart){Z._setValueInRange(af,X.selectionEnd);Z._firstHandleDrag.dragstart(ae);ab=0}else{if(af>Z.selectionEnd){Z._setValueInRange(X.selectionStart,af);Z._lastHandleDrag.dragstart(ae);ab=1}else{if(af-X.selectionStart<=X.selectionEnd-af){Z._setValueInRange(af,X.selectionEnd);Z._firstHandleDrag.dragstart(ae);ab=0}else{Z._setValueInRange(X.selectionStart,af);Z._lastHandleDrag.dragstart(ae);ab=1}}}Z._focusWithMouse({target:Z.wrapper.find(e)[ab]})};Z.wrapper.find(F+", "+f).on(Q,aa).end().on(Q,function(){B(document.documentElement).one("selectstart",E.preventDefault)});Z.wrapper.find(e).attr(s,0).on(d,function(){Z._setTooltipTimeout()}).on(O,function(ab){Z._focusWithMouse(ab);ab.preventDefault()}).on(V,S(Z._focus,Z)).on(L,S(Z._blur,Z));Z.wrapper.find(e).off(u,E.preventDefault).eq(0).on(u,S(function(ab){this._keydown(ab,"firstHandle")},Z)).end().eq(1).on(u,S(function(ab){this._keydown(ab,"lastHandle")},Z));Z.options.enabled=true},disable:function(){var X=this;X.wrapper.removeClass(T).addClass(v);X.wrapper.find("input").prop(z,z);X.wrapper.find(F+", "+f).off(Q);X.wrapper.find(e).attr(s,-1).off(d).off(u).off(O).off(V).off(L);X.options.enabled=false},_keydown:function(ac,ab){var aa=this,ae=aa.options.selectionStart,Y=aa.options.selectionEnd,X,ad,Z;if(ac.keyCode in aa._keyMap){aa._clearTooltipTimeout();if(ab=="firstHandle"){Z=aa._activeHandleDrag=aa._firstHandleDrag;ae=aa._keyMap[ac.keyCode](ae);if(ae>Y){Y=ae}}else{Z=aa._activeHandleDrag=aa._lastHandleDrag;Y=aa._keyMap[ac.keyCode](Y);if(ae>Y){ae=Y}}aa._setValueInRange(ae,Y);X=Math.max(ae,aa.options.selectionStart);ad=Math.min(Y,aa.options.selectionEnd);Z.selectionEnd=Math.max(ad,aa.options.selectionStart);Z.selectionStart=Math.min(X,aa.options.selectionEnd);Z._updateTooltip(aa.value()[aa._activeHandle]);ac.preventDefault()}},_update:function(Z,aa){var Y=this,X=Y.value();var ab=X[0]!=Z||X[1]!=aa;Y.value([Z,aa]);if(ab){Y.trigger(A,{values:[Z,aa],value:[Z,aa]})}},value:function(X){if(X&&X.length){return this._value(X[0],X[1])}else{return this._value()}},_value:function(ac,X){var Z=this,Y=Z.options,aa=Y.selectionStart,ab=Y.selectionEnd;if(isNaN(ac)&&isNaN(X)){return[aa,ab]}else{ac=U(ac);X=U(X)}if(ac>=Y.min&&ac<=Y.max&&X>=Y.min&&X<=Y.max&&ac<=X){if(aa!=ac||ab!=X){Z.element.find("input").eq(0).prop("value",l(ac)).end().eq(1).prop("value",l(X));Y.selectionStart=ac;Y.selectionEnd=X;Z._refresh();Z._refreshAriaAttr(ac,X)}}},values:function(Y,X){if(r(Y)){return this._value(Y[0],Y[1])}else{return this._value(Y,X)}},_refresh:function(){var Y=this,X=Y.options;Y.trigger(p,{values:[X.selectionStart,X.selectionEnd],value:[X.selectionStart,X.selectionEnd]});if(X.selectionStart==X.max&&X.selectionEnd==X.max){Y._setZIndex("firstHandle")}},_refreshAriaAttr:function(ac,X){var ab=this,Y=ab.wrapper.find(e),aa=ab._activeHandleDrag,Z;Z=ab._getFormattedValue([ac,X],aa);Y.eq(0).attr("aria-valuenow",ac);Y.eq(1).attr("aria-valuenow",X);Y.attr("aria-valuetext",Z)},_setValueInRange:function(Y,Z){var X=this.options;Y=x.max(x.min(Y,X.max),X.min);Z=x.max(x.min(Z,X.max),X.min);if(Y==X.max&&Z==X.max){this._setZIndex("firstHandle")}this._update(x.min(Y,Z),x.max(Y,Z))},_setZIndex:function(X){this.wrapper.find(e).each(function(Y){B(this).css("z-index",X=="firstHandle"?1-Y:Y)})},destroy:function(){var X=this;c.fn.destroy.call(X);X.wrapper.off(K).find(F+", "+f).off(K).end().find(e).off(K);X._firstHandleDrag.draggable.destroy();X._lastHandleDrag.draggable.destroy()}});P.Selection=function(X,aa,Z){function ab(ah){ah=ah||[];var ag=ah[0]-Z.min,ac=ah[1]-Z.min,af=x.ceil(U(ag/Z.smallStep)),ai=x.ceil(U(ac/Z.smallStep)),aj=aa._pixelSteps[af],ak=aa._pixelSteps[ai],ad=parseInt(X.eq(0)[aa._outerSize]()/2,10),ae=aa._isRtl?2:0;X.eq(0).css(aa._position,aj-ad-ae).end().eq(1).css(aa._position,ak-ad-ae);Y(aj,ak)}function Y(ae,af){var ac,ag,ad=aa._trackDiv.find(".k-slider-selection");ac=x.abs(ae-af);ad[aa._size](ac);if(aa._isRtl){ag=x.max(ae,af);ad.css("right",aa._maxSelection-ag-1)}else{ag=x.min(ae,af);ad.css(aa._position,ag-1)}}ab(aa.value());aa.bind([A,b,p],function(ac){ab(ac.values)})};E.ui.plugin(P)})(window.kendo.jQuery);kendo_module({id:"splitter",name:"Splitter",category:"web",description:"The Splitter widget provides an easy way to create a dynamic layout of resizable and collapsible panes.",depends:["resizable"]});(function(h,j){var t=window.kendo,s=t.ui,q=t.keys,A=h.extend,x=h.proxy,e=s.Widget,B=/^\d+(\.\d+)?px$/i,C=/^\d+(\.\d+)?%$/i,z=".kendoSplitter",c="expand",f="collapse",r="contentLoad",m="resize",F="layoutChange",G="horizontal",v="vertical",y="mouseenter",i="click",E="pane",l="mouseleave",n="k-state-focused",g="k-"+E,k="."+g;function u(H){return C.test(H)}function w(H){return B.test(H)||/^\d+$/.test(H)}function o(H){return !u(H)&&!w(H)}function D(H,I){return function(M,L){var K=this.element.find(M).data(E);if(arguments.length==1){return K[H]}K[H]=L;if(I){var J=this.element.data("kendoSplitter");J.trigger(m)}}}var d=e.extend({init:function(I,H){var J=this,K;e.fn.init.call(J,I,H);J.wrapper=J.element;K=J.options.orientation.toLowerCase()!=v;J.orientation=K?G:v;J._dimension=K?"width":"height";J._keys={decrease:K?q.LEFT:q.UP,increase:K?q.RIGHT:q.DOWN};J._resizeStep=10;J.bind(m,x(J._resize,J));J._marker=t.guid().substring(0,8);J._initPanes();J._resizeHandler=function(){J.trigger(m)};J._attachEvents();h(window).on("resize",J._resizeHandler);J.resizing=new a(J);J.element.triggerHandler("init.kendoSplitter")},events:[c,f,r,m,F],_attachEvents:function(){var J=this,H=J.options.orientation,I="> .k-splitbar-draggable-"+H;J.element.find(I).on("keydown"+z,h.proxy(J._keydown,J)).on("mousedown"+z,function(K){K.currentTarget.focus()}).on("focus"+z,function(K){h(K.currentTarget).addClass(n)}).on("blur"+z,function(K){h(K.currentTarget).removeClass(n);J.resizing.end()}).on(y+z,function(){h(this).addClass("k-splitbar-"+J.orientation+"-hover")}).on(l+z,function(){h(this).removeClass("k-splitbar-"+J.orientation+"-hover")}).on("mousedown"+z,function(){J._panes().append("<div class='k-splitter-overlay k-overlay' />")}).on("mouseup"+z,function(){J._panes().children(".k-splitter-overlay").remove()}).end().on(i+z,".k-splitbar .k-collapse-next, .k-splitbar .k-collapse-prev",J._arrowClick(f)).on(i+z,".k-splitbar .k-expand-next, .k-splitbar .k-expand-prev",J._arrowClick(c)).on("dblclick"+z,".k-splitbar",x(J._togglePane,J)).parent().closest(".k-splitter").each(function(){var K=h(this),L=K.data("kendoSplitter");if(L){L.bind(m,J._resizeHandler)}else{K.one("init"+z,function(){h(this).data("kendoSplitter").bind(m,J._resizeHandler);J._resizeHandler()})}})},options:{name:"Splitter",orientation:G,panes:[]},destroy:function(){var J=this,H=J.options.orientation,I="> .k-splitbar-draggable-"+H;e.fn.destroy.call(J);J.element.off(z).find(I).off(z);J.resizing.destroy();h(window).off("resize",J._resizeHandler);t.destroy(J.element)},_keydown:function(K){var J=this,P=K.keyCode,M=J.resizing,L=h(K.currentTarget),I=J._keys,O=P===I.increase,N=P===I.decrease,H;if(O||N){if(K.ctrlKey){H=L[N?"next":"prev"]();if(M.isResizing()){M.end()}if(!H[J._dimension]()){J._triggerAction(c,H)}else{J._triggerAction(f,L[N?"prev":"next"]())}}else{M.move((N?-1:1)*J._resizeStep,L)}K.preventDefault()}else{if(P===q.ENTER){M.end();K.preventDefault()}}},_initPanes:function(){var I=this,H=I.options.panes||[];I.element.addClass("k-widget").addClass("k-splitter").children().each(function(K,L){var J=H&&H[K];L=h(L).attr("role","group").addClass(g);L.data(E,J?J:{}).toggleClass("k-scrollable",J?J.scrollable!==false:true);I.ajaxRequest(L)}).end();I.trigger(m)},ajaxRequest:function(L,H,K){var I=this,J;L=I.element.find(L);J=L.data(E);H=H||J.contentUrl;if(H){L.append("<span class='k-icon k-loading k-pane-loading' />");if(t.isLocalUrl(H)){jQuery.ajax({url:H,data:K||{},type:"GET",dataType:"html",success:function(M){L.html(M);I.trigger(r,{pane:L[0]})}})}else{L.removeClass("k-scrollable").html("<iframe src='"+H+"' frameborder='0' class='k-content-frame'>This page requires frames in order to show content</iframe>")}}},_triggerAction:function(H,I){if(!this.trigger(H,{pane:I[0]})){this[H](I[0])}},_togglePane:function(K){var H=this,J=h(K.target),I;if(J.closest(".k-splitter")[0]!=H.element[0]){return}I=J.children(".k-icon:not(.k-resize-handle)");if(I.length!==1){return}if(I.is(".k-collapse-prev")){H._triggerAction(f,J.prev())}else{if(I.is(".k-collapse-next")){H._triggerAction(f,J.next())}else{if(I.is(".k-expand-prev")){H._triggerAction(c,J.prev())}else{if(I.is(".k-expand-next")){H._triggerAction(c,J.next())}}}}},_arrowClick:function(I){var H=this;return function(K){var J=h(K.target),L;if(J.closest(".k-splitter")[0]!=H.element[0]){return}if(J.is(".k-"+I+"-prev")){L=J.parent().prev()}else{L=J.parent().next()}H._triggerAction(I,L)}},_updateSplitBar:function(M,N,K){var I=function(R,S){return S?"<div class='k-icon "+R+"' />":""},H=this.orientation,Q=(N.resizable!==false)&&(K.resizable!==false),O=N.collapsible,J=N.collapsed,L=K.collapsible,P=K.collapsed;M.addClass("k-splitbar k-state-default k-splitbar-"+H).attr("role","separator").attr("aria-expanded",!(J||P)).removeClass("k-splitbar-"+H+"-hover").toggleClass("k-splitbar-draggable-"+H,Q&&!J&&!P).toggleClass("k-splitbar-static-"+H,!Q&&!O&&!L).html(I("k-collapse-prev",O&&!J&&!P)+I("k-expand-prev",O&&J&&!P)+I("k-resize-handle",Q)+I("k-collapse-next",L&&!P&&!J)+I("k-expand-next",L&&P&&!J))},_updateSplitBars:function(){var H=this;this.element.children(".k-splitbar").each(function(){var K=h(this),J=K.prev(k).data(E),I=K.next(k).data(E);if(!I){return}H._updateSplitBar(K,J,I)})},_panes:function(){return this.element.children(k)},_resize:function(){var O=this,I=O.element,N=I.children(":not(.k-splitbar)"),M=O.orientation==G,R=I.children(".k-splitbar"),W=R.length,L=M?"width":"height",S=I[L]();if(W===0){W=N.length-1;N.slice(0,W).after("<div tabindex='0' class='k-splitbar' data-marker='"+O._marker+"' />");O._updateSplitBars();R=I.children(".k-splitbar")}else{O._updateSplitBars()}R.each(function(){S-=this[M?"offsetWidth":"offsetHeight"]});var H=0,U=0,Y=h();N.css({position:"absolute",top:0})[L](function(){var Z=h(this).data(E)||{},aa;if(Z.collapsed){aa=0;h(this).css("overflow","hidden")}else{if(o(Z.size)){Y=Y.add(this);return}else{aa=parseInt(Z.size,10);if(u(Z.size)){aa=Math.floor(aa*S/100)}}}U++;H+=aa;return aa});S-=H;var Q=Y.length,K=Math.floor(S/Q);Y.slice(0,Q-1).css(L,K).end().eq(Q-1).css(L,S-(Q-1)*K);var J=0,P=M?"height":"width",X=M?"left":"top",V=M?"offsetWidth":"offsetHeight";if(Q===0){var T=N.filter(function(){return !((h(this).data(E)||{}).collapsed)}).last();T[L](S+T[0][V])}I.children().css(P,I[P]()).each(function(Z,aa){aa.style[X]=Math.floor(J)+"px";J+=aa[V]});O.trigger(F)},toggle:function(J,H){var I;J=this.element.find(J);I=J.data(E);if(!H&&!I.collapsible){return}if(arguments.length==1){H=I.collapsed===j?false:I.collapsed}I.collapsed=!H;if(I.collapsed){J.css("overflow","hidden")}else{J.css("overflow","")}this.trigger(m);this.resizing.destroy();this.resizing=new a(this)},collapse:function(H){this.toggle(H,false)},expand:function(H){this.toggle(H,true)},size:D("size",true),min:D("min"),max:D("max")});s.plugin(d);var b={sizingProperty:"height",sizingDomProperty:"offsetHeight",alternateSizingProperty:"width",positioningProperty:"top",mousePositioningProperty:"pageY"};var p={sizingProperty:"width",sizingDomProperty:"offsetWidth",alternateSizingProperty:"height",positioningProperty:"left",mousePositioningProperty:"pageX"};function a(J){var I=this,H=J.orientation;I.owner=J;I._element=J.element;I.orientation=H;A(I,H===G?p:b);I._resizable=new t.ui.Resizable(J.element,{orientation:H,handle:".k-splitbar-draggable-"+H+"[data-marker="+J._marker+"]",hint:x(I._createHint,I),start:x(I._start,I),max:x(I._max,I),min:x(I._min,I),invalidClass:"k-restricted-size-"+H,resizeend:x(I._stop,I)})}a.prototype={press:function(H){this._resizable.press(H)},move:function(I,H){if(!this.pressed){this.press(H);this.pressed=true}if(!this._resizable.target){this._resizable.press(H)}this._resizable.move(I)},end:function(){this._resizable.end();this.pressed=false},destroy:function(){this._resizable.destroy()},isResizing:function(){return this._resizable.resizing},_createHint:function(I){var H=this;return h("<div class='k-ghost-splitbar k-ghost-splitbar-"+H.orientation+" k-state-default' />").css(H.alternateSizingProperty,I[H.alternateSizingProperty]())},_start:function(Q){var N=this,O=h(Q.currentTarget),T=O.prev(),K=O.next(),I=T.data(E),H=K.data(E),P=parseInt(T[0].style[N.positioningProperty],10),J=parseInt(K[0].style[N.positioningProperty],10)+K[0][N.sizingDomProperty]-O[0][N.sizingDomProperty],V=parseInt(N._element.css(N.sizingProperty),10),U=function(W){var X=parseInt(W,10);return(w(W)?X:(V*X)/100)||0},S=U(I.min),M=U(I.max)||J-P,R=U(H.min),L=U(H.max)||J-P;N.previousPane=T;N.nextPane=K;N._maxPosition=Math.min(J-R,P+M);N._minPosition=Math.max(P+S,J-L)},_max:function(){return this._maxPosition},_min:function(){return this._minPosition},_stop:function(Q){var O=this,P=h(Q.currentTarget),J=O.owner;J._panes().children(".k-splitter-overlay").remove();if(Q.keyCode!==t.keys.ESC){var L=Q.position,S=P.prev(),M=P.next(),K=S.data(E),I=M.data(E),H=L-parseInt(S[0].style[O.positioningProperty],10),R=parseInt(M[0].style[O.positioningProperty],10)+M[0][O.sizingDomProperty]-L-P[0][O.sizingDomProperty],N=O._element.children(k).filter(function(){return o(h(this).data(E).size)}).length;if(!o(K.size)||N>1){if(o(K.size)){N--}K.size=H+"px"}if(!o(I.size)||N>1){I.size=R+"px"}J.trigger(m)}return false}}})(window.kendo.jQuery);kendo_module({id:"userevents",name:"User Events",category:"framework",depends:["core"],hidden:true});(function(h,l){var s=window.kendo,n=s.support,p=n.pointers,u=window.document,k=h(u.documentElement),y=s.Class,o=s.Observable,b=h.now,B=h.extend,c=n.mobileOS,t=c&&c.android,i="press",d="select",z="start",D="move",j="end",f="cancel",C="tap",q="gesturestart",a="gesturechange",g="gestureend",A="gesturetap";function x(L,K){var H=L.x.location,J=L.y.location,G=K.x.location,I=K.y.location,F=H-G,E=J-I;return{center:{x:(H+G)/2,y:(J+I)/2},distance:Math.sqrt(F*F+E*E)}}function w(K){var J=[],F=K.originalEvent,I=K.currentTarget,E=0,H,G,L;if(K.api){J.push({id:2,event:K,target:K.target,currentTarget:K.target,location:K})}else{if(K.type.match(/touch/)){G=F?F.changedTouches:[];for(H=G.length;E<H;E++){L=G[E];J.push({location:L,event:K,target:L.target,currentTarget:I,id:L.identifier})}}else{if(n.pointers){J.push({location:F,event:K,target:K.target,currentTarget:I,id:F.pointerId})}else{J.push({id:1,event:K,target:K.target,currentTarget:I,location:K})}}}return J}var m=y.extend({init:function(F,E){var G=this;G.axis=F;G._updateLocationData(E);G.startLocation=G.location;G.velocity=G.delta=0;G.timeStamp=b()},move:function(E){var G=this,I=E["page"+G.axis],F=b(),H=(F-G.timeStamp)||1;if(!I&&t){return}G.delta=I-G.location;G._updateLocationData(E);G.initialDelta=I-G.startLocation;G.velocity=G.delta/H;G.timeStamp=F},_updateLocationData:function(E){var G=this,F=G.axis;G.location=E["page"+F];G.client=E["client"+F];G.screen=E["screen"+F]}});var r=y.extend({init:function(G,H,E){var F=this;B(F,{x:new m("X",E.location),y:new m("Y",E.location),userEvents:G,target:H,currentTarget:E.currentTarget,initialTouch:E.target,id:E.id,_moved:false,_finished:false});F.notifyInit=function(){F._trigger(i,E)}},move:function(E){var F=this;if(F._finished){return}F.x.move(E.location);F.y.move(E.location);if(!F._moved){if(F._withinIgnoreThreshold()){return}if(!e.current||e.current===F.userEvents){F._start(E)}else{return F.dispose()}}if(!F._finished){F._trigger(D,E)}},end:function(E){var F=this;F.endTime=b();if(F._finished){return}if(F._moved){F._trigger(j,E)}else{F._trigger(C,E)}F.dispose()},dispose:function(){var F=this,E=F.userEvents,G=E.touches;F._finished=true;G.splice(h.inArray(F,G),1)},skip:function(){this.dispose()},cancel:function(){this.dispose()},isMoved:function(){return this._moved},_start:function(E){this.startTime=b();this._moved=true;this._trigger(z,E)},_trigger:function(F,G){var H=this,E=G.event,I={touch:H,x:H.x,y:H.y,target:H.target,event:E};if(H.userEvents.notify(F,I)){E.preventDefault()}},_withinIgnoreThreshold:function(){var F=this.x.initialDelta,E=this.y.initialDelta;return Math.sqrt(F*F+E*E)<=this.userEvents.threshold}});function v(G){G.preventDefault();var F=h(G.data.root),E=F.closest(".k-widget").parent();if(!E[0]){E=F.parent()}E.trigger(h.Event(G.type,{target:F[0]}))}var e=o.extend({init:function(G,N){var J=this,E,K=s.guid();N=N||{};E=J.filter=N.filter;J.threshold=N.threshold||0;J.touches=[];J._maxTouches=N.multiTouch?2:1;J.allowSelection=N.allowSelection;J.eventNS=K;G=h(G).handler(J);o.fn.init.call(J);B(J,{element:G,surface:N.global?k:N.surface||G,stopPropagation:N.stopPropagation,pressed:false});J.surface.handler(J).on(s.applyEventMap("move",K),"_move").on(s.applyEventMap("up cancel",K),"_end");G.on(s.applyEventMap("down",K),E,"_start");if(p){G.css("-ms-touch-action","pinch-zoom double-tap-zoom")}if(N.preventDragEvent){G.on(s.applyEventMap("dragstart",K),s.preventDefault)}G.on(s.applyEventMap("mousedown selectstart",K),E,{root:G},"_select");if(n.eventCapture){var H=s.eventMap.up.split(" "),M=0,F=H.length,I=J.surface[0],L=function(O){if(J._isMoved()){O.preventDefault()}};for(;M<F;M++){I.addEventListener(H[M],L,true)}}J.bind([i,C,z,D,j,f,q,a,g,A,d],N)},destroy:function(){var E=this;E.element.kendoDestroy(E.eventNS);E.surface.kendoDestroy(E.eventNS);E._disposeAll();E.unbind()},capture:function(){e.current=this},cancel:function(){this._disposeAll();this.trigger(f)},notify:function(E,G){var F=this,H=F.touches;if(this._isMultiTouch()){switch(E){case D:E=a;break;case j:E=g;break;case C:E=A;break}B(G,{touches:H},x(H[0],H[1]))}return this.trigger(E,G)},press:function(E,G,F){this._apiCall("_start",E,G,F)},move:function(E,F){this._apiCall("_move",E,F)},end:function(E,F){this._apiCall("_end",E,F)},_isMultiTouch:function(){return this.touches.length>1},_maxTouchesReached:function(){return this.touches.length>=this._maxTouches},_disposeAll:function(){h.each(this.touches,function(){this.dispose()})},_isMoved:function(){return h.grep(this.touches,function(E){return E.isMoved()}).length},_select:function(E){if(!this.allowSelection||this.trigger(d,{event:E})){v(E)}},_start:function(K){var H=this,E=0,F=H.filter,J,I=w(K),G=I.length,L;if(H._maxTouchesReached()){return}e.current=null;H.currentTarget=K.currentTarget;if(H.stopPropagation){K.stopPropagation()}for(;E<G;E++){if(H._maxTouchesReached()){break}L=I[E];if(F){J=h(L.currentTarget)}else{J=H.element}if(!J.length){continue}L=new r(H,J,L);H.touches.push(L);L.notifyInit();if(H._isMultiTouch()){H.notify("gesturestart",{})}}},_move:function(E){this._eachTouch("move",E)},_end:function(E){this._eachTouch("end",E)},_eachTouch:function(M,K){var J=this,F={},I=w(K),G=J.touches,N,H,L,E;for(N=0;N<G.length;N++){H=G[N];F[H.id]=H}for(N=0;N<I.length;N++){L=I[N];E=F[L.id];if(E){E[M](L)}}},_apiCall:function(F,E,H,G){this[F]({api:true,pageX:E,pageY:H,target:G||this.element,stopPropagation:h.noop,preventDefault:h.noop})}});s.getTouches=w;s.touchDelta=x;s.UserEvents=e})(window.kendo.jQuery);kendo_module({id:"draganddrop",name:"Drag & drop",category:"framework",description:"Drag & drop functionality for any DOM element.",depends:["core","userevents"]});(function(C,o){var D=window.kendo,H=D.support,h=window.document,a=D.Class,i=D.ui.Widget,g=D.Observable,M=D.UserEvents,O=C.proxy,n=C.extend,p=D.getOffset,q={},T={},d={},y,r=H.mobileOS,l=r&&r.android,v=(l&&r.browser=="chrome"),R="keyup",B="change",J="dragstart",w="drag",F="dragend",b="dragcancel",k="dragenter",u="dragleave",K="drop";function A(U,W){try{return C.contains(U,W)||U==W}catch(V){return false}}function G(U){if(v){return h.elementFromPoint(U.x.screen,U.y.screen)}else{return h.elementFromPoint(U.x.client,U.y.client)}}function z(U,V){return parseInt(U.css(V),10)||0}function N(V,U){return Math.min(Math.max(V,U.min),U.max)}function f(V,W){var Z=p(V),U=Z.left+z(V,"borderLeftWidth")+z(V,"paddingLeft"),aa=Z.top+z(V,"borderTopWidth")+z(V,"paddingTop"),Y=U+V.width()-W.outerWidth(true),X=aa+V.height()-W.outerHeight(true);return{x:{min:U,max:Y},y:{min:aa,max:X}}}function t(ab,V,W){var aa,Y,X=0,Z=V&&V.length,U=W&&W.length;while(ab&&ab.parentNode){for(X=0;X<Z;X++){aa=V[X];if(aa.element[0]===ab){return{target:aa,targetElement:ab}}}for(X=0;X<U;X++){Y=W[X];if(H.matchesSelector.call(ab,Y.options.filter)){return{target:Y,targetElement:ab}}}ab=ab.parentNode}return o}var Q=g.extend({init:function(V,U){var W=this,X=V[0];W.capture=false;C.each(D.eventMap.down.split(" "),function(){X.addEventListener(this,O(W._press,W),true)});C.each(D.eventMap.up.split(" "),function(){X.addEventListener(this,O(W._release,W),true)});g.fn.init.call(W);W.bind(["press","release"],U||{})},captureNext:function(){this.capture=true},cancelCapture:function(){this.capture=false},_press:function(V){var U=this;U.trigger("press");if(U.capture){V.preventDefault()}},_release:function(V){var U=this;U.trigger("release");if(U.capture){V.preventDefault();U.cancelCapture()}}});var x=g.extend({init:function(U){var V=this;g.fn.init.call(V);V.forcedEnabled=false;C.extend(V,U);V.scale=1;V.max=0;if(V.horizontal){V.measure="width";V.scrollSize="scrollWidth";V.axis="x"}else{V.measure="height";V.scrollSize="scrollHeight";V.axis="y"}},outOfBounds:function(U){return U>this.max||U<this.min},forceEnabled:function(){this.forcedEnabled=true},getSize:function(){return this.container[this.measure]()},getTotal:function(){return this.element[0][this.scrollSize]},rescale:function(U){this.scale=U},update:function(U){var Y=this,X=Y.getTotal(),W=X*Y.scale,V=Y.getSize();Y.size=V;Y.total=W;Y.min=Math.min(Y.max,Y.size-W);Y.minScale=Y.size/X;Y.enabled=Y.forcedEnabled||(W>V);if(!U){Y.trigger(B,Y)}}});var L=g.extend({init:function(U){var W=this,V=O(W.refresh,W);g.fn.init.call(W);W.x=new x(n({horizontal:true},U));W.y=new x(n({horizontal:false},U));W.forcedMinScale=U.minScale;W.bind(B,U);D.onResize(V)},rescale:function(U){this.x.rescale(U);this.y.rescale(U);this.refresh()},refresh:function(){var U=this;U.x.update();U.y.update();U.enabled=U.x.enabled||U.y.enabled;U.minScale=U.forcedMinScale||Math.max(U.x.minScale,U.y.minScale);U.trigger(B)}});var S=g.extend({init:function(U){var V=this;n(V,U);g.fn.init.call(V)},dragMove:function(Z){var W=this,Y=W.dimension,V=W.axis,X=W.movable,U=X[V]+Z;if(!Y.enabled){return}if((U<Y.min&&Z<0)||(U>Y.max&&Z>0)){Z*=W.resistance}X.translateAxis(V,Z);W.trigger(B,W)}});var E=a.extend({init:function(V){var X=this,U,Z,W,Y;n(X,{elastic:true},V);W=X.elastic?0.5:0;Y=X.movable;X.x=U=new S({axis:"x",dimension:X.dimensions.x,resistance:W,movable:Y});X.y=Z=new S({axis:"y",dimension:X.dimensions.y,resistance:W,movable:Y});X.userEvents.bind(["move","end","gesturestart","gesturechange"],{gesturestart:function(aa){X.gesture=aa},gesturechange:function(ae){var ac=X.gesture,ad=ac.center,aa=ae.center,ab=ae.distance/ac.distance,ag=X.dimensions.minScale,af;if(Y.scale<=ag&&ab<1){ab+=(1-ab)*0.8}af={x:(Y.x-ad.x)*ab+aa.x-Y.x,y:(Y.y-ad.y)*ab+aa.y-Y.y};Y.scaleWith(ab);U.dragMove(af.x);Z.dragMove(af.y);X.dimensions.rescale(Y.scale);X.gesture=ae},move:function(aa){if(U.dimension.enabled||Z.dimension.enabled){U.dragMove(aa.x.delta);Z.dragMove(aa.y.delta);aa.preventDefault()}else{aa.touch.skip()}},end:function(aa){aa.preventDefault()}})}});var I=H.transitions.prefix+"Transform",P=Math.round,e;if(H.hasHW3D){e=function(U,W,V){return"translate3d("+P(U)+"px,"+P(W)+"px,0) scale("+V+")"}}else{e=function(U,W,V){return"translate("+P(U)+"px,"+P(W)+"px) scale("+V+")"}}var s=g.extend({init:function(U){var V=this;g.fn.init.call(V);V.element=C(U);V.element[0].style.webkitTransformOrigin="left top";V.x=0;V.y=0;V.scale=1;V._saveCoordinates(e(V.x,V.y,V.scale))},translateAxis:function(U,V){this[U]+=V;this.refresh()},scaleTo:function(U){this.scale=U;this.refresh()},scaleWith:function(U){this.scale*=U;this.refresh()},translate:function(U){this.x+=U.x;this.y+=U.y;this.refresh()},moveAxis:function(U,V){this[U]=V;this.refresh()},moveTo:function(U){n(this,U);this.refresh()},refresh:function(){var U=this,V=e(U.x,U.y,U.scale);if(V!=U.coordinates){U.element[0].style[I]=V;U._saveCoordinates(V);U.trigger(B)}},_saveCoordinates:function(U){this.coordinates=U}});var j=i.extend({init:function(V,U){var W=this;i.fn.init.call(W,V,U);var X=W.options.group;if(!(X in T)){T[X]=[W]}else{T[X].push(W)}},events:[k,u,K],options:{name:"DropTarget",group:"default"},destroy:function(){var W=this.options.group,V=T[W]||d[W],U;if(V.length>1){i.fn.destroy.call(this);for(U=0;U<V.length;U++){if(V[U]==this){V.splice(U,1);break}}}else{j.destroyGroup(W)}},_trigger:function(V,X){var W=this,U=q[W.options.group];if(U){return W.trigger(V,n({},X.event,{draggable:U,dropTarget:X.dropTarget}))}},_over:function(U){this._trigger(k,U)},_out:function(U){this._trigger(u,U)},_drop:function(W){var V=this,U=q[V.options.group];if(U){U.dropped=!V._trigger(K,W)}}});j.destroyGroup=function(W){var V=T[W]||d[W],U;if(V){for(U=0;U<V.length;U++){i.fn.destroy.call(V[U])}V.length=0;delete T[W];delete d[W]}};j._cache=T;var c=j.extend({init:function(V,U){var W=this;i.fn.init.call(W,V,U);var X=W.options.group;if(!(X in d)){d[X]=[W]}else{d[X].push(W)}},options:{name:"DropTargetArea",group:"default",filter:null}});var m=i.extend({init:function(V,U){var W=this;i.fn.init.call(W,V,U);W.userEvents=new M(W.element,{global:true,stopPropagation:true,filter:W.options.filter,threshold:W.options.distance,start:O(W._start,W),move:O(W._drag,W),end:O(W._end,W),cancel:O(W._cancel,W)});W._afterEndHandler=O(W._afterEnd,W);W.captureEscape=function(X){if(X.keyCode===D.keys.ESC){W._trigger(b,{event:X});W.userEvents.cancel()}}},events:[J,w,F,b],options:{name:"Draggable",distance:5,group:"default",cursorOffset:null,axis:null,container:null,dropped:false},_updateHint:function(Z){var Y=this,aa,W=Y.options,V=Y.boundaries,X=W.axis,U=Y.options.cursorOffset;if(U){aa={left:Z.x.location+U.left,top:Z.y.location+U.top}}else{Y.hintOffset.left+=Z.x.delta;Y.hintOffset.top+=Z.y.delta;aa=C.extend({},Y.hintOffset)}if(V){aa.top=N(aa.top,V.y);aa.left=N(aa.left,V.x)}if(X==="x"){delete aa.top}else{if(X==="y"){delete aa.left}}Y.hint.css(aa)},_start:function(X){var W=this,V=W.options,U=V.container,Z=V.hint;W.currentTarget=X.target;W.currentTargetOffset=p(W.currentTarget);if(Z){if(W.hint){W.hint.stop(true,true).remove()}W.hint=C.isFunction(Z)?C(Z.call(W,W.currentTarget)):Z;var Y=p(W.currentTarget);W.hintOffset=Y;W.hint.css({position:"absolute",zIndex:20000,left:Y.left,top:Y.top}).appendTo(h.body)}q[V.group]=W;W.dropped=false;if(U){W.boundaries=f(U,W.hint)}if(W._trigger(J,X)){W.userEvents.cancel();W._afterEnd()}C(h).on(R,W.captureEscape)},_drag:function(V){var U=this;V.preventDefault();U._withDropTarget(V,function(X,W){if(!X){if(y){y._trigger(u,n(V,{dropTarget:C(y.targetElement)}));y=null}return}if(y){if(W===y.targetElement){return}y._trigger(u,n(V,{dropTarget:C(y.targetElement)}))}X._trigger(k,n(V,{dropTarget:C(W)}));y=n(X,{targetElement:W})});U._trigger(w,V);if(U.hint){U._updateHint(V)}},_end:function(V){var U=this;U._withDropTarget(V,function(X,W){if(X){X._drop(n({},V,{dropTarget:C(W)}));y=null}});U._trigger(F,V);U._cancel(V.event)},_cancel:function(){var U=this;if(U.hint&&!U.dropped){setTimeout(function(){U.hint.stop(true,true).animate(U.currentTargetOffset,"fast",U._afterEndHandler)},0)}else{U._afterEnd()}},_trigger:function(U,W){var V=this;return V.trigger(U,n({},W.event,{x:W.x,y:W.y,currentTarget:V.currentTarget,dropTarget:W.dropTarget}))},_withDropTarget:function(aa,ab){var Y=this,Z,U,X=Y.options,V=T[X.group],W=d[X.group];if(V&&V.length||W&&W.length){Z=G(aa);if(Y.hint&&A(Y.hint[0],Z)){Y.hint.hide();Z=G(aa);if(!Z){Z=G(aa)}Y.hint.show()}U=t(Z,V,W);if(U){ab(U.target,U.targetElement)}else{ab()}}},destroy:function(){var U=this;i.fn.destroy.call(U);U._afterEnd();U.userEvents.destroy()},_afterEnd:function(){var U=this;if(U.hint){U.hint.remove()}delete q[U.options.group];U.trigger("destroy");C(h).off(R,U.captureEscape)}});D.ui.plugin(j);D.ui.plugin(c);D.ui.plugin(m);D.TapCapture=Q;D.containerBoundaries=f;n(D.ui,{Pane:E,PaneDimensions:L,Movable:s})})(window.kendo.jQuery);kendo_module({id:"resizable",name:"Resizable",category:"framework",depends:["core","draganddrop"],advanced:true});(function(g,e){var j=window.kendo,l=j.ui,m=l.Widget,k=g.proxy,b=g.isFunction,i=g.extend,d="horizontal",f="vertical",n="start",a="resize",h="resizeend";var c=m.extend({init:function(p,o){var q=this;m.fn.init.call(q,p,o);q.orientation=q.options.orientation.toLowerCase()!=f?d:f;q._positionMouse=q.orientation==d?"x":"y";q._position=q.orientation==d?"left":"top";q._sizingDom=q.orientation==d?"outerWidth":"outerHeight";q.draggable=new l.Draggable(p,{distance:0,filter:o.handle,drag:k(q._resize,q),dragcancel:k(q._cancel,q),dragstart:k(q._start,q),dragend:k(q._stop,q)});q.userEvents=q.draggable.userEvents},events:[a,h,n],options:{name:"Resizable",orientation:d},_max:function(r){var q=this,o=q.hint?q.hint[q._sizingDom]():0,p=q.options.max;return b(p)?p(r):p!==e?(q._initialElementPosition+p)-o:p},_min:function(q){var p=this,o=p.options.min;return b(o)?o(q):o!==e?p._initialElementPosition+o:o},_start:function(q){var p=this,r=p.options.hint,o=g(q.currentTarget);p._initialElementPosition=o.position()[p._position];p._initialMousePosition=q[p._positionMouse].startLocation;if(r){p.hint=b(r)?g(r(o)):r;p.hint.css({position:"absolute"}).css(p._position,p._initialElementPosition).appendTo(p.element)}p.trigger(n,q);p._maxPosition=p._max(q);p._minPosition=p._min(q);g(document.body).css("cursor",o.css("cursor"))},_resize:function(s){var p=this,r=g(s.currentTarget),t=p._maxPosition,u=p._minPosition,q=p._initialElementPosition+(s[p._positionMouse].location-p._initialMousePosition),o;o=u!==e?Math.max(u,q):q;p.position=o=t!==e?Math.min(t,o):o;if(p.hint){p.hint.toggleClass(p.options.invalidClass||"",o==t||o==u).css(p._position,o)}p.resizing=true;p.trigger(a,i(s,{position:o}))},_stop:function(p){var o=this;if(o.hint){o.hint.remove()}o.resizing=false;o.trigger(h,i(p,{position:o.position}));g(document.body).css("cursor","")},_cancel:function(p){var o=this;if(o.hint){o.position=e;o.hint.css(o._position,o._initialElementPosition);o._stop(p)}},destroy:function(){var o=this;m.fn.destroy.call(o);if(o.draggable){o.draggable.destroy()}},press:function(q){if(!q){return}var o=q.position(),p=this;p.userEvents.press(o.left,o.top,q[0]);p.targetPosition=o;p.target=q},move:function(s){var q=this,p=q._position,o=q.targetPosition,r=q.position;if(r===e){r=o[p]}o[p]=r+s;q.userEvents.move(o.left,o.top)},end:function(){this.userEvents.end();this.target=this.position=e}});j.ui.plugin(c)})(window.kendo.jQuery);kendo_module({id:"treeview",name:"TreeView",category:"web",description:"The TreeView widget displays hierarchical data in a traditional tree structure,with support for interactive drag-and-drop operations.",depends:["data","draganddrop"]});(function(v,n){var x=window.kendo,B=x.ui,N=x.data,l=v.extend,f=x.template,r=v.isArray,e=B.Widget,i=N.HierarchicalDataSource,I=v.proxy,t=x.keys,z=".kendoTreeView",p="select",h="navigate",y="expand",u="change",a="checked",s="collapse",F="dragstart",q="drag",G="drop",A="dragend",j="dataBound",D="click",g="visibility",w="undefined",d="k-state-hover",H="k-treeview",Q=":visible",P=".k-item",J="string",k="aria-selected",o="aria-disabled",m,c,C,R,K={text:"dataTextField",url:"dataUrlField",spriteCssClass:"dataSpriteCssClassField",imageUrl:"dataImageUrlField"},M=function(S){return(typeof HTMLElement==="object"?S instanceof HTMLElement:S&&typeof S==="object"&&S.nodeType===1&&typeof S.nodeName===J)};function b(S){return function(U){var T=U.children(".k-animation-container");if(!T.length){T=U}return T.children(S)}}c=b(".k-group");C=b(".k-group,.k-content");R=function(S){return S.children("div").children(".k-icon")};function L(S){return S.children("div").find(".k-checkbox:first :checkbox")}function O(V){var Z=V.children("div"),Y=V.children("ul"),X=Z.children(".k-icon"),W=V.children(":checkbox"),U=Z.children(".k-in"),T,S;if(V.hasClass("k-treeview")){return}if(!Z.length){Z=v("<div />").prependTo(V)}if(!X.length&&Y.length){X=v("<span class='k-icon' />").prependTo(Z)}else{if(!Y.length||!Y.children().length){X.remove();Y.remove()}}if(W.length){v("<span class='k-checkbox' />").appendTo(Z).append(W)}if(!U.length){U=v("<span class='k-in' />").appendTo(Z)[0];T=Z[0].nextSibling;U=Z.find(".k-in")[0];while(T&&T.nodeName.toLowerCase()!="ul"){S=T;T=T.nextSibling;if(S.nodeType==3){S.nodeValue=v.trim(S.nodeValue)}U.appendChild(S)}}}m=e.extend({init:function(U,S){var W=this,V,T=false;if(r(S)){V=true;S={dataSource:S}}if(S&&typeof S.loadOnDemand==w&&r(S.dataSource)){S.loadOnDemand=false}e.prototype.init.call(W,U,S);U=W.element;S=W.options;T=U.is("ul")||U.hasClass(H);if(T){S.dataSource.list=U.is("ul")?U:U.children("ul")}W._animation();W._accessors();W._templates();if(!U.hasClass(H)){W._wrapper();if(T){W.root=U;W._group(W.wrapper)}}else{W.wrapper=U;W.root=U.children("ul").eq(0)}W._tabindex();if(!W.wrapper.filter("[role=tree]").length){W.wrapper.attr("role","tree")}W._dataSource(T);W._attachEvents();if(S.dragAndDrop){W.dragging=new E(W)}if(!T){if(S.autoBind){W._progress(true);W.dataSource.fetch()}}else{W._attachUids()}if(S.checkboxes&&S.checkboxes.checkChildren){W._updateIndeterminateInitial(W.wrapper)}if(W.element[0].id){W._ariaId=x.format("{0}_tv_active",W.element[0].id)}},_attachEvents:function(){var T=this,S=".k-in:not(.k-state-selected,.k-state-disabled)",U="mouseenter";T.wrapper.on(U+z,".k-in.k-state-selected",function(V){V.preventDefault()}).on(U+z,S,function(){v(this).addClass(d)}).on("mouseleave"+z,S,function(){v(this).removeClass(d)}).on(D+z,S,I(T._click,T)).on("dblclick"+z,".k-in:not(.k-state-disabled)",I(T._toggleButtonClick,T)).on(D+z,".k-plus,.k-minus",I(T._toggleButtonClick,T)).on("keydown"+z,I(T._keydown,T)).on("focus"+z,I(T._focus,T)).on("blur"+z,I(T._blur,T)).on("mousedown"+z,".k-in,.k-checkbox :checkbox,.k-plus,.k-minus",I(T._mousedown,T)).on("change"+z,".k-checkbox :checkbox",I(T._checkboxChange,T)).on("click"+z,".k-checkbox :checkbox",I(T._checkboxClick,T)).on("click"+z,function(V){if(!v(V.target).is(":focusable")){T.focus()}})},_checkboxClick:function(T){var S=v(T.target);if(S.data("indeterminate")){S.data("indeterminate",false).prop("indeterminate",false).prop(a,true);this._checkboxChange(T)}},_attachUids:function(S,V){var T=this,U,W=x.attr("uid");S=S||T.root;V=V||T.dataSource;U=V.view();S.children("li").each(function(X,Y){Y=v(Y).attr(W,U[X].uid);Y.attr("role","treeitem");T._attachUids(Y.children("ul"),U[X].children)})},_animation:function(){var S=this.options,T=S.animation;if(T===false){T={expand:{effects:{}},collapse:{hide:true,effects:{}}}}else{if(!T.collapse||!("effects" in T.collapse)){T.collapse=l({reverse:true},T.expand)}}l(T.collapse,{hide:true});S.animation=T},_templates:function(){var U=this,T=U.options,S=I(U._fieldAccessor,U);if(T.template&&typeof T.template==J){T.template=f(T.template)}else{if(!T.template){T.template=f("# var text = "+S("text")+"(item); ## if (typeof item.encoded != 'undefined' && item.encoded === false) {##= text ## } else { ##: text ## } #")}}U._checkboxes();U.templates={wrapperCssClass:function(Y,X){var V="k-item",W=X.index;if(Y.firstLevel&&W===0){V+=" k-first"}if(W==Y.length-1){V+=" k-last"}return V},cssClass:function(Y,X){var V="",W=X.index,Z=Y.length-1;if(Y.firstLevel&&W===0){V+="k-top "}if(W===0&&W!=Z){V+="k-top"}else{if(W==Z){V+="k-bot"}else{V+="k-mid"}}return V},textClass:function(W){var V="k-in";if(W.enabled===false){V+=" k-state-disabled"}if(W.selected===true){V+=" k-state-selected"}return V},toggleButtonClass:function(W){var V="k-icon";if(W.expanded!==true){V+=" k-plus"}else{V+=" k-minus"}if(W.enabled===false){V+="-disabled"}return V},groupAttributes:function(V){return V.expanded!==true?" style='display:none'":""},groupCssClass:function(W){var V="k-group";if(W.firstLevel){V+=" k-treeview-lines"}return V},dragClue:f("<div class='k-header k-drag-clue'><span class='k-icon k-drag-status'></span>#= treeview.template(data) #</div>"),group:f("<ul class='#= r.groupCssClass(group) #'#= r.groupAttributes(group) # role='group'>#= renderItems(data) #</ul>"),itemContent:f("# var imageUrl = "+S("imageUrl")+"(item); ## var spriteCssClass = "+S("spriteCssClass")+"(item); ## if (imageUrl) { #<img class='k-image' alt='' src='#= imageUrl #'># } ## if (spriteCssClass) { #<span class='k-sprite #= spriteCssClass #'></span># } ##= treeview.template(data) #"),itemElement:f("# var url = "+S("url")+"(item); #<div class='#= r.cssClass(group, item) #'># if (item.hasChildren) { #<span class='#= r.toggleButtonClass(item) #' role='presentation'></span># } ## if (treeview.checkboxes) { #<span class='k-checkbox' role='presentation'>#= treeview.checkboxes.template(data) #</span># } ## var tag = url ? 'a' : 'span'; ## var textAttr = url ? ' href=\\'' + url + '\\'' : ''; #<#=tag#  class='#= r.textClass(item) #'#= textAttr #>#= r.itemContent(data) #</#=tag#></div>"),item:f("<li role='treeitem' class='#= r.wrapperCssClass(group, item) #' "+x.attr("uid")+"='#= item.uid #'#=item.selected ? \"aria-selected='true'\" : ''##=item.enabled === false ? \"aria-disabled='true'\" : ''#>#= r.itemElement(data) #</li>"),loading:f("<div class='k-icon k-loading' /> Loading...")}},items:function(){return this.element.find(".k-item")},setDataSource:function(S){this.options.dataSource=S;this._dataSource();this.dataSource.fetch()},_dataSource:function(T){var V=this,U=V.options,W=U.dataSource;function S(Y){for(var X=0;X<Y.length;X++){Y[X]._initChildren();Y[X].children.fetch();S(Y[X].children.view())}}W=r(W)?{data:W}:W;if(V.dataSource&&V._refreshHandler){V.dataSource.unbind(u,V._refreshHandler)}else{V._refreshHandler=I(V.refresh,V)}if(!W.fields){W.fields=[{field:"text"},{field:"url"},{field:"spriteCssClass"},{field:"imageUrl"}]}V.dataSource=i.create(W);if(T){V.dataSource.fetch();S(V.dataSource.view())}V.dataSource.bind(u,V._refreshHandler)},events:[F,q,G,A,j,y,s,p,u,h],options:{name:"TreeView",dataSource:{},animation:{expand:{effects:"expand:vertical",duration:200},collapse:{duration:100}},dragAndDrop:false,checkboxes:false,autoBind:true,loadOnDemand:true,template:"",dataTextField:null},_accessors:function(){var W=this,T=W.options,V,X,S,U=W.element;for(V in K){X=T[K[V]];S=U.attr(x.attr(V+"-field"));if(!X&&S){X=S}if(!X){X=V}if(!r(X)){X=[X]}T[K[V]]=X}},_fieldAccessor:function(V){var T=this.options[K[V]],U=T.length,S="(function(item) {";if(U===0){S+="return item['"+V+"'];"}else{S+="var level = item.level();var levels = ["+v.map(T,function(W){return"function(d){ return "+x.expr(W)+"}"}).join(",")+"];";S+="return levels[Math.min(level, "+U+"-1)](item)"}S+="})";return S},setOptions:function(S){var T=this;if(("dragAndDrop" in S)&&S.dragAndDrop&&!T.options.dragAndDrop){T.dragging=new E(T)}e.fn.setOptions.call(T,S);T._animation();T._templates()},_trigger:function(S,T){return this.trigger(S,{node:T.closest(P)[0]})},_setIndeterminate:function(V){var W=c(V),X,U,T=true,S;if(!W.length){return}X=L(W.children());U=X.length;if(U>1){for(S=1;S<U;S++){if(X[S].checked!=X[S-1].checked||X[S].indeterminate||X[S-1].indeterminate){T=false;break}}}else{T=!X[0].indeterminate}L(V).data("indeterminate",!T).prop("indeterminate",!T).prop(a,T&&X[0].checked)},_updateIndeterminateInitial:function(T){var U=c(T).children(),S;if(U.length){for(S=0;S<U.length;S++){this._updateIndeterminateInitial(U.eq(S))}this._setIndeterminate(T)}},_updateIndeterminate:function(T){var S=this.parent(T),U;if(S.length){this._setIndeterminate(S);U=S.children("div").find(".k-checkbox > :checkbox");if(U.prop("indeterminate")===false){this.dataItem(S).set(a,U.prop(a))}else{this.dataItem(S).checked=false}this._updateIndeterminate(S)}},_checkboxChange:function(V){var U=v(V.target),W=U.prop(a),T=U.closest(P),S=this;S.dataItem(T).set(a,W)},_toggleButtonClick:function(S){this.toggle(v(S.target).closest(P))},_mousedown:function(T){var S=v(T.currentTarget).closest(P);this._clickTarget=S;this.current(S)},_focusable:function(S){return S&&S.length&&S.is(":visible")&&!S.find(".k-in:first").hasClass("k-state-disabled")},_focus:function(){var T=this.select(),S=this._clickTarget;if(x.support.touch){return}if(S&&S.length){T=S}if(!this._focusable(T)){T=this.current()}if(!this._focusable(T)){T=this._nextVisible(v())}this.current(T)},focus:function(){var V=this.wrapper,T=V[0],U,S=document.body;do{T=T.parentNode}while(T.scrollHeight<=T.clientHeight&&T!=S);U=T.scrollTop;V.focus();T.scrollTop=U},_blur:function(){this.current().find(".k-in:first").removeClass("k-state-focused")},_enabled:function(S){return !S.children("div").children(".k-in").hasClass("k-state-disabled")},parent:function(W){var U=/\bk-treeview\b/,V=/\bk-item\b/,S,T;if(typeof W==J){W=this.element.find(W)}if(!M(W)){W=W[0]}T=V.test(W.className);do{W=W.parentNode;if(V.test(W.className)){if(T){S=W}else{T=true}}}while(!U.test(W.className)&&!S);return v(S)},_nextVisible:function(V){var U=this,T=U._expanded(V),S;if(!V.length||!V.is(":visible")){S=U.root.children().eq(0)}else{if(T){S=c(V).children().first()}else{while(V.length&&!V.next().length){V=U.parent(V)}if(V.next().length){S=V.next()}else{S=V}}}if(!U._enabled(S)){S=U._nextVisible(S)}return S},_previousVisible:function(U){var T=this,S;if(!U.length||U.prev().length){if(U.length){S=U.prev()}else{S=T.root.children().last()}while(T._expanded(S)){S=c(S).children().last()}}else{S=T.parent(U)||U}if(!T._enabled(S)){S=T._previousVisible(S)}return S},_keydown:function(Z){var U=this,T=Z.keyCode,Y,X=U.current(),S=U._expanded(X),V=X.find(".k-checkbox:first :checkbox"),W=x.support.isRtl(U.element);if(Z.target!=Z.currentTarget){return}if((!W&&T==t.RIGHT)||(W&&T==t.LEFT)){if(S){Y=U._nextVisible(X)}else{U.expand(X)}}else{if((!W&&T==t.LEFT)||(W&&T==t.RIGHT)){if(S){U.collapse(X)}else{Y=U.parent(X);if(!U._enabled(Y)){Y=n}}}else{if(T==t.DOWN){Y=U._nextVisible(X)}else{if(T==t.UP){Y=U._previousVisible(X)}else{if(T==t.HOME){Y=U._nextVisible(v())}else{if(T==t.END){Y=U._previousVisible(v())}else{if(T==t.ENTER){if(!X.find(".k-in:first").hasClass("k-state-selected")){if(!U._trigger(p,X)){U.select(X)}}}else{if(T==t.SPACEBAR&&V.length){V.prop(a,!V.prop(a)).data("indeterminate",false).prop("indeterminate",false);U._checkboxChange({target:V});Y=X}}}}}}}}if(Y){Z.preventDefault();if(X[0]!=Y[0]){U._trigger(h,Y);U.current(Y)}}},_click:function(W){var V=this,U=v(W.target),T=C(U.closest(P)),S=U.attr("href"),X;if(S){X=S=="#"||S.indexOf("#"+this.element.id+"-")>=0}else{X=T.length&&!T.children().length}if(X){W.preventDefault()}if(!U.hasClass(".k-state-selected")&&!V._trigger(p,U)){V.select(U)}},_wrapper:function(){var V=this,U=V.element,W,T,S="k-widget k-treeview";if(U.is("div")){W=U;T=W.children("ul").eq(0)}else{W=U.wrap("<div />").parent();T=U}V.wrapper=W.addClass(S);V.root=T},_group:function(U){var T=this,W=U.hasClass(H),V={firstLevel:W,expanded:W||T._expanded(U)},S=U.children("ul");S.addClass(T.templates.groupCssClass(V)).css("display",V.expanded?"":"none");T._nodes(S,V)},_nodes:function(V,U){var W=this,S=V.children("li"),T;U=l({length:S.length},U);S.each(function(X,Y){Y=v(Y);T={index:X,expanded:W._expanded(Y)};O(Y);W._updateNodeClasses(Y,U,T);W._group(Y)})},_checkboxes:function(){var S=this.options,T=S.checkboxes,U;if(T||S.checkboxTemplate){if(S.checkboxTemplate){U=S.checkboxTemplate}else{U="<input type='checkbox' #= (item.enabled === false) ? 'disabled' : '' # #= item.checked ? 'checked' : '' #";if(T.name){U+=" name='"+T.name+"'"}U+=" />"}T=l({template:U},S.checkboxes);if(typeof T.template==J){T.template=f(T.template)}S.checkboxes=T}},_updateNodeClasses:function(V,T,S){var X=V.children("div"),W=V.children("ul"),U=this.templates;if(V.hasClass("k-treeview")){return}S=S||{};S.expanded=typeof S.expanded!=w?S.expanded:this._expanded(V);S.index=typeof S.index!=w?S.index:V.index();S.enabled=typeof S.enabled!=w?S.enabled:!X.children(".k-in").hasClass("k-state-disabled");T=T||{};T.firstLevel=typeof T.firstLevel!=w?T.firstLevel:V.parent().parent().hasClass(H);T.length=typeof T.length!=w?T.length:V.parent().children().length;V.removeClass("k-first k-last").addClass(U.wrapperCssClass(T,S));X.removeClass("k-top k-mid k-bot").addClass(U.cssClass(T,S));X.children(".k-in").removeClass("k-in k-state-default k-state-disabled").addClass(U.textClass(S));if(W.length||V.attr("data-hasChildren")=="true"){X.children(".k-icon").removeClass("k-plus k-minus k-plus-disabled k-minus-disabled").addClass(U.toggleButtonClass(S));W.addClass("k-group")}},_processNodes:function(S,U){var T=this;T.element.find(S).each(function(V,W){U.call(T,V,v(W).closest(P))})},dataItem:function(T){var S=v(T).closest(P).attr(x.attr("uid")),U=this.dataSource;return U&&U.getByUid(S)},_insertNode:function(S,ad,aa,ab,X){var ac=this,af=c(aa),ae=af.children().length+1,Z,W={firstLevel:aa.hasClass(H),expanded:!X,length:ae},V,Y,ag,U="",T=function(ah,ai){ah.appendTo(ai)};for(Y=0;Y<S.length;Y++){ag=S[Y];ag.index=ad+Y;U+=ac._renderItem({group:W,item:ag})}V=v(U);if(!V.length){return}if(!af.length){af=v(ac._renderGroup({group:W})).appendTo(aa)}ab(V,af);if(aa.hasClass("k-item")){O(aa);ac._updateNodeClasses(aa)}ac._updateNodeClasses(V.prev().first());ac._updateNodeClasses(V.next().last());for(Y=0;Y<S.length;Y++){ag=S[Y];if(ag.hasChildren){Z=ag.children.data();if(Z.length){ac._insertNode(Z,ag.index,V.eq(Y),T,!ac._expanded(V.eq(Y)))}}}return V},_updateNode:function(aa,Z){var Y=this,V,T,ab,U,W,S={treeview:Y.options,item:ab};function X(){Y.dataItem(this).set(a,U)}if(aa=="selected"){ab=Z[0];T=Y.findByUid(ab.uid).find(".k-in:first").removeClass("k-state-hover").toggleClass("k-state-selected",ab[aa]).end();if(ab[aa]){Y.current(T);T.attr(k,true)}else{T.attr(k,false)}}else{for(V=0;V<Z.length;V++){S.item=ab=Z[V];if(aa=="spriteCssClass"||aa=="imageUrl"||v.inArray(aa,Y.options.dataTextField)>=0){Y.findByUid(ab.uid).find(">div>.k-in").html(Y.templates.itemContent(S))}else{if(aa==a){T=Y.findByUid(ab.uid);U=ab[aa];T.children("div").find(".k-checkbox :checkbox").prop(a,ab[aa]).data("indeterminate",false).prop("indeterminate",false);if(Y.options.checkboxes.checkChildren){T.find(".k-checkbox :checkbox").each(X);Y._updateIndeterminate(T)}}else{if(aa=="expanded"){Y._toggle(Y.findByUid(ab.uid),ab,ab[aa])}else{if(aa=="enabled"){T=Y.findByUid(ab.uid);T.find(".k-checkbox :checkbox").prop("disabled",!ab[aa]);W=!C(T).is(Q);T.removeAttr(o);if(!ab[aa]){if(ab.selected){ab.set("selected",false)}if(ab.expanded){ab.set("expanded",false)}W=true;T.removeAttr(k).attr(o,true)}Y._updateNodeClasses(T,{},{enabled:ab[aa],expanded:!W})}}}}}}},refresh:function(ab){var Z=this,Y=Z.wrapper,T=ab.node,W=ab.action,ac=ab.items,aa=ab.index,ad=Z.options,V=ad.loadOnDemand,U=ad.checkboxes&&ad.checkboxes.checkChildren,X;function S(af,ae){var ah=c(ae),ag=ah.children(),ai=!Z._expanded(ae);if(typeof aa==w){aa=ag.length}Z._insertNode(af,aa,ae,function(aj,ak){if(aa==ag.length){aj.appendTo(ak)}else{aj.insertBefore(ag.eq(aa))}},ai);if(Z._expanded(ae)){Z._updateNodeClasses(ae);c(ae).css("display","block")}}if(ab.field){return Z._updateNode(ab.field,ac)}if(T){Y=Z.findByUid(T.uid);Z._progress(Y,false)}if(U&&W!="remove"&&T&&T.checked){for(X=0;X<ac.length;X++){ac[X].checked=true}}if(W=="add"){S(ac,Y)}else{if(W=="remove"){Z._remove(Z.findByUid(ac[0].uid),false)}else{if(T){c(Y).empty();S(ac,Y)}else{Z.root=Z.wrapper.html(Z._renderGroup({items:ac,group:{firstLevel:true,expanded:true}})).children("ul")}}}for(X=0;X<ac.length;X++){if(!V||ac[X].expanded){ac[X].load()}}Z.trigger(j,{node:T?Y:n})},expand:function(S){this._processNodes(S,function(T,U){this.toggle(U,true)})},collapse:function(S){this._processNodes(S,function(T,U){this.toggle(U,false)})},enable:function(S,T){T=arguments.length==2?!!T:true;this._processNodes(S,function(U,V){this.dataItem(V).set("enabled",T)})},current:function(U){var T=this,V=T._current,S=T.element,W=T._ariaId;if(arguments.length>0&&U&&U.length){if(V){if(V[0].id===W){V.removeAttr("id")}V.find(".k-in:first").removeClass("k-state-focused")}V=T._current=v(U,S).closest(P);V.find(".k-in:first").addClass("k-state-focused");W=V[0].id||W;if(W){T.wrapper.removeAttr("aria-activedescendant");V.attr("id",W);T.wrapper.attr("aria-activedescendant",W)}return}if(!V){V=T._nextVisible(v())}return V},select:function(U){var T=this,S=T.element;if(!arguments.length){return S.find(".k-state-selected").closest(P)}U=v(U,S).closest(P);S.find(".k-state-selected").each(function(){var V=T.dataItem(this);V.set("selected",false);delete V.selected});if(U.length){T.dataItem(U).set("selected",true)}T.trigger(u)},_toggle:function(T,S,Z){var X=this,aa=X.options,U=C(T),Y=Z?"expand":"collapse",V=aa.animation[Y],W;if(U.data("animating")){return}if(!X._trigger(Y,T)){X._expanded(T,Z);W=S&&S.loaded();if(W&&U.children().length>0){X._updateNodeClasses(T,{},{expanded:Z});if(U.css("display")==(Z?"block":"none")){return}if(!Z){U.css("height",U.height()).css("height")}U.kendoStop(true,true).kendoAnimate(l({reset:true},V,{complete:function(){if(Z){U.css("height","")}}}))}else{if(!W||(W&&Z)){if(aa.loadOnDemand){X._progress(T,true)}U.remove();S.load()}}}},toggle:function(T,S){T=v(T);if(!R(T).is(".k-minus,.k-plus,.k-minus-disabled,.k-plus-disabled")){return}if(arguments.length==1){S=!this._expanded(T)}this._expanded(T,S)},destroy:function(){var S=this;e.fn.destroy.call(S);S.element.off(z);if(S.dragging){S.dragging.destroy()}x.destroy(S.element)},_expanded:function(U,V){var T=x.attr("expanded"),S=this.dataItem(U);if(arguments.length==1){return U.attr(T)==="true"||(S&&S.expanded)}if(C(U).data("animating")){return}if(S){S.set("expanded",V)}if(V){U.attr(T,"true");U.attr("aria-expanded","true")}else{U.removeAttr(T);U.attr("aria-expanded","false")}},_progress:function(T,U){var S=this.element;if(arguments.length==1){U=T;if(U){S.html(this.templates.loading)}else{S.empty()}}else{R(T).toggleClass("k-loading",U)}},text:function(V,X){var T=this.dataItem(V),S=this.options[K.text],Y=T.level(),U=S.length,W=S[Math.min(Y,U-1)];if(X){T.set(W,X)}else{return T[W]}},_objectOrSelf:function(S){return v(S).closest("[data-role=treeview]").data("kendoTreeView")||this},_dataSourceMove:function(W,X,U,Y){var T,S=this._objectOrSelf(U||X),V=S.dataSource;if(U&&U[0]!=S.element[0]){T=S.dataItem(U);if(!T.loaded()){S._progress(U,true);T.load()}if(U!=this.root){V=T.children;if(!V||!(V instanceof i)){T._initChildren();V=T.children}}}W=this._toObservableData(W);return Y.call(this,V,W)},_toObservableData:function(U){var S=U,V,T;if(U instanceof window.jQuery||M(U)){V=this._objectOrSelf(U).dataSource,T=v(U).attr(x.attr("uid"));S=V.getByUid(T);if(S){S=V.remove(S)}}return S},_insert:function(U,T,S){if(!(T instanceof x.data.ObservableArray)){if(!r(T)){T=[T]}}else{T=T.toJSON()}U.splice.apply(U,[S,0].concat(T));return this.findByUid(U[S].uid)},insertAfter:function(U,T){var V=T.parent(),S;if(V.parent().is("li")){S=V.parent()}return this._dataSourceMove(U,V,S,function(X,W){return this._insert(X.data(),W,T.index()+1)})},insertBefore:function(U,T){var V=T.parent(),S;if(V.parent().is("li")){S=V.parent()}return this._dataSourceMove(U,V,S,function(X,W){return this._insert(X.data(),W,T.index())})},append:function(T,S){var U=this,V=U.root;if(S){V=c(S)}return U._dataSourceMove(T,V,S,function(Y,W){function X(){var aa=Y.data(),Z=Math.max(aa.length,0);if(S){U._expanded(S,true)}return U._insert(aa,W,Z)}if(!Y.data()){Y.one(u,X);return null}else{return X()}})},_remove:function(V,X){var U=this,S,T,W;V=v(V,U.element);S=V.parent().parent();T=V.prev();W=V.next();V[X?"detach":"remove"]();if(S.hasClass("k-item")){O(S);U._updateNodeClasses(S)}U._updateNodeClasses(T);U._updateNodeClasses(W);return V},remove:function(T){var S=this.dataItem(T);if(S){this.dataSource.remove(S)}},detach:function(S){return this._remove(S,true)},findByText:function(S){return v(this.element).find(".k-in").filter(function(U,T){return v(T).text()==S}).closest(P)},findByUid:function(S){return this.element.find(".k-item["+x.attr("uid")+"="+S+"]")},_renderItem:function(S){if(!S.group){S.group={}}S.treeview=this.options;S.r=this.templates;return this.templates.item(S)},_renderGroup:function(S){var T=this;S.renderItems=function(W){var Y="",X=0,V=W.items,U=V?V.length:0,Z=W.group;Z.length=U;for(;X<U;X++){W.group=Z;W.item=V[X];W.item.index=X;Y+=T._renderItem(W)}return Y};S.r=T.templates;return T.templates.group(S)}});function E(S){var T=this;T.treeview=S;T.hovered=S.element;T._draggable=new B.Draggable(S.element,{filter:"div:not(.k-state-disabled) .k-in",hint:function(U){return S.templates.dragClue({item:S.dataItem(U),treeview:S.options})},cursorOffset:{left:10,top:x.support.touch||x.support.pointers?-40/x.support.zoomLevel():10},dragstart:I(T.dragstart,T),dragcancel:I(T.dragcancel,T),drag:I(T.drag,T),dragend:I(T.dragend,T)})}E.prototype={_removeTouchHover:function(){var S=this;if(x.support.touch&&S.hovered){S.hovered.find("."+d).removeClass(d);S.hovered=false}},_hintStatus:function(S){var T=this._draggable.hint.find(".k-drag-status")[0];if(S){T.className="k-icon k-drag-status "+S}else{return v.trim(T.className.replace(/k-(icon|drag-status)/g,""))}},dragstart:function(V){var U=this,T=U.treeview,S=U.sourceNode=V.currentTarget.closest(P);if(T.trigger(F,{sourceNode:S[0]})){V.preventDefault()}U.dropHint=v("<div class='k-drop-hint' />").css(g,"hidden").appendTo(T.element)},drag:function(ad){var aa=this,ag=aa.treeview,V=aa.sourceNode,S=aa.dropTarget=v(x.eventTarget(ad)),Y,T=S.closest(".k-treeview"),ac,X,U,ah,ab,af,ae,Z,W;if(!T.length){Y="k-denied";aa._removeTouchHover()}else{if(v.contains(V[0],S[0])){Y="k-denied"}else{Y="k-insert-middle";ac=S.closest(".k-top,.k-mid,.k-bot");if(ac.length){U=ac.outerHeight();ah=x.getOffset(ac).top;ab=S.closest(".k-in");af=U/(ab.length>0?4:2);ae=ad.y.location<(ah+af);Z=(ah+U-af)<ad.y.location;aa._removeTouchHover();W=ab.length&&!ae&&!Z;aa.hovered=W?T:false;aa.dropHint.css(g,W?"hidden":"visible");ab.toggleClass(d,W);if(W){Y="k-add"}else{X=ac.position();X.top+=ae?0:U;aa.dropHint.css(X)[ae?"prependTo":"appendTo"](S.closest(P).children("div:first"));if(ae&&ac.hasClass("k-top")){Y="k-insert-top"}if(Z&&ac.hasClass("k-bot")){Y="k-insert-bottom"}}}else{if(S[0]!=aa.dropHint[0]){if(T[0]!=ag.element[0]){Y="k-add"}else{Y="k-denied"}}}}}ag.trigger(q,{sourceNode:V[0],dropTarget:S[0],pageY:ad.y.location,pageX:ad.x.location,statusClass:Y.substring(2),setStatusClass:function(ai){Y=ai}});if(Y.indexOf("k-insert")!==0){aa.dropHint.css(g,"hidden")}aa._hintStatus(Y)},dragcancel:function(){this.dropHint.remove()},dragend:function(){var X=this,Z=X.treeview,aa="over",V=X.sourceNode,U,Y=X.dropHint,S=X.dropTarget,T,W;if(Y.css(g)=="visible"){aa=Y.prevAll(".k-in").length>0?"after":"before";U=Y.closest(P)}else{if(S){U=S.closest(P);if(!U.length){U=S.closest(".k-treeview")}}}T=X._hintStatus()!="k-denied";W=Z.trigger(G,{sourceNode:V[0],destinationNode:U[0],valid:T,setValid:function(ab){T=ab},dropTarget:S[0],dropPosition:aa});Y.remove();X._removeTouchHover();if(!T||W){X._draggable.dropped=T;return}X._draggable.dropped=true;if(aa=="over"){V=Z.append(V,U)}else{if(aa=="before"){V=Z.insertBefore(V,U)}else{if(aa=="after"){V=Z.insertAfter(V,U)}}}Z.trigger(A,{sourceNode:V&&V[0],destinationNode:U[0],dropPosition:aa})},destroy:function(){this._draggable.destroy()}};B.plugin(m)})(window.kendo.jQuery);