if(!window.requestAnimationFrame)window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(o){window.setTimeout(o,1E3/60)}}();var Stats=function(){function o(a,g,d){var f,c,e;for(c=0;c<30;c++)for(f=0;f<73;f++)e=(f+c*74)*4,a[e]=a[e+4],a[e+1]=a[e+5],a[e+2]=a[e+6];for(c=0;c<30;c++)e=(73+c*74)*4,c<g?(a[e]=b[d].bg.r,a[e+1]=b[d].bg.g,a[e+2]=b[d].bg.b):(a[e]=b[d].fg.r,a[e+1]=b[d].fg.g,a[e+2]=b[d].fg.b)}var p=0,g,r=0,i=(new Date).getTime(),z=i,s=i,k=0,t=1E3,u=0,j,d,a,l,v,m=0,w=1E3,x=0,f,c,n,y,h,q,b={fps:{bg:{r:16,g:16,b:48},fg:{r:0,g:255,b:255}},ms:{bg:{r:16,g:48,b:16},fg:{r:0,g:255,b:0}},mb:{bg:{r:48,g:16,b:26},fg:{r:255,g:0,b:128}}};
g=document.createElement("div");g.style.cursor="pointer";g.style.width="80px";g.style.opacity="0.9";g.style.zIndex="10001";g.addEventListener("click",function(){p++;p==2&&(p=0);j.style.display="none";f.style.display="none";h.style.display="none";switch(p){case 0:j.style.display="block";break;case 1:f.style.display="block";break;case 2:h.style.display="block"}},!1);j=document.createElement("div");j.style.backgroundColor="rgb("+Math.floor(b.fps.bg.r/2)+","+Math.floor(b.fps.bg.g/2)+","+Math.floor(b.fps.bg.b/
2)+")";j.style.padding="2px 0px 3px 0px";g.appendChild(j);d=document.createElement("div");d.style.fontFamily="Helvetica, Arial, sans-serif";d.style.textAlign="left";d.style.fontSize="9px";d.style.color="rgb("+b.fps.fg.r+","+b.fps.fg.g+","+b.fps.fg.b+")";d.style.margin="0px 0px 1px 3px";d.innerHTML='<span style="font-weight:bold">FPS</span>';j.appendChild(d);a=document.createElement("canvas");a.width=74;a.height=30;a.style.display="block";a.style.marginLeft="3px";j.appendChild(a);l=a.getContext("2d");
l.fillStyle="rgb("+b.fps.bg.r+","+b.fps.bg.g+","+b.fps.bg.b+")";l.fillRect(0,0,a.width,a.height);v=l.getImageData(0,0,a.width,a.height);f=document.createElement("div");f.style.backgroundColor="rgb("+Math.floor(b.ms.bg.r/2)+","+Math.floor(b.ms.bg.g/2)+","+Math.floor(b.ms.bg.b/2)+")";f.style.padding="2px 0px 3px 0px";f.style.display="none";g.appendChild(f);c=document.createElement("div");c.style.fontFamily="Helvetica, Arial, sans-serif";c.style.textAlign="left";c.style.fontSize="9px";c.style.color=
"rgb("+b.ms.fg.r+","+b.ms.fg.g+","+b.ms.fg.b+")";c.style.margin="0px 0px 1px 3px";c.innerHTML='<span style="font-weight:bold">MS</span>';f.appendChild(c);a=document.createElement("canvas");a.width=74;a.height=30;a.style.display="block";a.style.marginLeft="3px";f.appendChild(a);n=a.getContext("2d");n.fillStyle="rgb("+b.ms.bg.r+","+b.ms.bg.g+","+b.ms.bg.b+")";n.fillRect(0,0,a.width,a.height);y=n.getImageData(0,0,a.width,a.height);h=document.createElement("div");h.style.backgroundColor="rgb("+Math.floor(b.mb.bg.r/
2)+","+Math.floor(b.mb.bg.g/2)+","+Math.floor(b.mb.bg.b/2)+")";h.style.padding="2px 0px 3px 0px";h.style.display="none";g.appendChild(h);a=document.createElement("div");a.style.fontFamily="Helvetica, Arial, sans-serif";a.style.textAlign="left";a.style.fontSize="9px";a.style.color="rgb("+b.mb.fg.r+","+b.mb.fg.g+","+b.mb.fg.b+")";a.style.margin="0px 0px 1px 3px";a.innerHTML='<span style="font-weight:bold">MB</span>';h.appendChild(a);a=document.createElement("canvas");a.width=74;a.height=30;a.style.display=
"block";a.style.marginLeft="3px";h.appendChild(a);q=a.getContext("2d");q.fillStyle="#301010";q.fillRect(0,0,a.width,a.height);q.getImageData(0,0,a.width,a.height);return{domElement:g,update:function(){r++;i=(new Date).getTime();m=i-z;w=Math.min(w,m);x=Math.max(x,m);o(y.data,Math.min(30,30-m/200*30),"ms");c.innerHTML='<span style="font-weight:bold">'+m+" MS</span> ("+w+"-"+x+")";n.putImageData(y,0,0);z=i;if(i>s+1E3)k=Math.round(r*1E3/(i-s)),t=Math.min(t,k),u=Math.max(u,k),o(v.data,Math.min(30,30-k/
100*30),"fps"),d.innerHTML='<span style="font-weight:bold">'+k+" FPS</span> ("+t+"-"+u+")",l.putImageData(v,0,0),s=i,r=0}}};
